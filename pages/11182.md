
# Cogerm differential forms
* table of contents
{: toc}

## Idea

A cogerm differential form is a vast generalization of the usual exterior [[differential forms]], which includes also [[absolute differential forms]], as well as "higher" differential forms such as $d^2x$ and a commutative differential operator (at least in the case of 1-forms).


## Definition

Let $X$ be a [[set]].  Usually, $X$ will be a [[manifold]] or a [[generalized smooth space]], but the definition does not require this.

By a *[[curve]]* in $X$ we mean a function $c:(-\epsilon,\epsilon)\to X$ for some real number $\epsilon\gt 0$.  Two curves $c:(-\epsilon,\epsilon)\to X$ and $c':(-\epsilon',\epsilon')\to X$ have the same *[[germ]]* (at 0) if there exists $\epsilon'' \le min(\epsilon,\epsilon')$ such that $c$ and $c'$ agree when restricted to $(-\epsilon'',\epsilon'')$.  Let $C X$ denote the set of germs of curves in $X$, i.e. the [[quotient]] of the set of curves in $X$ by the [[equivalence relation]] "has the same germ as".

+-- {: .un_defn}
###### Definition
A (partial) **cogerm differential 1-form** on $X$ is a [[partial function]] $\omega : C X \to \mathbb{R}$.  We write the action of $\omega$ on a curve $c$ (or germ thereof) as $\langle \omega | c \rangle$.
=--


## Examples

If $f: X\to \mathbb{R}$ is a function, then it defines a cogerm differential 1-form, also denoted $f$, by evaluation at $0$:

$$ \langle f | c \rangle = (f\circ c)(0).$$

This is defined on *all* germs.  We also have the differential of $f$, denoted $\mathrm{d}f$, defined by

$$ \langle \mathrm{d}f | c \rangle = (f\circ c)'(0)$$

which is defined on all germs $c$ having the property that $f\circ c$ is differentiable at $0$.  In particular, if $f$ is smooth (for $X$ a [[smooth space]]), then $\mathrm{d}f$ is defined on all smooth germs.

When $X$ is a [[differentiable manifold]], $ \langle \mathrm{d}f | c \rangle$ depends only on the [[tangent vector]] of $c$ at $0$.  More generally, any real-valued function on the [[tangent bundle]] of $X$ can be regarded as a cogerm differential 1-form; this includes in particular all [[differential form|exterior differential 1-forms]].

We also have the second differential $\mathrm{d}^2f$, defined by

$$ \langle \mathrm{d}^2f | c \rangle = (f\circ c)''(0),$$

which depends only on the 2-[[jet]] of $c$ at $0$.  We can similarly consider higher differentials which depend on higher jets.  A cogerm differential 1-form which depends only on the jet of $c$ may be called a *[[cojet differential 1-form]]*.

For an example of a cogerm differential form that is not a cojet differential form, let $\langle{\omega|c}\rangle$ be $0$ or $1$ according as $c$ is or is not [[analytic function|analytic]] (say for $X$ the real line).  We do not know any more interesting examples.

We can also apply arbitrary real functions: if $\phi:\mathbb{R}^n\to \mathbb{R}$ is a function (or even a partial function) and $\omega_1,\dots,\omega_n$ are cogerm differential 1-forms, then we have $\phi(\omega_1,\dots,\omega_n)$ defined by

$$ \langle \phi(\omega_1,\dots,\omega_n) | c \rangle = \phi(\langle\omega_1|c\rangle,\dots,\langle\omega_n|c\rangle) $$

For instance, any $\omega$ has an absolute value ${|\omega|}$.  And if $X=\mathbb{R}^2$, then we have the "length element" $&#273; s = \sqrt{\mathrm{d}x^2 + \mathrm{d}y^2}$.

Generalizing $&#273;s$, any [[absolute differential form|absolute differential 1-form]] can be regarded as a cogerm differential 1-form.

Any [[symmetric bilinear form]] on tangent vectors can also be regarded as a [[quadratic form|quadratic]] covector form and therefore a quadratic cogerm form.  In particular, this applies to the [[Riemannian metric|metric]] $g$ on any (pseudo)-[[Riemannian manifold]].  We then have $g = &#273;s^2$ in the algebra of cogerm forms on a Riemannian manifold.


## The cogerm differential

For any curve $c$ and real number $h$, let $c_h$ be the curve defined by $c_h(t) = c(t+h)$.  If $\omega$ is any cogerm differential 1-form, then we define its **differential** $\mathrm{d}\omega$ by

$$ \langle \mathrm{d}\omega | c \rangle = \lim_{h\to 0} \frac{\langle \omega | c_h \rangle - \langle \omega | c\rangle}{h}. $$

Note that while the fraction on the right-hand side only makes sense for a specific representative curve $c$ and a sufficiently small $h$, the limit depends only on the germ of $c$.

Of course, in general, $\mathrm{d}\omega$ may not be defined on as many curves as $\omega$ is.

+-- {: .un_defn}
###### Definition
If $X$ is a smooth space, so that we have a notion of *smooth curve*, then we say that a cogerm differential 1-form $\omega$ is **smooth** if 

1. $\omega$ is defined on all germs of smooth curves, and
1. $\mathrm{d}\omega$ is smooth ([[coinductive definition|coinductively]]).
=--

For example, if $f:X\to \mathbb{R}$ is a [[smooth function]], then it is also a smooth cogerm differential 1-form, and its differentials $\mathrm{d}^n f$ are those mentioned above.  By stopping the coinduction at an appropriate point and requiring only [[continuous function|continuity]], we obtain an analogous definition of $k$-times [[continuously differentiable function]].  (But the obvious definition of [[differentiable function]] without continuity is too weak, even if we require $\mathrm{d}\omega$ to be defined on all differentiable germs, as the classic example of $x y^2/(x^2 + y^2)$ shows.)

Note that the cogerm differential $\mathrm{d}$ is *not* the same as the exterior differential, except when applied to $0$-forms.  In particular, $\mathrm{d}^2\neq 0$.

We have the expected multivariable chain rule:

+-- {: .un_theorem}
###### Theorem
If $\phi:\mathbb{R}^n\to \mathbb{R}$ is a [[differentiable function]] and $\omega_1,\dots,\omega_n$ are cogerm differential 1-forms, then
$$ \mathrm{d}(\phi(\omega_1,\dots,\omega_n)) = \partial_1\phi(\omega_1,\dots,\omega_n) \mathrm{d}\omega_1 + \cdots +  \partial_n\phi(\omega_1,\dots,\omega_n) \mathrm{d}\omega_n $$
where $\partial_i\phi$ denotes the partial derivative with respect to the $i^{th}$ variable.
=--

In particular, taking $\phi(x,y) = x y$, we have the product rule:

$$ \mathrm{d}(\omega\eta) = \omega \mathrm{d}\eta + \eta \mathrm{d}\omega. $$

This also enables us to calculate the iterated cogerm differentials of functions.  If $x:X\to \mathbb{R}$ is a "coordinate" and $f:\mathbb{R}\to \mathbb{R}$ is a function, so that $f(x) : X\to \mathbb{R}$ is a function of that coordinate, then by the theorem we have

$$\mathrm{d}f(x) = f'(x) \mathrm{d}x.$$

Thus, by the product rule, we have

$$ \mathrm{d}^2 f(x) = f''(x) \mathrm{d}x^2 + f'(x) \mathrm{d}^2x $$

and so on.  Note that the first formula justifies the common notation $\frac{\mathrm{d}f(x)}{\mathrm{d}x}$ for the derivative $f'(x)$, while the second *almost* justifies the common notation $\frac{\mathrm{d}^2f(x)}{\mathrm{d}x^2}$ for the second derivative $f''(x)$ --- it would be correct only if $\mathrm{d}^2x=0$, which is not generally the case.  Instead it would be better to write $f''(x) = \frac{\partial^2f(x)}{\partial x^2}$, indicating that $f''(x)$ is the coefficient of $\mathrm{d}x^2$ in a canonical expansion of $\mathrm{d}^2 f(x)$.


## Integration

Let $c:[a,b] \to X$ be a curve and $\omega$ a cogerm differential 1-form; we would like to integrate $\omega$ over $c$.  There are at least two possible definitions.

### Naive integration

The **naive integral** of $\omega$ over $c$ is defined to be

$$\int_c \omega = \int_{t=a}^b \langle \omega | c_t \rangle dt. $$

if this exists.  If $\omega$ is an exterior differential 1-form, then this agrees with its usual line integral over $c$.  Unlike that particular case, however, for general $\omega$ the integral is not invariant under (even orientation-preserving) reparametrization of $c$.  (This is most obvious when $\omega$ is just a function, in which case its integral is just its ordinary integral.)

There are non-exterior forms for which the integral is parametrization-independent, however, such as [[absolute differential forms]] (in that case, it is even independent of orientation).  What is needed for this is a sort of *degree-1 homogeneity*.

The naive integral does satisfy a fundamental theorem of calculus for all cogerm forms: for any $\omega$ we have

$$\int_c \mathrm{d}\omega = \langle \omega| c_b\rangle - \langle \omega | c_a \rangle. $$

This follows directly from the definition of the naive integral and the cogerm differential $\mathrm{d}$.

### Linear integration

The **linear integral** of $\omega$ over $c$ is defined as follows.  Given a [[tagged partition]] $a = t_0 \lt t_1 \cdots \lt t_{n-1} \lt t_n = b$ with tags $t^*_i \in [t_{i-1},t_i]$, we define the corresponding [[Riemann sum]] to be

$$ \sum_{i=1}^n \langle \omega | \Delta t_i \cdot c_{t^*_i} \rangle $$

Here $\Delta t_i = t_i - t_{i-1}$, and for a curve $c$ and a number $h$ the curve $h\cdot c$ is defined by $(h\cdot c)(t) = c(h t)$.  Now we take the limit as the tagged partitions shrink.

It is convenient to do this in the manner of the [[Henstock integral]].  That is, we consider *gauges* $\delta : [a,b] \to \mathbb{R}_{\gt 0}$ and say that a tagged partition is *$\delta$-fine* if $[t_{i-1},t_i] \subset (t^*_i - \delta(t^*_i), t^*_i + \delta(t^*_i))$ for all $i$.  Then we say that a number $I$ is the integral $\int_c \omega$ if for all $\epsilon\gt 0$ there exists a gauge $\delta$ such that the Riemann sum of any $\delta$-fine tagged partition is within $\epsilon$ of $I$.

The linear integral also agrees with the usual integral for exterior 1-forms, and probably also for absolute differential forms.  However, in other cases it disagrees.  In particular, it "detects only the degree-1 part" of a form, in a way that we can make precise as follows.

Let us say that $\omega$ is **$o(dx)$** if $\lim_{h\to 0} \frac{\langle \omega | h\cdot c \rangle}{h} = 0$ for any curve $c$.  Some examples of forms that are $o(dx)$ are $\mathrm{d}x^2$ and $\mathrm{d}^2x$.

+-- {: .un_theorem}
###### Theorem
If $\omega$ is $o(dx)$, then $\int_c \omega = 0$ for any curve $c$.
=--
+-- {: .proof}
###### Proof
Suppose $\epsilon\gt 0$; then for any $t\in [a,b]$ there is a $\delta(t)$ such that ${\langle \omega {|} h \cdot c_t\rangle} \lt \frac{\epsilon}{b-a} h$ for any $0\lt h\lt \delta(t)$. This defines a gauge $\delta$ on $[a,b]$. Now suppose we have a $\delta$-fine tagged partition $a = x_0 \lt \cdots \lt x_n = b$ with tags $t_i \in [x_{i-1},x_i]$, so that $\Delta x_i = x_i - x_{i-1} \lt \delta(t_i)$. Then the corresponding Riemann sum is, by definition, $\sum_{i} \langle \omega {|} \Delta x_i \cdot c_{t_i}\rangle $. Since $\Delta x_i \lt \delta(t_i)$, each $\langle \omega {|} \Delta x_i \cdot c_{t_i}\rangle \lt \frac{\epsilon}{b-a} \Delta x_i$. Thus, when we sum them up, we get something less than $\frac{\epsilon}{b-a} \sum_i \Delta x_i = \frac{\epsilon}{b-a} (b-a) = \epsilon$. Thus, for any $\epsilon$ there is a gauge $\delta$ such that the Riemann sum over any $\delta$-fine tagged partition is $\lt\epsilon$; so the integral is zero.
=--

Thus, for instance, $\int_c \mathrm{d}^2 x = 0$ according to the linear integral, while according to the naive integral it would be (by the fundamental theorem of calculus) $\langle \mathrm{d}x | c_b \rangle - \langle \mathrm{d}x|c_a \rangle = (x\circ c)'(b) - (x\circ c)'(a)$.

In particular, this means that the linear integral does not satisfy as general a fundamental theorem of calculus as the naive integral.  It does, however, satisfy FTC for differentials of *functions*:
$$ \int_c \mathrm{d}f = f(c(b)) - f(c(a))$$
This can be proven in exactly the same way as the usual FTC for (line) integrals.


## Higher forms

One can define a **cogerm differential $k$-form** to be a function on germs of $k$-dimensional hypersurfaces in $X$.  These include in particular the usual [[differential form|exterior]] differential $k$-forms as well as [[absolute differential form|absolute]] differential $k$-forms.  And they can be integrated over $k$-dimensional hypersurfaces, by a similar formula as above.

There is a sort of "**exterior differential**" acting from cogerm $k$-forms to cogerm $(k+1)$-forms, which we denote by $(\mathrm{d}\wedge -)$ to avoid confusion with the commutative cogerm differential $\mathrm{d}$.  When $k=1$, the definition is

$$ \langle \mathrm{d}\wedge \omega {|} c \rangle = \lim_{A \to 0} \frac{1}{\Vert A \Vert} \oint_{c(\partial A)} \omega. $$

Here the limit is over some neighborhoods $A$ of $0\in\mathbb{R}^2$ whose areas $\Vert A \Vert$ shrink to zero, and the integral over the boundary is defined as above.  The definition for general $k$ is similar.

However, this limit can only exist if the integral $\oint_{c(\partial A)} \omega$ is invariant under oriented reparametrization of $\partial A$, hence if $\omega$ is "degree-1 homogeneous" as mentioned above.  Moreover, if $\omega$ is an absolute form, then usually there will not be enough cancellation to make the limit above finite (it would be analogous to defining a 1-dimensional "derivative" as $\lim_{h\to 0} \frac{f(x+h)+f(x)}{h}$ rather than $\lim_{h\to 0} \frac{f(x+h)-f(x)}{h}$).  Thus, this "exterior differential" seems barely (if at all) more general than the usual one acting on exterior $k$-forms.

It is unclear whether there is a notion of exterior differential which is significantly more general.  Similarly, it is unclear whether the wedge product of exterior forms can be sensibly extended to cogerm ones, or whether there is a sensible commutative cogerm differential $\mathrm{d}$ acting on cogerm $k$-forms for $k\gt 1$.


[[!redirects cogerm differential form]]
[[!redirects cogerm differential forms]]
[[!redirects cogerm form]]
[[!redirects cogerm forms]]

[[!redirects cojet differential form]]
[[!redirects cojet differential forms]]
[[!redirects cojet form]]
[[!redirects cojet forms]]