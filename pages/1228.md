
+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
###Context###
#### Yoneda lemma
+--{: .hide}
[[!include Yoneda lemma - contents]]
=--
#### Category theory
+--{: .hide}
[[!include category theory - contents]]
=--
#### Topos Theory
+-- {: .hide}
[[!include topos theory - contents]]
=--
=--
=--


#Contents#
* table of contents
{:toc}

## Idea

What is sometimes called the _co-Yoneda lemma_ is a basic fact about [[presheaves]] (a basic fact of [[topos theory]]): it says that every [[presheaf]] is a [[colimit]] of [[representable functor|representables]] and more precisely that it is the "colimit over itself of all the representables contained in it".

One might think of this as related by [[duality]] to the [[Yoneda lemma]], hence the name.

## Every presheaf is a colimit of representables

Recall that the [[Yoneda lemma]] says that for $C$ a $V$-[[enriched category]], $F : C^{op} \to V$ a $V$-valued [[presheaf]] on $C$ and $c \in C$ an [[object]] of $C$, there is a natural [[isomorphism]] in $V$

$$
  [C^{op},V](C(-,c), F) \simeq F(c)
  \,.
$$

Using the definition of the [[enriched functor category]] on the left in terms of an [[end]], this reads

$$
  \int_{c' \in C} V(C(c',c), F(c')) \simeq F(c)
  \,.
$$

In this form the Yoneda lemma is also referred to as [[Yoneda reduction]].

Under [[duality|abstract duality]] an [[end]] turns into a [[coend]], so a co-Yoneda lemma ought to be a similarly fundamental expression for $F(c)$ in terms of a [[coend]].

The natural candidate is the statement that **every [[presheaf]] is a [[colimit]] of [[representable functor|representables]]** which may be stated as

$$
  F(c) \simeq \int^{c' \in C} C(c,c')\otimes F(c')
$$

hence

$$
  F(-) \simeq \int^{c' \in C} Y(c')\otimes F(c')
  \,,
$$

where $Y$ denotes the [[Yoneda embedding]]. In [[module]] language, using the [[tensor product of functors]], this reads

$$
  F(c) \simeq C(c,-)\otimes_C F
  \,.
$$

This statement we call the **co-Yoneda lemma**.

Yet another way to state this is as a [[colimit]] over the [[comma category]] $(Y,F)$, for $Y$ the [[Yoneda embedding]]:

$$
  F \simeq colim_{(U \to F) \in (Y,F)} Y(U)
  \,.
$$



+-- {: .proof}
######Proof

To show that a presheaf $F: C^{op} \to Set$ is canonically presented as a colimit of representables, we exhibit a natural isomorphism 

$$\int^{c: C} F(c) \times \hom_C(-, c) \cong F$$

By the definition of coend, maps $\int^c F(c) \times \hom_C(-, c) \to G(-)$ are in natural bijection with families of maps $F(c) \times \hom_C(d, c) \to G(d)$ extranatural in $c$ and natural in $d$. Those are in natural bijection with families of maps $F(c) \to \hom(\hom_C(d, c), G(d))$ natural in $c$ and extranatural in $d$. These are in natural bijection with families of maps $F(c) \to Nat(\hom_C(-, c), G) \cong G(c)$ (natural in $c$), where the isomorphism is by the Yoneda lemma. Thus we have exhibited a natural isomorphism 

$$Nat(\int^c F(c) \times \hom_C(-, c), G) \cong Nat(F, G)$$ 

(natural in $G$). By Yoneda again, this gives $\int^c F(c) \times \hom_C(-, c) \cong F$. 
=--

If one follows the Yoneda-lemma argument at the end, one arrives at the explicit isomorphism 

$$\int^c F(c) \times \hom_C(-, c) \to F$$ 

Namely, it corresponds to the family of maps 

$$F(c) \times \hom_C(d, c) \to F(d)$$ 

(extranatural in $c$ and natural in $d$) which in turn corresponds to the natural family 

$$\hom_C(d, c) \to \hom(F(c), F(d))$$ 

associated with the structure of the functor $F: C^{op} \to Set$. 

## MacLane's co-Yoneda lemma

In a brief uncommented exercise on [MacLane, p. 62](#MacLane)  
the following statement, which is atrributed to Kan, is called the **co-Yoneda lemma**.


For $D$ a [[category]], [[Set]] the [[category]] of [[set]]s, $K : D \to Set$ a [[functor]], let $(* \darr K)$ be the [[comma category]] of elements $x \in K d$, let $\Pi: (* \darr K) \to D$ be the projection $(x \in K d) \mapsto d$ and let for each $a \in D$  the functor $\Delta_a: (* \darr K) \to D$ be the diagonal functor sending everything to the constant value $a$. 

The **co-Yoneda lemma in the sense of Kan/MacLane** is the statement that there is a [[natural isomorphism]] of [[functor category|functor categories]]

$$
[D,Set](K, D(a, -)) \cong [(*\darr K), D](\Delta_a, \Pi).
$$

Here is an outline of an explicit proof:

+-- {: .proof}
######Proof

A natural transformation $\phi: K \to D(a, -)$ assigns to each element $x \in K c$ an element $\phi_c(x) \in D(a, c)$, i.e., an arrow $\phi_c(x): a \to c$. We define a corresponding transformation $\psi: \Delta_a \to \Pi$ which assigns to each object $(c, x \in K c)$ in $(*\darr K)$ the morphism $\phi_c(x): a \to c = \Pi(c, x)$. It is easy to check that the naturality condition on $\phi$ corresponds to the naturality condition on $\psi$, and that the correspondence is bijective.   

=--

Here is a more conceptual proof in terms of [[comma categories]]:

+-- {: .proof}
######Proof

[[Set]] classifies discrete fibrations, in the sense that a functor $G : D \to Set$ classifies the discrete [[fibration]]

$$
  Q : \Pi_G : El(G) \to D
$$

and natural transformations $\alpha : G \to F$ correspond to maps of fibrations 

$$
  El(G) \to El(f)
$$

i.e. functor which commute on the nose with the projections $\Pi_G$, $\Pi_F$ to the base category $D$).


This applies in particular to $F = hom(a,-)$. Notice the [[category of elements]] $El(hom(a,-))$ is the co-slice $(a \downarrow D)$, with its usual projection $\Pi$ to $D$.

However, the [[comma category]] $(a \downarrow D)$ is the "lax pullback" (really, the [[comma object]], the discussion at [[2-limit]]) appearing in

$$
  \array{
    (a \downarrow D) &\stackrel{\Pi}{\to}& D
    \\
    \downarrow &\Uparrow& \downarrow^{Id}
    \\
    * &\stackrel{a}{\to}& D
  }  
$$

and so a fibration map $El(G) \to (a \downarrow D)$ corresponds exactly to a lax square

$$
  \array{
    El(G) &\stackrel{\Pi_G}{\to}& D
    \\
    \downarrow &\Uparrow& \downarrow^{Id}
    \\
    * &\stackrel{a}{\to}& D
  }    
   \,.
$$


This yields the co-Yoneda lemma in the sense of MacLane's exercise.

=--

## References

The coYoneda lemma appears as a brief uncommented exercise on p. 63 of 

* [[Saunders MacLane]], _[[Categories Work|Categories for the Working Mathematician]]_,
 {#MacLane}

where it is atributed to Kan.

A blog discussion which led to the creation of this entry is [here](http://golem.ph.utexas.edu/category/2009/01/nlab_general_discussion.html#c023106).


[[!redirects Coyoneda lemma]]
[[!redirects coYoneda lemma]]
[[!redirects co-yoneda lemma]]
[[!redirects coyoneda lemma]]