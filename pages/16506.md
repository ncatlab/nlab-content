[[!redirects reader monad]]

+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
### Context
#### Type theory
+-- {: .hide}
[[!include type theory - contents]]
=--
#### Mapping space
+--{: .hide}
[[!include mapping space - contents]]
=--
=--
=--


#Contents#
* table of contents
{:toc}

## Idea

Given a [[locally Cartesian closed category]] $\mathcal{C}$ and an [[object]] $W \in \mathcal{C}$, then the [[base change]] [[adjoint triple]]

$$
  \mathcal{C}_{/W}
    \stackrel{\overset{\sum_W}{\longrightarrow}}{\stackrel{\overset{W^\ast}{\longleftarrow}}{\underset{\prod_W}{\longrightarrow}}}
  \mathcal{C}
$$

induces, in particular, the [[monad]] 

$$
  \prod_W W^\ast = [W,-] \;\colon\; \mathcal{C} \longrightarrow \mathcal{C}
$$

that produces the [[internal hom]] out of $W$, i.e. the [[function type]] out of $W$. This may be called the _function monad_.

In the context of [[monad (in computer science)|monads in computer science]] (notably in the [[Haskell]] [[programming language]]) this is called the _reader monad_ or the _environment monad_.

## Properties

### Relation to random variables in probability theory

It also makes sense to think of $[W,-]$ as producing spaces of [[random variables]] ([Verdier 14](#Verdier14)) depending on [[possible worlds]] $w\in W$ ([Toronto-McCarthy 10b, slide 24](#TorontoMcCarthy10b)). 

>  The intuition behind the Reader monad, for a mathematician, is perhaps stochastic variables. A stochastic variable is a function from a probability space to some other space. So we see a stochastic variable as a monadic value. ([Verdier 14](#Verdier14))

> you could interpret this by regarding random variables as reader monad computations. ([Toronto-McCarthy 10b, slide 35](#TorontoMcCarthy10b))

[Toronto-McCarthy 10a, 2.2](#TorontoMcCarthy10a) calls the function monad the _random variable idiom_.

(While, from the perspective of [[modal type theory]], its siblings $W^\ast \prod_W$ and $W^\ast \sum_W$ may be called _[[necessity]]_ and _[[possibility]]_, respectively).

## Related concepts

* [[maybe monad]]

* [[continuation monad]]

* [[state monad]]

## References

* Wikipedia, _[Environment monad](http://en.wikipedia.org/wiki/Monad_%28functional_programming%29#Environment_monad)_.
* {#TorontoMcCarthy10a} [[Neil Toronto]], [[Jay McCarthy]], _From Bayesian notation to pure Racket, via measuretheoretic probability_ , in _Implementation and Application of Functional Languages_, 2010 ([web](http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.298.4274))

* {#TorontoMcCarthy10b} [[Neil Toronto]], [[Jay McCarthy]], _From Bayesian Notation to Pure Racket_, talk notes 2010 ([pdf](http://jeapostrophe.github.io/home/static/toronto-2010ifl-slides.pdf))

* {#Verdier14} [[Olivier Verdier]], _[The Reader and Writer Monads and Comonads](http://www.olivierverdier.com/posts/2014/12/31/reader-writer-monad-comonad/)_, 2014


[[!redirects reader monads]]

[[!redirects function monad]]
[[!redirects function monads]]

[[!redirects environment monad]]
[[!redirects environment monads]]
