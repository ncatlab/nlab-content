
+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
### Context
#### Type theory
+-- {: .hide}
[[!include type theory - contents]]
=--
=--
=--

#Contents#
* table of contents
{:toc}

## Idea

_System F_, also known as the _[[polymorphic]] [[lambda-calculus]]_ or _[[second-order logic|second-order]] [[lambda-calculus]]_, is an extension of [[simply typed lambda-calculus]] to include a [[type]] of [[impredicative]] [[universal quantification]].

## Semantics

Models of System F can be described as a form of [[hyperdoctrine]]:

1. A [[category]] K of *kinds* with [[cartesian products]].
2. A [[functor]] $P \colon K^o \to CCC$, i.e., a [[contravariant functor]] from $K$ to the category of [[cartesian closed categories]] and [[functors]] preserving the CC structure.
3. A [[representable functor|representing object]] $U \in K$, i.e., $K(-,U) \cong P_0$ where $P_0 : K^o \to Set$ is the [[presheaf]] of objects of the corresponding CCC.
4. Such that for any $\Delta \in K$, the functor $P(\pi) \colon P(\Delta) \to P(\Delta \times U)$ induced from the [[projection]] $\pi \colon \Delta \times U \to \Delta$ has a [[right adjoint]] $\forall \colon P(\Delta \times U) \to P(\Delta)$ satisfying a [[Beck-Chevalley condition]].

Typically, the objects of the category of *kinds* are restricted to be generated by [[Cartesian product|products]] of $U$. 

Note that this models the $\beta\eta$ equivalence of System F only, not the more complex notion of [[relational parametricity]]. A *relationally parametric model* of System F is 

1. A model of System F [[internal]] to the category of [[reflexive graphs]]
2. Such that the functor $(s,t) : P_e(\Delta_e) \to P_v(s(\Delta_e)) \times P_v(t(\Delta_e))$ is a [[fibration]].

Note that by taking the "vertex" component of such a model, we get an underlying ordinary "equational" model of System F, and so we can see a relatonally parametric model as an extension of an equational model.
The internalization to reflexive graphs models the relational structures: the "edge" components are the relations, the source/target maps ensure that each relation lies over an ordinary structure, and the reflexive edge models the notion of an identity/[[equality]] relation. The fibration requirement then provides a rich supply of relations: given a relation R and morphisms $f_s : B_s \to s(R)$ and $f_t : B_t \to t(R)$, the fibration structure defines a "weakest pre-relation" $R[f_s,f_t]$ with source and target $B_s,B_t$. Notably, if $R$ is an identity relation and one of $f_s,f_t$ is the identity, this is a kind of [[graph of a function|graph relation]] of a morphism. Compare the definition of a [[virtual equipment]], where the reflexive edges are analogous to the units and the fibration structure is analogous to the restrictions.

## Related concepts

* [[type variable]]

* [[dependent type theory with type variables]]

## References

The calculus now called *System F* was developed independently in the following works:

* {#Girard72} [[Jean-Yves Girard]], _Interprétation functionelle et élimination des coupures dans l'arithmétique d'ordre supérieure_, Ph.D. thesis, Université Paris VII (1972) &lbrack;[pdf](http://www.cs.cmu.edu/afs/cs.cmu.edu/user/kw/www/scans/girard72thesis.pdf), [[Girard-InterpretationFunctionelle.pdf:file]]&rbrack;

* [[John C. Reynolds]], _Towards a theory of type structure_, Programming Symposium, 1974 ([doi](https://doi.org/10.1007/3-540-06859-7_148))

The hyperdoctrine-like notion of model:

* [[R.A.G. Seely]], _Categorical Semantics for Higher Order Polymorphic Lambda Calculus_, Journal of Symbolic Logic, Vol. 52, Issue 4, December 1987 ([doi](https://doi.org/10.2307/2273831))

The reflexive graph/fibrational view of parametricity:

* Brian Dunphy and [[Uday Reddy]], _Parametric Limits_, Logic in Computer Science 1994 ([doi](https://doi.org/10.1109/LICS.2004.1319618))

