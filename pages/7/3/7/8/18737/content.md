
+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
### Context
#### Type theory
+-- {: .hide}
[[!include type theory - contents]]
=--
=--
=--



#Contents#
* table of contents
{:toc}

## Idea

_Cubical type theory_ is a flavor of [[dependent type theory]] in which maps out of an interval primitive is used to define [[cubical path types]], rather than the [[inductive family]] of Martin-Löf [[identity types]] as in [[Martin-Löf type theory]]. Cubical type theory additionally differs from [[Martin-Löf type theory]] in that [[function extensionality]] is a [[theorem]] in cubical type theory, rather than an axiom as is the case in [[Martin-Löf type theory]]. 

Similarly to [[Martin-Löf type theory]], cubical type theory comes in [[extensional type theory|extensional]] and [[intensional type theory|intensional]] flavours as well. One could also add an [[equality reflection]] rule for path types to make the cubical type theory definitionally extensional. 

{#UnivalentCubicalTypeTheory} [[univalence|Univalent]] cubical type theory models the [[infinity-groupoid|$\infty$-groupoid]]-structure implied by [[Martin-Löf type theory|Martin-Löf]] [[identity types]] on [[constructive set theory|constructive]] [[cubical sets]] (whence the name) thus making it a form of [[homotopy type theory]].

## Syntax

### The interval and face formulas

We begin with a [[dependent type theory]] which has rules for [[dependent product types]], [[dependent sum types]], the [[empty type]], [[unit type]], [[booleans type]], and [[natural numbers type]]. 

Cubical type theory adds to dependent type theory an interval primitive $I$, whose elements are called "dimensions" as well as face formulas $F$, which behave like propositions in a [[propositional logic]]. Both come with the following judgments for dimension variables and face formulae:

$$\frac{\Gamma \; ctx}{\Gamma, i:I \; ctx} \qquad \frac{\Gamma \; ctx \quad \Gamma \vdash \phi:F}{\Gamma, \phi \; ctx}$$

Similarly to types, dimension variables and face formulas come with their own [[substitution rules]], [[weakening rules]], and [[hypothesis rules]]. 

In addition, there are rules for forming the endpoints of the interval:

$$\frac{\Gamma}{\Gamma \vdash 0:I} \qquad \frac{\Gamma}{\Gamma \vdash 1:I}$$

Equality of dimensions in the interval is a face formula:

$$\frac{\Gamma \vdash r:I \quad \Gamma \vdash s:I}{\Gamma \vdash r = s:F}$$

and face formulas are closed under disjunction

$$\frac{\Gamma \vdash \phi:F \quad \Gamma \vdash \psi:F}{\Gamma \vdash \phi \vee \psi:F}$$

Since face formulae behave like propositions, it should be possible to judge them to be true. Thus, we have the following rules:

$$\frac{\Gamma \vdash \phi \; true}{\Gamma \vdash \phi \vee \psi \; true} \qquad \frac{\Gamma \vdash \psi \; true}{\Gamma \vdash \phi \vee \psi \; true} \qquad \frac{\Gamma \vdash \phi \vee \psi \; true \quad \Gamma, \phi \vdash \chi \; true \quad \Gamma, \psi \vdash \chi \; true}{\Gamma \vdash \chi \; true}$$

The interval primitive $I$ has more points than $0$ and $1$, so it is not the case that the sequent
$$r:I \vdash r = 0 \vee r = 1 \;\mathrm{true}$$
holds.  Thus, there is a **boundary formula**
$$\delta(r) \coloneqq r = 0 \vee r = 1$$


## Canonicity in cubical type theory

In contrast to [[Martin-Löf type theory]], there exist cubical type theories, such as [[XTT]], in which [[UIP]] is not just an [[axiom]] but a [[theorem]]. Similarily, there exist cubical type theories in which [[univalence]] is not just an [[axiom]] but a [[theorem]]. As a result, in those cubical type theories, [[canonicity]] still holds. This is useful for computational purposes, and for the use of [[cubical type theory]] in [[proof assistants]]. 

However, it is equally valid to add an [[axiom]] to a cubical type theory that says all [[type universe]] satisfy [[UIP]] or [[univalence]], so canonicity is not required to hold in all cubical type theories. 

## Univalent cubical type theories

The first constructive account of the univalence axiom was given in ([Coquand 13](#Coquand13), [Bezem-Coquand-Huber 17](#BezemCoquandHuber17)), called the "BCH-model".

The BCH model, unfortunately, has some problems that appear to make it unsuitable for general [[HoTT]].  In particular, it is not known how to model [[higher inductive types]]. The problem is that the BCH model is based on [[presheaves]] on the '[[symmetric monoidal category|symmetric monoidal]] [[cube category]]', which is basically the [[free construction|free]] [[PROP]] generated by an [[interval]].
In particular, the base category's maps are generated by face maps and permutative renamings of dimension variables (this is where the 'symmetric monoidal' part comes in). For somewhat technical reasons, this doesn't work out when you want to define the [[elimination rules]] for [[higher inductive types]] (like for the [[circle]]).

To account for [[HIT|HITs]], you seem to need [[diagonals]] in the base category.  There is more than one choice in addition as to what other morphisms to add.

* If you add only diagonals, then you have the '[[cartesian monoidal category|cartesian]] cube category'.  This was used as a basis for a cubical type theory by [Angiuli, Brunerie, Coquand, Favonia, Harper, and Licata](#ABCFHL).

* The first cubical type theory, due to [Cohen-Coquand-Huber-Moertberg 17](#CohenCoquandHuberMoertberg17), used an even richer [[cube category]], the free [[De Morgan algebra]] generated by an [[interval]]. In addition to diagonals, this includes what are called 'reversals' and 'connections'.

Both models validate [[univalence]] (like the BCH model) and can be used to model a variety of [[HIT|HITs]] as well as supporting a syntactic type theory based on 'dimension variables'.  However, while it is possible to interpret the Martin-L&#246;f [[identity type]] in all of these models, it is only equivalent to, not definitionally isomorphic to, the native cubical path-types in the model.  Thus, the latter support the Martin-Lof eliminator, but only with a typal computation rule.

## Models

Cubical type theory can be modeled in a number of varieties of [[cubical sets]], for example in a [[cubical-type model category]].

## Related concepts

* [[synthetic Tait computability]]
* [[simplicial type theory]]
* [[type theory with shapes]]
* [[two-level type theory]]

## References

Introductory lecture notes:

* {#Mortberg19} [[Anders Mörtberg]], _Cubical methods in HoTT/UF_, 2019 ([pdf](http://staff.math.su.se/anders.mortberg/papers/cubicalmethods.pdf))

Exposition in view of [[synthetic homotopy theory]]:

* {#MortbergPujet20} [[Anders Mörtberg]], [[Loïc Pujet]], _Cubical synthetic homotopy theory_,  CPP 2020: Proceedings of the 9th ACM SIGPLAN International Conference on Certified Programs and Proofs January 2020, pp. 158–171, ([doi:10.1145/3372885.3373825](https://doi.org/10.1145/3372885.3373825), [pdf](https://staff.math.su.se/anders.mortberg/papers/cubicalsynthetic.pdf))

Original articles on the BCH model:

* {#Coquand13} [[Thierry Coquand]] (with [[Marc Bezem]] and [[Simon Huber]]), _Computational content of the Axiom of Univalence_, September 2013 ([pdf](http://www.humboldt-kolleg.iam.unibe.ch/talks/Coquand.pdf))

* {#BezemCoquandHuber13} [[Marc Bezem]], [[Thierry Coquand]], [[Simon Huber]], _A Model of Type Theory in Cubical Sets_,  19th International Conference on Types for Proofs and Programs (TYPES 2013). ([doi:10.4230/LIPIcs.TYPES.2013.107](https://dx.doi.org/10.4230/LIPIcs.TYPES.2013.107))

* {#BezemCoquandHuber17} [[Marc Bezem]], [[Thierry Coquand]], [[Simon Huber]], _The univalence axiom in cubical sets_, Journal of Automated Reasoning, 63, 2019. ([doi:10.1007/s10817-018-9472-6](https://dx.doi.org/10.1007/s10817-018-9472-6), [arXiv:1710.10941](https://arxiv.org/abs/1710.10941))

On the CCHM model and type theory:

* {#CohenCoquandHuberMoertberg17} [[Cyril Cohen]], [[Thierry Coquand]], [[Simon Huber]], [[Anders Mörtberg]], _Cubical Type Theory: a constructive interpretation of the univalence axiom_,  21st International Conference on Types for Proofs and Programs (TYPES 2015). ([doi:10.4230/LIPIcs.TYPES.2015.5](https://dx.doi.org/10.4230/LIPIcs.TYPES.2015.5), [arXiv:1611.02108](https://arxiv.org/abs/1611.02108))

* {#CubicalCanonicity} [[Simon Huber]], _Canonicity for Cubical Type Theory_, Journal of Automated Reasoning, 63, 2019. ([doi:10.1007/s10817-018-9469-1](https://dx.doi.org/10.1007/s10817-018-9469-1), [arXiv:1607.04156](https://arxiv.org/abs/1607.04156))

* {#CubicalHIT} [[Thierry Coquand]], [[Simon Huber]], [[Anders Mörtberg]], _On Higher Inductive Types in Cubical Type Theory_, LICS '18: Proceedings of the 33rd Annual ACM/IEEE Symposium on Logic in Computer Science. ([doi:10.1145/3209108.3209197](https://dx.doi.org/10.1145/3209108.3209197), [arXiv:1802.01170](https://arxiv.org/abs/1802.01170))

On the cartesian cubical model and type theory:

* {#ABCFHL} [[Carlo Angiuli]], [[Guillaume Brunerie]], [[Thierry Coquand]], [[Kuen-Bang Hou (Favonia)]], [[Robert Harper]], and [[Daniel R. Licata]], _Syntax and models of Cartesian cubical type theory_, Mathematical Structures in Computer Science, 31(4), 2021. ([doi:10.1017/S0960129521000347](https://dx.doi.org/10.1017/S0960129521000347))

* [[Carlo Angiuli]], _Computational Semantics of Cartesian Cubical Type Theory_, Ph.D. Thesis. ([pdf](https://www.cs.cmu.edu/~cangiuli/thesis/thesis.pdf))

On comparing the models:

* [[Evan Cavallo]], [[Anders Mörtberg]], [[Andrew W Swan]], _Unifying Cubical Models of Univalent Type Theory_, 28th EACSL Annual Conference on Computer Science Logic (CSL 2020). ([doi:10.4230/LIPIcs.CSL.2020.14](https://dx.doi.org/10.4230/LIPIcs.CSL.2020.14))

* [[Thierry Coquand]], [[Simon Huber]], [[Christian Sattler]], _Homotopy canonicity for cubical type theory_, 4th International Conference on Formal Structures for Computation and Deduction (FSCD 2019). ([doi:10.4230/LIPIcs.FSCD.2019.11](https://dx.doi.org/10.4230/LIPIcs.FSCD.2019.11), [arXiv:1902.06572](https://arxiv.org/abs/1902.06572))

* {#Bentzen2019} [[Bruno Bentzen]], _Naive cubical type theory_, Mathematical Structures in Computer Science, 31, 2021. ([doi:10.1017/S096012952200007X](https://doi.org/10.1017/S096012952200007X), [arXiv:1911.05844](https://arxiv.org/abs/1911.05844))

Discussion of implementation in the [[proof assistant]] [[Cubical Agda]]:

* {#VMA19} [[homotopytypetheory:Andrea Vezzosi]], [[Anders Mörtberg]] and [[Andreas Abel]], _Cubical Agda: A Dependently Typed Programming Language with Univalence and Higher Inductive Types_, Proceedings of the ACM on Programming Languages, 3, ICFP, 2019. ([doi:10.1145/3341691](https://dx.doi.org/10.1145/3341691), [pdf](https://staff.math.su.se/anders.mortberg/papers/cubicalagda.pdf)). Extended version in Journal of Functional Programming, 31, 2021: ([doi:10.1017/S0956796821000034](https://www.doi.org/10.1017/S0956796821000034), [pdf](https://staff.math.su.se/anders.mortberg/papers/cubicalagda2.pdf))

On [[normal form|normalization]] for cubical type theory:

* [[Jonathan Sterling]], [[Carlo Angiuli]], _Normalization for Cubical Type Theory_, 36th Annual ACM/IEEE Symposium on Logic in Computer Science (LICS), 2021. ([doi:10.1109/LICS52264.2021.9470719](https://dx.doi.org/10.1109/LICS52264.2021.9470719), [arXiv:2101.11479](https://arxiv.org/abs/2101.11479))

* [[Jonathan Sterling]], _First Steps in Synthetic Tait Computability: The Objective Metatheory of Cubical Type Theory_. ([pdf](https://www.jonmsterling.com/papers/sterling-2021-thesis.pdf))

On [[XTT]]:

* [[Jonathan Sterling]], [[Carlo Angiuli]], [[Daniel Gratzer]], _Cubical syntax for reflection-free extensional equality_. In Herman Geuvers, editor, _4th International Conference on Formal Structures for Computation and Deduction (FSCD 2019)_, volume 131 of _Leibniz International Proceedings in Informatics (LIPIcs)_, pages 31:1-31:25. ([arXiv:1904.08562](https://arxiv.org/abs/1904.08562), [doi:10.4230/LIPIcs.FCSD.2019.31](https://doi.org/10.4230/LIPIcs.FSCD.2019.31))

* [[Jonathan Sterling]], [[Carlo Angiuli]], [[Daniel Gratzer]], _A Cubical Language for Bishop Sets_, Logical Methods in Computer Science, 18 (1), 2022. ([arXiv:2003.01491](https://arxiv.org/abs/2003.01491)). 

Univalent cubical type theory is discussed in sections 5.3 and 5.4 of:

* {#AngiuliGratzer} [[Carlo Angiuli]], [[Daniel Gratzer]], *Principles of Dependent Type Theory* ([pdf](https://www.danielgratzer.com/papers/type-theory-book.pdf))

[[!redirects cubical type theories]]
[[!redirects boundary in cubical type theory]]
[[!redirects boundary (cubical type theory)]]
[[!redirects boundary formula]]
