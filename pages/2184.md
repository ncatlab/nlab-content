##  Idea

A __graph__ is a collection of _vertices_ and _edges_, each edge links a pair of vertices.  There are several variations on the idea, described below.

This is the sense of graph in combinatorics; the sense in high-school algebra, which interprets a [[morphism]] $f: A \to B$ as a [[subobject]] of the [[product]] $A \times B$, is not particularly related; see [[graph of a function]] if we ever write about that.

We have a separate article on [[directed graphs]] (in the sense of directed multipseudographs below), since these are closely related to [[categories]].


##  Definitions

Let $V$ and $E$ be [[sets]]; call an element of $V$ a __vertex__ and an element of $E$ an __edge__ or __arc__.  A __graph__ is given by $V$, $E$, and a [[function]] $d$ from $E$ to $V^2$; we say that $a$ is an edge __between__ $x$ and $y$, or __from__ $x$ __to__ $y$, if $d(a) = (x,y)$.  For some people (such as many category theorists), this is the end of the definition; but graph theorists often add the following additional conditions:

*  The function $d: E \to V^2$ is an [[injection]].  If we do not make this requirement, then we have a __multigraph__.

+--{: .query}
[[Mike Shulman]]: Is there a term for a "non-multi" graph?  The best I can think of is "monograph"?  (-:

_Toby_:  They call it a 'simple graph'.  The problem is that this term implies *all* of these conditions.  The solution is that, after you say 'simple', you can contradict it partially, as 'simple pseudograph' or 'simple directed graph'.  The other solution is to make these conditions the default, so that you can just say 'graph' or, if one of the other conditions below may be violated, say 'pseudograph' or 'directed graph'.
=--

* For every vertex $x$, there is exactly one edge over $(x,x)$.  (These edges is normally suppressed, so it\'s not counted in the total number of edges and the like.)  If we do not make this requirement, then we have a __pseudograph__.  (In a pseudograph, such an edge is called a __loop__.)

+--{: .query}
[[Mike Shulman]]: When graph theorists talk about a non-pseudo _multigraph_, do they still require that there be *exactly* loop at each vertex?  It would be nice if non-pseudo multigraphs could be identified with reflexive graphs (those merely equipped with a *specified* loop at each vertex), but perhaps this is an idle hope.

_Toby_:  Yes, that is correct.  What\'s more, they then pretend that this edge does not exist; I tried to clarify this above.  If you wish to *equip* a multipseudograph with one loop for each vertex, then I think that you\'re moving slightly beyond graph theory and towards category theory; we\'ve just given each object an identity morphism, and the next step is to define composition!  (That\'s not to say that graph theorists would not consider such things within their field of study, of course.)
=--

*  The graph be __undirected__: the [[fibre]] over $(x,y)$ should be isomorphic (same [[cardinality]]) as the fibre over $(y,x)$.  A graph satisfying this condition is __undirected__; if we do not make this requirement, then we have a __directed graph__.  (One usually speaks of _edges_ _between_ vertices in an undirected graph but _arcs_ _from_ one vertex _to_ another in a directed one.)

+--{: .query}
[[Mike Shulman]]: Presumably we mean that the fiber over $(x,y)$ is *equipped with* an isomorphism to the fiber over $(y,x)$; so that being undirected is structure on a graph rather than a property of it.  Also, does an undirected pseudograph equip the set of loops with an automorphism?  Or should we require $x\neq y$?

_Toby_:  Yes, but the problem is that an isomorphism of graphs need not preserve these bijections.  That\'s why I went to cardinality, but that really isn\'t going to work once you start labelling edges and things.  (Well, you could make it work, but only by taking care when you define labels and all that.)  Probably it was too ambitious of me to define directed and undirected graphs together, and we should just define them separately, then indicate how any undirected graph may be made into a directed graph.  The problem with *that* is that, at least for complete definitions, we need to deal with the multipseudostuff both times.
=--

A graph that satisfies all of the above conditions may be called a __simple graph__ to be more clear, especially in a context where one of more of these defaults is *not* being assumed.  One can also mix 'simple' with 'multi‑', 'pseudo‑', or 'directed' to clarify that *only* the indicated relaxation is being made; but 'undirected' (instead of 'simple') is usually used to indicate that the graph is not allowed to be directed.  Many graph theorists will also assume that 'multi‑' implies 'pseudo‑', but not all will do this.  Note that the modifiers 'multi‑', 'pseudo‑', and 'directed' are examples of the [[red herring principle]]; a simple graph is an example of a directed multipseudograph, but not every directed multipseudograph is simple.

The above definition shows all of the possibilities, but it is unnecessarily complicated if one is interested in applying any of the usual restrictions; then the definition can be simplified as follows:
*  If the graph is required to be undirected, then we may replace $V^2$ with $\left[{V \atop 2}\right]$, the set of all subsets of $V$ of the form $\{x,y\}$; we replace $E$ with a [[quotient set]] where an edge over $(x,y)$ is identified with the corresponding edge over $(y,x)$.
*  If the graph is not allowed to be a pseudograph, then we may replace $V^2$ with $V^2 \setminus \{(x,x) \;|\; x \in V\}$; we replace $E$ by its [[subset]] that excludes all the loops.
*  If both of the above apply, then we may replace $V^2$ with $\left({V \atop 2}\right)$, the set of all subsets of $V$ of cardinality $2$.  Now we replace $E$ with a [[subquotient]] which excludes the loops and identifies corresponding edges from $x$ to $y$ and from $y$ to $x$.
*  If the graph is not allowed to be a multigraph, then we may take $E$ to be explicitly a [[subset]] of $V^2$ (rather than an arbitrary set equipped with an injection to $V^2$).  If the graph is also undirected, non-pseudo, or both, then we may take $E$ to be a subset of $\left[{V \atop 2}\right]$, $V^2 \setminus \{(x,x)\}$, or $\left({V \atop 2}\right)$, respectively.

Given any sort of graph, we can define a [[binary relation]] on $V$; say that $x$ and $y$ are __adjacent__, written $x \sim y$, if there exists an edge over $(x,y)$ (or over $\{x,y\}$, or an edge that *is* one of these).  A simple directed pseudograph is determined entirely by this relation; we may say that it *is* $V$ equipped with such a relation.  Then a simple directed graph is $V$ equipped with a [[reflexive relation]], and a simple undirected pseudograph is $V$ equipped with a [[symmetric relation]].

Often in combinatorics, one requires that $V$ and $E$ be [[finite sets]].  Sometimes one also requires $V$ to be [[inhabited set|inhabited]], (but surely that\'s silly).  For example, Harary defines the concept (and related terms) in the following manner (page 9):
> A _graph_ $G$ consists of a finite nonempty set $V = V(G)$ of $p$ _points_ together with a prescribed set $X$ of $q$ unordered pairs of distinct points of $V$.  Each pair $x = \{u, v\}$ of points in $X$ is a _line_ of $G$, and $x$ is said to _join_ $u$ and $v$.  We write $x = u v$ and say that $u$ and $v$ are _adjacent points_ (sometimes denoted $u adj v$);  point $u$ and line $x$ are _incident_ with each other, as are $v$ and $x$.  If two distinct lines $x$ and $y$ are incident with a common point, then they are _adjacent lines_.  A graph with $p$ points and $q$ lines is called a $(p, q)$ _graph_.  The $(1, 0)$ graph is _trivial_.


##  Morphisms of graphs

Two graphs $G = (V,E,d)$ and $G' = (V',E',d')$ are __[[isomorphism|isomorphic]]__ if there exists a [[bijection]] $f: V \to V'$ such that the fibre (in $G$) over $(x,y)$ (or $\{x,y\}$) always has the same cardinality as the fibre over $(f(x),f(y))$ (or $\{f(x),f(y)\}$); if $G, G'$ are not allowed to be multigraphs, then we can simply say that $x \sim y$ if and only if $f(x) \sim f(y)$.

An __isomorphism__ from $G$ to $G'$ is such a bijection, together with a family of bijections for each fibre above; if $G, G'$ are not allowed to be multigraphs, then the bijection $f$ is sufficient (if it satisfies the condition that $x \sim y$ if and only if $f(x) \sim f(y)$).

A __[[morphism]]__ from $G$ to $G'$ is any function $f: V \to V'$ together with, for each pair $x,y$ of vertices, a function from the fibre over $(x,y)$ (or $\{x,y\}$) to the fibre over $(f(x),f(y)$ (or $\{f(x),f(y)\}$); if $G, G'$ are not allowed to be multigraphs, then the function $f$ is sufficient, as long as $x \sim y$ only if $f(x) \sim f(y)$.

+--{: .query}
[[Mike Shulman]]: Isn't there something backwards about defining "isomorphic" and _then_ "isomorphism" and _then_ "morphism"?  Doesn't the logic generally flow in the other direction (especially around here)?

[[David Roberts]]: well at least there's a historical precedent: this is how Bourbaki would have done it via structures :)

_Toby_:  That, and it\'s simpler to state the definition of 'isomorphic' than 'isomorphism'.  Not to mention that graph theorists, in my experience, tend to care much more about the property of being isomorphic than the structure of having an isomorphism.  As for 'morphism', there\'s even disagreement about what that should be; I think that my definition is the obvious correct one, but it disagrees with the one at, for example, [Wikipedia](http://en.wikipedia.org/wiki/graph) (although they had my definition in the past); both versions give the same notion of isomorphism, however.
=--

When $G$ and $G'$ are not allowed to be pseudographs, note that there may be a morphism $f$ from $G$ to $G'$ in which $f(x) = f(y)$, even when there is a (non-loop) edge from $x$ to $y$.  This is why simple graphs should be interpreted as pseudographs in which $x \sim x$ always instead of $x \sim x$ never.
+-- {: .query}
Actually, I\'m getting conflicting reports on this from different sources, but this seems to most sensible way to me.  For example, then the category of graphs has a [[terminal object]], which may be identified with the [[point]].  ---Toby
=--


## References ##

* Harary, Frank (1969), _Graph Theory_, Addison-Wesley.
* Harary, Frank and Palmer, E.M. (1973), _Graphical Enumeration_, Academic Press.
* Lambek, J. and Scott, P.J. (1986), _Introduction to Higher Order Categorical Logic_, Cambridge University Press.


## Discussion ## {#talk}

[[Mike Shulman]]: At [[latest changes]] Jon Awbrey said

> The page on graph has become too baroque to fix, but there needs to be a place to record the basic definitions of graph theory that are actually used by the larger schools of math folks who actually dare to call themselves graph theorists.

I propose that we try to fix this page, instead of replacing it.  Let's discuss what exactly may be wrong with it.  Keep in mind that, as has been pointed out elsewhere, the nLab is not Wikipedia.  We are not obligated to present a view of a given subject which is in line with those of the "larger schools of math folks" who practice that subject, and frequently we don't.  Our attitude towards [[foundations]] and [[set theory]], for instance, are quite different from those of many or most mathematicians who study those fields; everything we do is colored by our especial interest in, and focus on, category theory, higher category theory, and higher algebraic structures.

That being said, I do think it is important to be careful with *definitions*.  We may take a different approach than other people, but in general we shouldn't redefine their words---instead we should use different words.  (Our use of [[n-category]] to mean "weak $n$-category" is, I believe, a justified exception to this general principle.)  So if there are definitions on this page that are different from those commonly accepted in most of mathematics, there may be a good argument to fix them.

I do also agree that the exposition could use some work.  In particular, I don't like definitions of the form "An X is a Y such that Z.  By default, we also require that W, otherwise we call it a not-quite X."  I much prefer definitions of the form "An X is a Y such that Z and W.  If a Y satisfies Z but not W, we call it a not-quite X."  I suppose that other people may feel differently, though.

_Toby_:  Part of the problem with 'graph' is that, like 'ring', different schools take the default in different ways.  I find directed multipseudographs much more interesting than simple graphs, which are simply sets equipped with one (ir)reflexive symmetric relation each.  We categorially minded people have (in an example dual to this one) mostly gotten everybody else to assume that rings are unital (although Zoran does not go along with this), although the algebraic geometers have so far not gotten the world at large to assume that rings are commutative.  (I don\'t even know who got people to assume that rings are associative; that may be lost in the mists of time.)  We may yet get people to allow graphs to be, by default, directed multipseudographs.  Whether or not this ever happens, it\'s true that 'graph' among category theorists most often means that, not the more restrictive default meaning used by graph theorists.

I like [[graph theory]] as a place to discuss what 'graph theorists' actually talk about; I would also like to see it more like [[topology]], but that could come with time, and with additional pages to discuss the defined terms.  (So far only very basic terms appear, and that may be all that we need for now, but there are plenty that could be added.)

[[Mike Shulman]]: Why not use this page to discuss all the possible variations, along with information and links regarding who uses the terminology in which way?  I think that could be really useful.  Graph theorists and category theorists aren't the only ones; for instance, people writing about [[locally presentable categories]] often use "graph" to mean a set equipped with a binary relation, since the category of such graphs has a "universality" property among lp categories.  

[[Jon Awbrey]]: I initiated this page with a particular purpose in mind, which was simply to anchor the fairly standard definitions that I'll be using throughout my other entries on site.  I stated my intentions here and on the Latest Changes page.  Then other people appropriated the page to a host of other purposes that make for a bootiful balloon indeed but a good anchor not so much.  That's okay, I like balloons, but I still need a $\bot$, if you cache my drift.

[[Todd Trimble]]: Jon, would you like your own personal web at the nLab? I'm sure someone would be glad to set it up for you, and then you can define your terms just the way you like without outside interference. (By the way, I'm looking at some of your other entries. We seem to have a mutual interest in C.S. Peirce.) But I'm not sure you can expect to set up your private moorings on a public space like this. 

While I don't agree with some of the aesthetic choices on this page, I think we need to recognize and record the different senses of "graph" (but I personally don't feel a need to make one sense pre-eminent and make that fit other cases). The elaborate terminology I could do without, frankly; it would be enough to list the different senses in the spirit people use them, and just be very clear on other pages which sense is meant, with plain terminology like "directed graph", "undirected graph", and so on. 

[[Jon Awbrey]]:  ___"fairly standard definitions"___ (hrumphasis added).  Yes, I can always use another scratchpad for developing works in e-gress, but that's not what I'm talking about here.  Again, it's fine by me if people want this page for e-cyclopedic ambitions, which is why I retreated to a new page at [[graph theory]] for recording standardly sourced defs and theorems from books and journals of that name.

[[Mike Shulman]]: "Fairly standard definitions" is not enough at the nLab.  We are not Wikipedia; we are a place for collaborative research, with a special place in our hearts for (higher) category theory.  Moreover just because you initiate a page, you can't expect to continue to "own" it; a wiki is all about building on other people's work.  But I still don't understand why you felt the need to retreat from this page at all; it still contains the same information, only now it is more explanatory and helps people to understand that terminology is used by different people in different ways.  Why is that something you want to avoid?  Why not join the rest of us and help clarify it and make it even better?

Todd, I assume by "elaborate terminology" you mean things like "directed pseudo multi graph"?  That is a bit of a mouthful.  I can see wanting to avoid that, but if it is terminology that graph theorists actually use (is it?) then it might be useful to include--although perhaps not quite so prominently. 

[[Todd Trimble]]: Yes, that's the kind of thing I meant. That particular phrase is not familiar to me, although if some (hopefully few!) graph theorists use it, perhaps the usage could be noted with more of a hint of ridicule or tongue in cheek -- these are very basic objects after all. 

From a logical point of view I think I see what Toby's after, but I'm against the idea of proliferating such fancy terms. I'd prefer keeping it real simple: say something like "graph can mean any of the following things", maybe qualified by a single adjective like 'simple', 'directed', 'undirected', etc., and more sociological discussion on which subcommunity uses what. Not pseudomultiwhatever, that sounds almost like a parody of math-talk. 

I'll join you in reiterating that no page here should be considered exempt from being edited by people after the first author, including for example [[graph theory]]. My own recommendation is that if some other page makes reference to one of the fairly standard notions of graph, then say just enough on which notion is meant to avoid any _likely_ confusions. (It's hard to spell this out legalistically, but I don't think confusion is very likely if for example someone writes "categories are monadic over graphs".) 

[[Jon Awbrey]]: _&curren; sigh &curren;_ I see we've reached the point where the quantity of words being put in my mouth renders my actual participation here redundant, soooo &mdash; back to the $n$-labyrinth &hellip;

_Toby_:  I don\'t think that anybody says 'directed multipseudograph' if they can avoid it; category theorists, for example, usually just say 'graph' (or maybe 'directed graph' or 'digraph') for that, since it is their default notion.  But if you say those words to ordinary graph theorists, then they will *not* know what you mean; if you say 'directed multigraph', then a lot of people will know what you mean, but not necessarily everybody.  The *only* unambiguous phrase that I know of is 'directed multipseudograph', but you would use this in the same way (or rather, a dual way) as Zoran uses 'commutative unital ring', which is to say that this is the kind of graph that you\'re discussing and that you will simply say 'graph' from now on.

Another way to say this, probably more common but also more wordy, is 'Our graphs will be directed, and they may have multiple edges and loops.'.  Personally, I would say just that if I were not including a definition of 'graph' myself, although I\'d probably add 'That is, they are _directed multipseudographs_.'.  If I were giving my own definition, then I\'d probably say something like 'A __graph__ (more precisely, a _directed multipseudograph_) is ...'; in fact, I think that I have done this somewhere here, although maybe I only did that for 'tree' (by which I meant a directed rooted [[tree]]) at [[pure set]].

[[Todd Trimble]]: Sure, I already got that point, but _if I were_ talking to graph theorists, I'd just preface with that wordier expression, with full confidence that it's clear and everyone understands it. Anyway, we're not talking to graph theorists; we're really (so far) just itemizing different senses in which people use the word 'graph', and I'd rather not promote ugly jargon of somewhat limited usefulness. (I wonder whether most graph theorists even understand what it means, whereas 'commutative unital' and 'directed rooted' are good honest expressions everyone understands. But I'm prepared to be convinced that it is in fact widely understood by graph theorists, and if so, then there's a good chance my stance will soften.) 

Picking a nit perhaps: is 'multigraph' completely unambiguous? There's another sense I think where multigraphs are things that generate multicategories (i.e., spans from $X^*$ to $X$). 

To Jon: I'm sorry if something I said upset you, but I don't think anyone here is putting words in your mouth. You said: "I initiated this page with a particular purpose in mind, which was simply to anchor the fairly standard definitions that I'll be using throughout my other entries on site." But looking to the needs of _other_ users of the nLab, the fact that this entry has expanded its scope seems entirely fitting. I wouldn't say it was "appropriated" particularly; Toby was just being helpful and addressing community needs. Similarly, people may perceive a need to expand the entry on [[graph theory]] (I hope someone will!), and in ways no one anticipates yet. Anyway, my feeling is that the present page should serve your anchoring needs; are your graphs just "simple graphs" as defined above? 

_Toby_:  I don\'t disagree with rewriting this page to use more longer sentences composed of shorter words, or something like that.  (See also my reply to Mike\'s query about (un)directed graphs in the definition.)  I just think that we should also introduce the long words at some point too.  As for 'multigraph', since we\'ve already bowed to the graph theorists\' default by using 'digraph' at [[digraph]], how about 'multidigraph'? (not to be confused with 'directed multigraph', of course).

_Todd_: Ha ha! Well, I guess you can anticipate my reaction. While my own preference is just to disambiguate as local occasions may demand, I guess there's no harm in throwing it against the wall and seeing whether it sticks. Go for it, sez I. 
