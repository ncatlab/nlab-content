
+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
### Context
#### Topology
+-- {: .hide}
[[!include topology - contents]]
=--
=--
=--

# Relational $\beta$-modules
* table of contents
{: toc}

## Idea

>One of my early Honours students at [[Macquarie University]] baffled his proposed Queensland graduate studies supervisor who asked whether the student knew the definition of a [[topological space]]. The aspiring researcher on [[dynamical system]]s answered positively: "Yes, it is a relational $\beta$-module!"  I received quite a bit of flak from colleagues concerning that one; but the student [[Peter Kloeden]] went on to become a full professor of mathematics in Australia then Germany.
---[[Ross Street]], in _[[An Australian conspectus of higher categories]]_

In 1970, [[Michael Barr]] gave an abstract definition of [[topological space]] based on a notion of [[convergence]] between [[ultrafilters]] (building on work by [[Ernest Manes]] on [[compact Hausdorff spaces]]).  Succinctly, Barr defined topological spaces as 'relational $\beta$-modules'.  It was subsequently realized that this was a special case of the notion of [[generalized multicategory]].  Here we unpack this definition and examine its properties.

The correctness of this definition (in the sense of matching [[Bourbaki]]\'s definition) is equivalent to the [[ultrafilter principle]] ($UP$).  However, the definition can be treated on its own, even in a context without $UP$.  So we also consider the properties of relational $\beta$-modules when these might not match Bourbaki spaces.


## Definitions

### Abstract description 

If $S$ is a [[set]], let $\beta{S}$ be the set of [[ultrafilters]] on $S$. This set is canonically identified with the set of Boolean algebra homomorphisms 

$$P(S) \to \mathbf{2},$$ 

from the power set of $S$ to $\mathbf{2}$, the unique Boolean algebra with two elements. The 2-element set carries a [[dualizing object]] structure that induces an evident [[adjoint pair]] 

$$(Set \stackrel{P}{\to} Bool^{op}) \; \dashv \;  (Bool^{op} \stackrel{\hom(-, \mathbf{2})}{\to} Set)$$ 

so that the composite [[functor]] $\beta = \hom(P-, \mathbf{2}): Set \to Set$ carries a [[monad]] structure. 

The functor $\beta : Set \to Set$ extends to [[Rel]] as follows: given a [[binary relation]] $r\colon X \to Y$, written as a subobject in $Set$

$$R \stackrel{\langle \pi_1, \pi_2 \rangle}{\to} X \times Y,$$ 

we define $\beta(r): \beta(X) \to \beta(Y)$ to be the relation obtained by taking the image of $\langle \beta(\pi_1), \beta(\pi_2) \rangle: \beta(R) \to \beta(X) \times \beta(Y)$. It turns out, although it is by no means obvious, that $\beta$ is according to this definition a _strict_ functor on $Rel$. 

The monad structure on $\beta: Set \to Set$, given by a unit $u: 1 \to \beta$ and multiplication $m: \beta \beta \to \beta$, extends not to a strict monad on $Rel$, but rather one where the transformations $u, m$ are op-lax in the sense of there being inequalities 

$$\array{
X & \stackrel{u_X}{\to} & \beta X & & & & & & \beta \beta X & \stackrel{m_X}{\to} & \beta X \\  
\mathllap{r} \downarrow & \leq & \downarrow \mathrlap{\beta(r)} & & & & & & \mathllap{\beta \beta (r)} \downarrow & \leq & \downarrow \mathrlap{\beta(r)} \\
Y & \underset{u_Y}{\to} & \beta Y & & & & & & \beta \beta Y & \underset{m_Y}{\to} & \beta Y
}$$ 

(while of course the monad associativity and unit conditions remain as equations: hold on the nose). 

Then a __relational $\beta$-module__ is a [[lax algebra]] (module) of $\beta$ on the [[2-poset]] $Rel$. In other words, a set $S$ equipped with a relation $\xi: \beta S \to S$ such that the following inequalities hold: 

$$\label{rel1} \array{
S & \stackrel{u_S}{\to} & \beta S & & & & & & \beta \beta S & \stackrel{m_S}{\to} & \beta S \\
 & \mathllap{1_S} \searrow \; \leq & \downarrow \mathrlap{\xi} & & & & & & \mathllap{\beta(\xi)} \downarrow & \leq & \downarrow \mathrlap{\xi} \\ 
 & & S & & & & & & \beta S & \underset{\xi}{\to} & S
}$$ 

Arguably, it is better to consider $Rel$ as a [[proarrow equipment]] in this construction, in order to accommodate [[continuous functions]] between topological spaces (not continuous relations!) as the appropriate abstract notion of morphism between relational $\beta$-modules.  See [[generalized multicategory]] for a more generalized context. 


### Bridge to a concrete description 

A __relational $\beta$-module__ is a [[set]] $S$ and a [[binary relation]] $\xi: \beta S \to S$ between [[ultrafilters]] on $S$ and [[elements]] of $S$ that satisfy the conditions (eq:rel1) . For $F \in \beta S$ and $x \in S$, we write $F \rightsquigarrow_\xi x$ if $(F, x)$ satisfies the relation $\xi$, or often just $F \rightsquigarrow x$ if the relation is clear. We pronounce this by saying "the ultrafilter $F$ _converges_ to the point $x$", so that $\xi$ plays the role of "notion of convergence". 

Preliminary to explaining the conditions (eq:rel1), we first set up a [[Galois connection]] between $\xi \in Rel(\beta S, S)$ and subsets $\mathcal{C} \in P P(S)$, so that fixed points on the $P P(S)$ side are exactly topologies on $S$, and fixed points on the other side are (as we show below) lax $\beta$-module structures on $S$. The Galois connection would then of course restrict to a Galois correspondence between topologies and lax module structures. 

Recall that each topology $\mathcal{O} \subseteq P(S)$ induces a notion of convergence where $F \rightsquigarrow x$ means $N_x \subseteq F$ ($F$ contains the filter of neighborhoods of $x$). Accordingly, for general $\mathcal{C} \subseteq P(S)$, define the relation $conv(\mathcal{C}) = \xi: \beta S \to S$ by 

$$F \rightsquigarrow_\xi x \;\;\; \Leftrightarrow \;\;\; (\forall_{U \in P(S)})\; U \in \mathcal{C} \; \wedge \; x \in U \; \Rightarrow \; U \in F.$$ 

Conversely, a topology $\mathcal{O}$ can be retrieved from its notion of convergence: under the ultrafilter principle, the neighborhood filter of a point $x$ is just the intersection of all ultrafilters containing it (hence all $F$ such that $F \rightsquigarrow x$), and then a set is open if it is a neighborhood of all of its elements. Accordingly, for general "notions of convergence" $\xi \in Rel(\beta S, S)$, we define a collection $\tau(\xi) \subseteq P(S)$ by 

$$\tau(\xi) \coloneqq \{U \subseteq S: (x \in U \; \wedge\; F \rightsquigarrow_\xi x) \Rightarrow U \in F\}.$$ 

+-- {: .num_prop #topology} 
###### Proposition 
$\tau(\xi)$ is a topology on $S$. 
=-- 

+-- {: .proof}
###### Proof 
It is trivial that $S \in \tau(\xi)$. If $U, V \in \tau(\xi)$, and if $x \in U \cap V$ and $F \rightsquigarrow x$, then also $x \in U$ and $x \in V$ and we conclude $U, V \in F$, whence $U \cap V \in F$ since $F$ is an ultrafilter, so that $U \cap V$ satisfies the condition of belonging to $\tau(\xi)$. Given a collection of elements $U_i \in \tau(\xi)$, if $x \in \cup_i U_i$ and $F \rightsquigarrow x$, then $x \in U_i$ for some $i$ and we conclude $U_i \in F$, whence $\cup_i U_i \in F$ since $F$ is upward closed. Therefore $\cup_i U_i$ satisfies the condition of belonging to $\tau(\xi)$ (vacuously so if the collection is empty). 
=-- 

+-- {: .num_prop #galois} 
###### Proposition 
There is a Galois connection between notions of convergence on $S$ and subsets of $P(S)$, according to the bi-implication 

$$\mathcal{C} \subseteq \tau(\xi) \; \Leftrightarrow \; \xi \subseteq conv(\mathcal{C}).$$ 

=-- 

+-- {: .proof} 
###### Proof 
To establish the bi-implication, it suffices to observe that both containments $\mathcal{C} \subseteq \tau(\xi)$ and $\xi \subseteq conv(\mathcal{C})$ are equivalent to the condition 

$$\forall_{F: \beta S} \forall_{U: P S} \forall_{x: S} (F \rightsquigarrow_\xi x) \; \wedge \; (U \in \mathcal{C}) \; \wedge \; (x \in U) \; \; \Rightarrow \; \; (U \in F).$$ 
=-- 

+-- {: .num_prop #fix} 
###### Proposition 
If $\mathcal{O}$ is a topology on $S$, then $\mathcal{O} = \tau(conv(\mathcal{O}))$. 
=-- 

+-- {: .proof} 
###### Proof 
We already have $\mathcal{O} \subseteq \tau(conv(\mathcal{O}))$ from Proposition \ref{galois}. For the other direction, we must show that any $V$ belonging to $\tau(conv(\mathcal{O}))$ is a neighborhood of each of its points. Suppose the contrary: that $x \in V$ but $V$ is not a neighborhood of $x$. Then for every neighborhood $U \in N_x$, we have $U \cap \neg V \neq \emptyset$, so that sets of this form generate a filter. Extend to an ultrafilter $F$; clearly we have $F \rightsquigarrow x$ and $\neg V \in F$, but since $F \rightsquigarrow x$ and $V \in \tau(conv(\mathcal{O}))$ and $x \in V$, we also have $V \in F$, which is inconsistent with $\neg V \in F$. 
=-- 

These propositions demonstrate that a topological space is a particular type of [[pseudotopological space]].  (A pseudotopological space is just a relational $\beta$-module which omits the "associativity" axiom.) All that remains is to check the unit condition 

One of our goals is to prove the following theorem: 

+-- {: .num_theorem #conc} 
###### Theorem 
An arrow $\xi: \beta(S) \to S$ in $Rel$ is of the form $conv(\tau(\xi))$ if and only if the following inequalities are satisfied: 

$$1_S \leq \xi \circ prin_S, \qquad \xi \circ \beta(\xi) \leq \xi \circ m_S$$ 

where $m_S: \beta \beta(S) \to \beta(S)$ is the multiplication on the ultrafilter monad. 
=--

## Ultrafilter functor on $Rel$ 

We now pause to examine more closely the extension of the ultrafilter functor $\beta: Set \to Set$ to $Rel$, showing in particular that the extension is a strict functor. First we slightly rephrase our earlier definition: 

+-- {: .num_defn} 
###### Definition 
For a relation $r: X \to Y$ between sets, given by a subobject $R \hookrightarrow X \times Y$ in $Set$ with projections $f: R \to X$ and $g: R \to Y$, define $\bar{\beta}(r)$ to be the composite 

$$\beta(X) \stackrel{\beta(f)^{o}}{\to} \beta(R) \stackrel{\beta(g)}{\to} \beta(Y)$$ 

in the bicategory of relations. 
=-- 

Any span of functions $(h: S \to X, k: S \to Y)$ that represents $r$ (in the sense that $r = k h^{o}$ in the bicategory of relations) would serve in place of $(f, g)$, since for any such span there is an epi $s: S \to R$ with $h = f s$, $k = g s$, whence $\beta(s)$ is epi (because the epi $s$ splits in $Set$) and we have 

$$\array{
\beta(g)\beta(f)^{o} & = & \beta(g)\beta(s)\beta(s)^{o}\beta(f)^{o} \\
 & = & \beta(g)\beta(s)(\beta(f)\beta(s))^{o} \\ 
 & = & \beta(g s)\beta(f s)^{o} \\ 
 & = & \beta(k)\beta(h)^{o}.
}$$ 

In particular, $\bar{\beta}$ is well-defined. Since $\bar{\beta}$ extends $\beta: Set \to Set$, there is no harm in writing $\beta(r)$ in place of $\bar{\beta}$. If $r \leq r': X \to Y$, then $\beta(r) \leq \beta(r')$ (as can be seen from the calculation displayed above, but replacing the epi $s$ by a general map $f$, and the first equation by an inequality $\geq$). 

+-- {: .num_remark #oplax}
###### Remark 
The same recipe works to extend any functor $T: Set \to Set$ to $Rel$; in general, and the extension $\bar{T}: Rel \to Rel$ is always an _op-lax_ functor in the sense that 

$$\bar{T}(r s) \leq \bar{T}(r) \bar{T}(s)$$ 

as is easily seen by contemplating a pullback diagram (where $r = g f^{o}$ and $s = k h^{o}$): 

$$\array{
 & & & & Q & & & & \\ 
 & & & \mathllap{p} \swarrow & & \searrow \mathrlap{q} & & & \\
 & & R & & & & S & & \\
 & \mathllap{f} \swarrow & & \searrow \mathrlap{g} & & \mathllap{h} \swarrow & & \searrow \mathrlap{k} & \\ 
X & & & & Y & & & & Z
}$$ 

whereupon one calculates 

$$\array{
\bar{T}(r s) & = & T(k q) T(f p)^{o} \\ 
 & = & T(k) T(q) T(p)^{o} T(f)^{o} \\ 
 & \leq & T(k) T(h)^{o} T(g) T(f)^{o} \\ 
 & = & \bar{T}(r) \bar{T}(s) 
}$$ 

where the inequality comes from $T(q) T(p)^{o} \leq T(h)^{o} T(g)$, which is equivalent to $T(h) T(q) \leq T(g) T(p)$ (where even equality holds). This calculation shows that $\bar{T}$ is an actual (not just an op-lax) functor on $Rel$ iff $T$ satisfies the **Beck-Chevalley** condition: if $(p, q)$ is a pullback of $(g, h)$, then 

$$T(q) T(p)^{o} = T(h)^{o} T(g).$$ 

This in turn amounts to $T$ preserving weak pullbacks. (It actually says $T$ takes pullbacks to weak pullbacks, but this implies $T$ takes weak pullbacks to weak pullbacks because any endofunctor $T$ on $Set$ preserves epis, using the axiom of choice.) 
=-- 

+-- {: .num_prop} 
###### Proposition 
The functor $\beta: Set \to Set$ satisfies the Beck-Chevalley condition (and therefore the extension $\beta: Rel \to Rel$ is a strict functor). 
=-- 

+-- {: .proof} 
###### Proof 
Referring to the pullback diagram in Remark \ref{oplax}, let $Q = R \times_Y S$ be the pullback. We must show that the canonical map 

$$\beta(R \times_Y S) \to \beta(R) \times_{\beta(Y)} \beta(S)$$ 

is epic. Viewing this as a continuous map between compact Hausdorff spaces, it suffices to show that the canonical map 

$$R \times_Y S \to \beta(R) \times_{\beta(Y)} \beta(S)$$ 

has a dense image (cf. the proof of Theorem \ref{free}). Let $(G, H) \in \beta(R) \times_{\beta(Y)} \beta(S)$, so that $\beta(g)(G) = \beta(h)(H)$ are the same ultrafilter $J \in \beta(Y)$. Let $\hat{A}$ and $\hat{B}$ be basic open neighborhoods of $G$ and $H$ in $\beta(R)$ and $\beta(S)$ respectively; we must show that there is $(r, s) \in R \times_Y S$ such that 

$$(prin(r), prin(s)) \in \hat{A} \times \hat{B}$$ 

or in other words such that $r \in A$ and $s \in B$. We have $g^{-1}(g(A)) \in G$ since $A \in G$ and $A \subseteq g^{-1}(g(A))$, so that $g(A)$ belongs to 

$$J = \beta(g)(G) \coloneqq \{C \subseteq Y: g^{-1}(C) \in G\}$$ 

and similarly $h(B) \in J$. It follows that $g(A) \cap h(B) \in J$ so that $g(A) \cap h(B) \neq \emptyset$. Any element $y \in g(A) \cap h(B)$ can be written as $y = g(r)$ and $y = h(s)$ for some $r \in A$ and $s \in B$, and this completes the proof. 
=-- 

## Proof of theorem \ref{conc} 

We now resume the main line of development. 

+-- {: .num_remark} 
###### Remark 
The following conditions are equivalent: 

* $\xi = conv(\mathcal{C})$ for some $\mathcal{C} \subseteq P(S)$; 

* $\xi = conv(\mathcal{O})$ for some topology $\mathcal{O} \subseteq P(S)$; 

* $\xi = conv(\tau(\xi))$. 

Indeed, $conv \circ \tau \circ conv = conv$ by general properties of Galois connections. Applying $conv \circ \tau$ to both sides of the first equation, we have 

$$conv(\tau(\xi)) = (conv \circ \tau \circ conv)(\mathcal{O}) =  conv(\mathcal{O}) = \xi$$ 

so the first equation implies the third. Which in turn implies the second, since we know that collections $\mathcal{O}$ of the form $\tau(\xi)$ are topologies. The second equation trivially implies the first. 
=-- 

## Properties

We say that $\mathcal{U}$ __converges__ to $x$ if $\mathcal{U} \to x$.

As above, a [[subset]] $A$ of $S$ is __[[open subset|open]]__ if $A \in \mathcal{U}$ whenever $\mathcal{U} \to x \in A$.  On the other hand, $A$ is __[[closed subset|closed]]__ if $x \in A$ whenever $A \in \mathcal{U} \to x$.

A relational $\beta$-module is __[[compact space|compact]]__ if every ultrafilter converges to at least one point.  It is __[[Hausdorff space|Hausdorff]]__ if every ultrafilter converges to at most one point.  Thus, a __[[compactum]]__ is (assuming $UF$) precisely a relational $\beta$-module in which every ultrafilter converges to exactly one point, that is in which the action of the monad $\beta$ lives in $Set$ rather than in $Rel$; see [[ultrafilter monad]].

...


## Relation to nonstandard analysis

In [[nonstandard analysis]] (which implicitly relies throughout on $UF$), one may define a topological space using a relation between hyperpoints (elements of $S^*$) and standard points (elements of $S$).  If $u$ is a hyperpoint and $x$ is a standard point, then we write $u \approx x$ and say that $x$ is a __[[standard part]]__ of $u$ or that $u$ belongs to the __[[halo]]__ (or _monad_, but *not* the category-theoretic kind) of $x$.  This relation must satisfy a condition analogous to the condition in the definition of a relational $\beta$-module.  The nonstandard defintions of open set, compact space, etc are also analogous.  (Accordingly, one can speak of *the* standard part of $u$ only for Hausdorff spaces.)

So ultrafilters behave very much like hyperpoints.  This is not to say that ultrafilters *are* (or even can be) hyperpoints, as they don\'t obey the [[transfer principle]].  Nevertheless, one does use ultrafilters to construct the [[model]]s of nonstandard analysis in which hyperpoints actually live.  Intuitions developed for nonstandard analysis can profitably be applied to ultrafilters, but the transfer principle is not valid in proofs.


## Relation to other topological concepts

If $\beta$ is treated as a monad on $Set$ instead of on $Rel$, then its algebras are the [[compacta]] (the compact Hausdorff spaces), again assuming $UP$; see [[ultrafilter monad]].

One might hope that there would be an analogous treatment of [[uniform spaces]] based on an [[equivalence relation]] between ultrafilters.  (In nonstandard analysis, this becomes a relation $\approx$ of infinite closeness between arbitrary hyperpoints, instead of only a relation between hyperpoints and standard points.)  The description in terms of generalized multicategories is known to generalize to a description of uniform spaces, but rather than using relations between ultrafilters, this description uses pro-relations between points.


[[!redirects relational beta-module]]
[[!redirects relational beta-modules]]
[[!redirects relational β-module]]
[[!redirects relational β-modules]]
