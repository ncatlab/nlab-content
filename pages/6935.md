
+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
### Context
#### Type theory
+-- {: .hide}
[[!include type theory - contents]]
=--
=--
=--


#Contents#
* table of contents
{:toc}

## Idea

An _inductive type_ it...

In terms of [[categorical semantics]], an _inductive type_ is a type whose interpretation is given by an [[initial algebra of an endofunctor]].

This has the usual meaning in ordinary [[category theory]]. In applications to [[(∞,1)-category theory]], the uniqueness clause in the notion of initial object is modified to allow for a [[contractible space]] of choices (as discussed at _[[initial object in an (∞,1)-category]]_), and this difference is reflected accordingly in the type-theoretic set-up. The [[syntax]] will give back the traditional meaning whenever equality is interpreted [[extensional type theory|extensionally]].

## Definition

### Rules for inductive types

> To be written. ...there are introduction, elimination, and computation rules...


### Categorical semantics

We discuss the [[categorical semantics]] of inductive types.

+-- {: .num_remark}
###### Remark

Traditionally in [[category theory]], the notion of an [[initial algebra of an endofunctor|initial algebra]] $W$ [[algebra for an endofunctor|for an endofunctor]] $F$ can be broken down into three parts: 


1. It is an $F$-algebra, given by a structure $F(W) \to W$. Typically this structure is delivered in terms of _constructors_ (maps into $W$ out of the components of a coproduct decomposition of $F(W)$).

1. For any algebra $A$, there exists an algebra map $W \to A$.

1. Any two algebra maps from $W$ to $A$ are equal. 


=--

In the type theoretic use of the notion, the same concept is naturally thought of as broken down a bit differently (for a variety of reasons):


+-- {: .num_defn #InterpretationOfTheRules}
###### Definition

The categorical interpretation of introduction, elimination and computation rule are the following.

1. **introduction rule** 

   The interpretation of inductive term introduction is by a morphism

   $$
     F(W) \to W
   $$


1. **elimination rule** 

   Given a [[display map]] (e.g., a [[fibration]]) $B \to W$, where $B$ is given an algebra structure and the display map is an algebra map, the (dependent) eliminator is interpreted as a specified [[section]] $\sigma : W \to B \in \mathcal{C}_{/W}$

   $$
     \array{
       W &&\stackrel{\sigma}{\to}&& B
       \\
        & {}_{\mathllap{id}}\searrow && \swarrow_{\mathrlap{}}
       \\
       && W
     }
   $$

1. **computation rule** 

   That section $\sigma$ is required to be an [[algebra for an endofunctor|algebra]] [[homomorphism]].

=--


+-- {: .num_remark #EliminationInterpretationImpliesMapsOut}
###### Remark

For the special case that $B \to W$ is a [[projection]] $p_1 : W \times A \to W$, the elimination and comutation rule imply in particular a specified algebra homomorphism from $W$ to any other $F$-algebra $A$.

=--

+-- {: .num_prop #BothFormulationsOfInitialityAreEquivalent}
###### Proposition

When interpreted in a category $\mathcal{C}$ of [[homotopy type|homotopy 0-types]] = sets,
definition \ref{InterpretationOfTheRules}
is equivalent to saying that $W$ is an [[initial algebra for an endofunctor|initial algebra]] for $F$.

=--

+-- {: .proof}
###### Proof

One direction is immediate: suppose that $W$ is an initial algebra. Then by definition it comes with a morphism $F(W) \to W$. Then since [[initial object|initiality]] entails first of all the existence of a morphims to any other object it follows that with $B$ another $F$-algebra there is a homomorphism $W \to B$, and since secondly initiality entails uniqueness of this morphism, it follows that given a homomorphism $B \to W$ the composite $W \to B \to W$ has to equal the identity $id_W$, hence that $B \to W$ has a section, and uniquely so.

Conversely, assume that $W$ satisfies definition \ref{InterpretationOfTheRules}.
By remark \ref{EliminationInterpretationImpliesMapsOut} we have a homomorphism from $W$ to any other $F$-algebra $A$. Therefore to show that $W$ is an initial $F$-algebra it remains to show that for $f, g : W \to A$ two algebra homomorphism, they are necessarily equal.

To that end, notice that by the assumption of 0-truncation, the [[diagonal]]  $\delta \colon A \to A \times A$ is a display map / fibration. 

Form its [[pullback]] $P$ 

$$
  \array{
    P & \to & A 
    \\
    \downarrow & & \downarrow^\mathrlap{\delta} 
    \\
    W & \underset{\langle f, g \rangle}{\to} & A \times A,
  }
  \,,
$$ 

which is also an algebra homomorphism. Therefore by the interpretation of the elimination rule it has a (specified) [[section]] $\sigma : W \to P$. But $P \to W$ is the pullback of a [[monomorphism]] and therefore itself a monomorphism, and so the section forces it to be in fact an [[isomorphism]]. This in turn means that $f$ and $g$ are equal. 

=--

+-- {: .num_remark }
###### Remark

Notice that this is the [[induction]] principle (subalgebras of an initial algebra are the whole initial algebra). 

=--

+-- {: .num_remark }
###### Remark

In [[intensional type theory]], where the diagonal is not a display map, we can perform the same argument using a [[path object]] $P A \to A \times A$ (represented in type theory by an [[identity type]]), showing thereby that $f$ and $g$ are homotopic.  A fancier version of this argument enables us to show that the space of algebra maps $W\to A$ is actually contractible. In other words, the axioms for an inductive type still imply that algebra maps out of $W$ are essentially unique, even though the axioms do not state this explicitly. 

=--


## Properties

### Homotopy initiality

Any inductive type $W$ is a homotopy initial F-[[algebra over an endofunctor|algebra]]: 
the space
of $F$-[[algebra for an endofunctor|algebra]] maps $W \to X$ is 
[[contractible]].

([Awodey-Gambino-Sojakova](#AwodeyGambinoSojakova))

## Examples

### Natural numbers
 {#NaturalNumbers}

#### Introduction, elimination, computation

+-- {: .num_defn #InterpretationOfTheRules}
###### Definition

The [[type of natural numbers]] $\mathbb{N}$ is the inductive type defined as follows.

1. **introduction rule**

   $$
     \frac{}{0 \in \mathbb{N}}
     \;\;
     \frac{n \in \mathbb{N}}{s(n) \in \mathbb{N}}
   $$

1. **elimination rule**

   $$
     \frac{
        \left(
        x \in \mathbb{N} \vdash  P(x) : Type
        \;\;
        \vdash p_0 : C(0)
        \;\;\;
        x \in \mathbb{N}, p : C(x) \vdash p : P(s x)
       \right)
       \;\;
       \vdash n \in \mathbb{N}
     }{
       p(n) : P(n)
     }
   $$

   (check, this probably still has syntax errors...)
   
1. **computation rule**

   (...)

=--

See for instance ([Pfenning, section 2](#Pfenning)).

In [[Coq]]-[[syntax]] the [[natural numbers]] are the inductive type defined by

    Inductive nat : Type :=
     | zero : nat
     | succ : nat -> nat.

In the [[categorical semantics]]
this is interpreted as the [[initial algebra for an endofunctor|initial algebra]] for the endofunctor $F$ that sends an object to its [[coproduct]] with the [[terminal object]] 

$$
  F(X) = * \coprod X
  \,,
$$

or in different equivalent notation, which is very suggestive here:

$$
  F(X) = 1 + X
  \,.
$$

That [[initial algebra for an endofunctor|initial algebra]] is (as explained there) precisely a [[natural number object]] $\mathbb{N}$. The two components of the morphism $F(\mathbb{N}) \to \mathbb{N}$ that defines the algebra structure are the 0-[[generalized element|element]] $zero : * \to \mathbb{N}$ and the successor [[endomorphism]] $successor : \mathbb{N} \to \mathbb{N}$

$$
  (zero,successor) : * \coprod \mathbb{N} \to \mathbb{N}
  \,.
$$

In the following we write of course for short $0 : * \to \mathbb{N}$ and $s : \mathbb{N} \to \mathbb{N}$.

#### Induction

+-- {: .num_example}
###### Example

We spell out in detail how the [[initial object|initiality]] of this object is the classical [[induction principle]]. 

That principle says informally that if a [[proposition]] $P$ depending on the natural numbers is true at $n = 0$ and such that if it is true for some $n$ then it is true for $n+1$, then it is true for all natural numbers.
 
Here is how this is formalized in type theory and then [[categorical semantics|interpreted]] in some suitable ambient category $\mathcal{C}$.

First of all, that $P$ is a proposition depending on the natural numbers means that it is a [[dependent type]]

$$
  n \in \mathbb{N} \vdash P(n) : Type
  \,.
$$ 

The categorical interpretation of this is by a [[display map]]

$$
  \array{
     P 
     \\
     \downarrow
     \\
     \mathbb{N}
  }
$$

in the given category $\mathcal{C}$.

Next, the fact that $P$ holds at 0 means that there is a ([[proof]]-)[[term]]

$$
  \vdash p_0 \in P(0)
  \,.
$$

In the categorical semantics the [[substitution]] of $n$ for 0 that gives $P(0)$ is given by the [[pullback]] of the above fibration

$$
  \array{
    0^* P &\to& P
    \\
    \downarrow && \downarrow
    \\
    * &\stackrel{0}{\to}& \mathbb{N}
  }
$$

and the [[term]] $p_0$ is interpreted as a [[section]] of the resultig fibration over the terminal object

$$
  \array{
    * &\stackrel{p_0}{\to}& 0^* P &\to& P
    \\
    &\searrow& \downarrow && \downarrow
    \\
    && * &\stackrel{0}{\to}& \mathbb{N}
  }
  \,.
$$

But by the defining [[universal property]] of the pullback, this is equivalently just a [[commuting diagram]]

$$
  \array{
    * &\stackrel{p_0}{\to}& P
    \\
    \downarrow && \downarrow
    \\
    * &\stackrel{0}{\to}& \mathbb{N}
  }
  \,.
$$

Next the induction step. Formally it says that for all $n \in \mathbb{N}$ there is an [[implication]] $p_s(n) : P(n) \to P(n+1)$

$$
  n \in \mathbb{N} \vdash p_s(n)  : P(n) \to   P(n+1)
$$

The categorical semantics of the [[substitution]] of $n+1$ for $n$ is now given by the [[pullback]]

$$
  \array{
     P((-)+1) \coloneqq & s^*P &\to& P
     \\
     & \downarrow && \downarrow 
     \\
     & \mathbb{N} &\stackrel{s}{\to}& \mathbb{N}
  }
$$

and the interpretation of the implication term $p_s(n)$ is as a morphism $P \to s^* P$ in $\mathcal{C}_{/\mathbb{N}}$

$$
  \array{
     P & \stackrel{p_s}{\to} &  s^*P &\to& P
     \\
     &\searrow & \downarrow && \downarrow 
     \\
     && \mathbb{N} &\stackrel{s}{\to}& \mathbb{N}
  }
  \,.
$$

Again by the [[universal property]] of the pullback this is the same as a [[commuting diagram]]

$$
  \array{
     P &\stackrel{p_s}{\to}& P
     \\
     \downarrow && \downarrow 
     \\
     \mathbb{N} &\stackrel{s}{\to}& \mathbb{N}
  }
  \,.
$$

In summary this shows that the fact that $P$ is a proposition depending on natural numbers which holds at 0 and which holds at $n+1$ if it holds at $n$ is interpreted precisely as an $F$-[[algebra for an endofunctor|algebra homomorphism]]

$$
  \array{
     P
     \\
     \downarrow
     \\
     \mathbb{N}
  }
  \,.
$$

The [[induction principle]] is supposed to deduce from this that $P$ holds for every $n$, hence that there is a proof $p_n : P(n)$ for all $n$:

$$
  n \in \mathbb{N} \vdash p(n) : P(n)
  \,.
$$

The categorical interpretation of this is as a morphism $p : \mathbb{N} \to P$ in $\mathcal{C}_{/\mathbb{N}}$. The existence of this is indeed exactly what the interpretation of the elimination rule, def. \ref{InterpretationOfTheRules}, gives, or (equivalently by prop. \ref{BothFormulationsOfInitialityAreEquivalent}) exactly what the initiality of the $F$-algebra $\mathbb{N}$ gives.

=--


### Identity types
 {#IdentityTypes}

The introduction, elimination and computation rules for _[[identity types]]_ are discussed there.

In [[Coq]]-[[syntax]] the [[identity types]] are the inductive types (or more precisely, the inductive *family*) defined by

    Inductive id {A} : A -> A -> Type := 
      idpath : forall x, id x x.

#### Categorical semantic

We may [[categorical semantics|interpret]] identity types in suitable categories $\mathcal{C}$ such as a [[type-theoretic model category]].

The [[categorical semantics|categorical interpretation]] of identity types in a category $\mathcal{C}$ is as   [[initial algebra of an endofunctor|initial algebra]] for the [[endofunctor]] 

$$
  F : \mathcal{C}_{/A \times A} \to 
  \mathcal{C}_{/A \times A}
$$

of the [[slice category]] $\mathcal{C}_{/A \times A}$ over $A\times A$ which is constant at the [[diagonal]] $A\to A\times A$:

$$
  F (\langle E \to A \times A\rangle) = \langle A \stackrel{\Delta}{\to} A \times A\rangle
  \,.
$$

So an [[algebra for an endofunctor|algebra]] for this endofunctor is a morphism

$$
  \array{
    A &&\to&& E
    \\
    & {}_{\mathllap{\Delta}}\searrow && \swarrow
    \\
    && A \times A
  }
$$

and the [[initial object|initial]] such is the [[path space object]] $A^I \to A \times A$.

#### Induction

The [[induction principle]] for [[identity types]] is the principle of "substitution of equals for equals" or the like.

To have an $F$-algebra $\langle E \to A\times A\rangle$ over $\langle A^I \to A \times A\rangle$ means precisely to have a diagram

$$
  \array{
    && E 
    \\
    & \nearrow& \downarrow
    \\
    A &\to& A^I
    \\
    &\searrow& \downarrow
    \\
    && A \times A
  }
$$
 
in $\mathcal{C}$.

This is the interpretation of the elimination rule: $E \to A^I$ is the interpretation of a type 

$$
  a,b \in A , p : (a = b) \vdash E(a,b,p)
$$

and the lift $A \to E$ is a [[section]] of the [[pullback]] of $E$ to $A$, hence an interpretation of a [[term]] in the [[substitution]]

$$
  s : E(a,a,r_a)
  \,.
$$

The elimination rule then says that this extends to a section $A^I \to E$, hence a "proof of $E$ over all identifications" $a = b$.

(...)

## Related concepts

* [[initial algebra of an endofunctor]]

* [[W-type]]

* [[higher inductive types]]

## References

A very basic introduction to the concept, with an eye towards explaining [[identity types]] is in 

* [[Mike Shulman]], _Induction on equality_ ([pdf](http://www.math.ucsd.edu/~mshulman/papers/induction.pdf))

Expositions (with an eye towards [[higher inductive types]]) include

* [[Mike Shulman]], _Homotopy type theory IV_ ([web](http://golem.ph.utexas.edu/category/2011/04/homotopy_type_theory_vi.html))

* [[Peter LeFanu Lumsdaine]], _Higher inductive types, a tour of the menageries_ ([blog post](http://homotopytypetheory.org/2011/04/24/higher-inductive-types-a-tour-of-the-menagerie/))

* [[Mike Shulman]], _Inductive and higher inductive types_, talk slides (2012) ([pdf](http://www.math.ucsd.edu/~mshulman/hottminicourse2012/04induction.pdf))

Original references include

* [[Per Martin-Löf]], _Intuitionistic Type Theory_. Notes by G. Sambin of a series of lectures given in Padua, 1980. Bibliopolis, 1984.

The formalization in [[Coq]] is discussed in 

* Eduardo Giménez, Pierre Castéran, _A Tutorial on [Co-]Inductive Types in Coq_ ([pdf](http://flint.cs.yale.edu/cs428/coq/pdf/RecTutorial.pdf))

A study of the homotopy-initiality of inductive types in [[homotopy type theory]] is in

* [[Steve Awodey]], [[Nicola Gambino]], [[Kristina Sojakova]], *Inductive types in homotopy type theory* ([arXiv:1201.3898](http://arxiv.org/abs/1201.3898))
 {#AwodeyGambinoSojakova}

The corresponding [[Coq]]-code is at

* [https://github.com/HoTT/HoTT/tree/master/Coq/IT](https://github.com/HoTT/HoTT/tree/master/Coq/IT)

Exposition and discussion of that result is in 

* [[Steve Awodey]], _Inductive types in Hott_ ([blog post](http://homotopytypetheory.org/2012/01/19/inductive-types-in-hott/))

Discussion of the inductive type of natural numbers is in 

* Frank Pfenning, _Lecture notes on natural numbers_ (2009) ([pdf](http://www.cs.cmu.edu/~fp/courses/15317-f09/lectures/06-nat.pdf))
  {#Pfenning}

[[!redirects inductive types]]
