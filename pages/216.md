
+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
### Context
#### Category theory
+-- {: .hide}
[[!include category theory - contents]]
=--
#### Algebra
+--{: .hide}
[[!include higher algebra - contents]]
=--
=--
=--


#Contents#
* table of contents
{:toc}

## Definition

+-- {: .num_defn #CategoryAlgebra}
###### Definition

Let $\mathcal{C}$ be a [[small category]] and let $R$ be a [[ring]].

The **category algebra** or **[[convolution algebra]]** $R[\mathcal{C}]$ of $\mathcal{C}$ over $R$ is the $R$-[[associative algebra|algebra]]

* whose underlying $R$-[[module]] is the [[free module]] $R[\mathcal{C}_1]$ over the set of [[morphisms]] of $\mathcal{C}$;

* whose product operation is defined on [[basis]]-elements $f,g \in \mathcal{C}_1 \hookrightarrow R[\mathcal{C}]$ to be their [[composition]] if they are composable and zero otherwise:

  $$
    f \cdot g := \left\lbrace
      \array{
        g \circ f & if\;composable
        \\
        0 & otherwise
      }
    \right.
   \,.
  $$ 

=--

+-- {: .num_remark #AsConvolutionAlgebra}
###### Remark

We may identify elements in $R[\mathcal{C}_1]$ with [[functions]] $\mathcal{C}_1 \to R$ with the property that they are non-vanishing only on finitely many elements. Under this identification for $\phi_1, \phi_2$ two such functions, their product in $R[\mathcal{C}]$ is given by the formula

$$
  \phi_1 \cdot \phi_2
  \;
   \colon
  \;
  f \mapsto
  \sum_{f_2 \circ f_1 = f}
  \phi_2(f_2)
  \cdot
  \phi_1(f_1)   
  \,,
$$

where $f,f_1,f_2 \in \mathcal{C}_1$. In particular if $\mathcal{C}$ is a [[groupoid]] so that every [[morphisms]] $f$ has an [[inverse]] $f^{-1}$ then this is equivalently

$$
  \phi_1 \cdot \phi_2
  \;
   \colon
  \;
  f \mapsto
  =
  \sum_{g \in \mathcal{C}_1}
  \phi_2(f \circ g^{-1})
  \cdot
  \phi_1(g) 
  \,.
$$

This expresses [[convolution]] of functions.


=--

+-- {: .num_example}
###### Example

$\mathcal{C} = \mathbf{B}G$ is the [[delooping]] [[groupoid]] of a [[discrete group]] $G$ (the groupoid with a single object and $G$ as its set of morphisms), then def. \ref{CategoryAlgebra} reduces to that of the [[group algebra]] of $G$: 
$$
  R[\mathbf{B}G] \simeq R[G]
  \,.
$$

=--

+-- {: .num_remark #ForLieGroupoids}
###### Remark

If $\mathcal{C}$ is a groupoid with extra [[geometry|geometric]] structure, then there are natural variants of the above definition.

Notably if $\mathcal{C}$ is a [[Lie groupoid]] then there is a variant where the functions in remark \ref{AsConvolutionAlgebra} are taken to be [[smooth functions]] and where the convolution [[sum]] is replaced by an [[integration]]. In order for this to make sense one needs to consider in fact functions with values in half-[[densities]] over the [[manifold]] $\mathcal{C}_1$.

More generally, for a [[bundle gerbe]] over a Lie groupoid $\mathcal{C}$, hence a multiplicative [[line bundle]] over $\mathcal{C}_1$, one can consider a convolution product on [[sections]] of this line bundle tensored with half-densities.

For a careful discussion of these Lie-theoretic variants see ([EH](#EH)).

=--


## Equivalent characterizations

We discuss equivalent characterizations of category algebras/groupoid algebras that are useful in certain context

* [As a weak colimit over a constant 2Vect-valued functor
](#WeakColimit)

* [In terms of composition of spans](#InTermsOfCompositionOfSpans)

### As a weak colimit over a constant $2Vect$-valued functor
 {#WeakColimit}

Apparently for $\mathcal{C}$ a [[groupoid]] the 
category algebra of $C$ is the [[weak limit|weak colimit]] over $\mathcal{C}$ of the functor $\mathcal{C} \to Vect\text{-}Mod$
constant on the ground field algebra.

This statement is for instance in ([FHLT, section 8.4](#FHLT)).

The 2-cell in the universal co-cone corresponding
to the morphism $f \in C$ is the $k\text{-}k[C]$-bimodule
homomorphism $f \cdot (-) :  A \to A$ that multiplies
by $f \in k[C]$ from the left.

This description should be compared with the analogous description of the [[action groupoid]] by a weak colimit. One sees that the groupoid algebra is a linear incarnation of the action groupoid in some sense.




### In terms of composition of spans
 {#InTermsOfCompositionOfSpans}

The category algebra of a category $C$ is a special case of a general construction of [[spans]] (see also at _[[bi-brane]]_). 

In order not to get distracted by inessential technicalities, consider the case of a finite [[category]] $C$, i.e. an [[internal category]] in [[FinSet]]. This is a [[span]]
$$
  \array{
     && C_1
      \\
      & {}^{s}\swarrow
      && \searrow^{t}
     \\
     C_0
     &&&&
     C_0
  }
$$
equipped with a composition operation: a morphism
of spans from the composite span 
$$
  \array{
     &&&&
     C_1 \times_{t,s} C_1
     \\
     &&& \swarrow && \searrow
     \\
     && C_1
     &&&& C_1
      \\
      & {}^{s}\swarrow
      && \searrow^{t}
      && {}^{s}\swarrow
      && \searrow^{t}
     \\
     C_0
     &&&&
     C_0
     &&&&
     C_0
  }
$$
to the original one, i.e. a morphism 
$$
  comp : C_1 \times_{t,s} C_1 \to C_1
$$ 
which respects source and target morphisms. 

Given this, consider the trivial vector bundle on the set of objects $C_0$. This is nothing but an assignment
$$
  I : C_0 \to Vect_k
$$
of the [[ground field]] $k$ to each element of $C_0$. There are two different ways to pull this vector bundle on objects back to a vector bundle on morphisms, once along the source, once along the target map. 

Then notice that the set of natural transformations between these two vector bundles
$$
  Hom_{[Sets,Vect_k]}(s^* I , t^* I)
$$
whose elements are 2-arrows of the form
$$
  \array{
     && C_1
      \\
      & {}^{s}\swarrow
      && \searrow^{t}
     \\
     C_0
     &&\stackrel{f}{\Rightarrow}&&
     C_0
     \\
     & {}_I \searrow && \swarrow_I
     \\
     &&
     Vect_k
  }
$$
are canonically in bijection with $k$-calued functions on $C_1$, hence with the vector space spanned by $C_1$, hence with the vector space underlying the category algebra
$$
  Hom_{[Sets,Vect_k]}(s^* I , t^* I)
  \simeq
  k[C]
  \,.
$$

The algebra structure on $k[C]$ is similarly encoded in the diagrammatics: given two elements
$$
  \array{
     && C_1
      \\
      & {}^{s}\swarrow
      && \searrow^{t}
     \\
     C_0
     &&\stackrel{f}{\Rightarrow}&&
     C_0
     \\
     & {}_I \searrow && \swarrow_I
     \\
     &&
     Vect_k
  }

  \;\;\;\; 
  and
  \;\;\;\;

  \array{
     && C_1
      \\
      & {}^{s}\swarrow
      && \searrow^{t}
     \\
     C_0
     &&\stackrel{g}{\Rightarrow}&&
     C_0
     \\
     & {}_I \searrow && \swarrow_I
     \\
     &&
     Vect_k
  }
$$
their pre-composite is the diagram
$$
  \array{
     &&&&
     C_1 \times_{t,s} C_1
     \\
     &&& \swarrow && \searrow
     \\
     && C_1
     &&&& C_1
      \\
      & {}^{s}\swarrow
      && \searrow^{t}
      && {}^{s}\swarrow
      && \searrow^{t}
     \\
     C_0
     &&\stackrel{f}{\Rightarrow}&&
     C_0
     &&\stackrel{g}{\Rightarrow}&&
     C_0
     \\
     & \searrow &&& 
     \downarrow &&& \swarrow
     \\
     && \to &&Vect_k&& \leftarrow  
  }
  \,.
$$

This is a composite transformation between three trivial vector bundles on the set $C_1 \times_{t,s} C_1$ of composable morphisms in $C$. As such, it is a function, which on the element consisting of the composable pair $\stackrel{r}{\to}\stackrel{s}{\to}$ takes the value $f(r)\cdot g(s)$.

In order to get back a transformation between vector bundles on $C_1$, hence a transformation between vector bundles on $C_1$, we _push forward_ along the composition map $comp: C_1 \times_{t,s} C_1 \to C_1$. This just means that we add up the values on the fibers of this map.

The result is the [[convolution product]]
$$
  (f\star g) : t \mapsto \sum_{s\circ r = t}
  f(r)\cdot g(s)
  \,.
$$
This is indeed the product in the category algebra.

Looking at category algebras realizes them as a puny special case of a bigger story which involves [[bi-brane]]s as morphisms between $n$-bundles/$(n-1)$-gerbes which live on spaces connected by correspondence spaces. This is related to a bunch of things,  such as T-duality, Fourier-Mukai transformations and other issues of quantization. A description of this perspective is in

* [[schreiber:Nonabelian cocycles and their quantum symmetries]].

This is related to observations such as described here:


* John Baez, [_Quantization and Cohomology (Week 17)_](http://golem.ph.utexas.edu/category/2007/03/quantization_and_cohomology_we_16.html)

* Urs Schreiber, [_QFT of Charged n-Particle: T-Duality_](http://golem.ph.utexas.edu/category/2007/02/qft_of_charged_nparticle_tdual.html)

## References

The [[homotopy colimit]]-interpretation of category algebras over discrete categories is discussed in

* [[Dan Freed]], [[Mike Hopkins]], [[Jacob Lurie]], [[Constantin Teleman]], _[[Topological Quantum Field Theories from Compact Lie Groups]]_ ([arXiv](http://arxiv.org/abs/0905.0731))
 {#FHLT}

A careful discussion of convolution algebras of [[Lie groupoids]] is in 

* [[Eli Hawkins]], _A groupoid approach to quantization_ ([arXiv:math.SG/0612363](http://arxiv.org/abs/math.SG/0612363))
  {#EH}



[[!redirects category algebras]]
[[!redirects groupoid algebra]]
[[!redirects groupoid algebras]]