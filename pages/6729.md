
#Contents#
* table of contents
{:toc}

## Idea

The refinement of the notion of [[critical locus]] from [[geometry]] to [[derived geometry]].

The formal duals to derived critical loci are described by [[BV-BRST formalism]].

## Details

Let $\mathcal{O}(C) \in cdgAlg_k$, write 
$\mathcal{O}(C) Mod$ for the [[nLab:model structure on dg-modules]] over $\mathcal{O}(C)$.


+-- {: .num_defn}
###### Definition

Write

$$
  cdgAlg_{\mathcal{O}(C)} 
    := CMon(\mathcal{O}(C) Mod)
  \simeq
  \mathcal{O}(C)/cdgAlg_k
$$

for the [[nLab:category of monoids|category of commutative monoids]] in $\mathcal{O}(C)$-modules.

=--

+-- {: .num_prop #SymOCAdjunction}
###### Proposition

There is a [[nLab:model category]] structure on $cdgAlg_{\mathcal{O}(C)}$ whose fibrations and weak equivalences are those of the underlying $\mathcal{O}(C)$-modules such that the free-forgetful adjunction


$$
  cdgAlg_{\mathcal{O}(C)}
   \stackrel{\overset{Sym_{\mathcal{O}(C)}}{\leftarrow}}{\underset{U}{\to}}
  \mathcal{O}(C) Mod
$$

is a [[nLab:Quillen adjunction]].

This is 

* [[nLab:combinatorial model category|combinatorial]];

* [[nLab:proper model category|proper]].

=--

+-- {: .proof}
###### Proof

This follows with the general discussion at _[[nLab:dg-geometry]]_. We indicate how to see it directly.

We observe that the adjunction exhibits the [[nLab:transferred model structure]] on the left. By the statement discussed there, it is sufficient to check that

1. $\mathcal{O}(C) Mod$ is a [[nLab:cofibrantly generated model category]].

   This follows because the [[nLab:model structure on dg-modules]] (as discussed there) is itself transferred along

   $$
     U' : \mathcal{O}(C) Mod \to Ch^\bullet(k)
   $$

   from the cofibrantly generated [[nLab:model structure on chain complexes|model structure on cochain complexes]].

1. $U$ preserves [[nLab:filtered colimit]]s. 

   This follows from the general fact $U : CMon(\mathcal{C}) \to \mathcal{C}$ creates filtered colimits for $\mathcal{C}$ closed symmetric monoidal (see <a href="http://ncatlab.org/nlab/show/category+of+monoids#FilteredColimits">here</a>) and that $A Mod$ is [[nLab:closed monoidal category|closed]] [[nLab:symmetric monoidal category|symmetric monoidal]] (see <a href="http://ncatlab.org/nlab/show/model+structure+on+dg-modules#Properties">here</a>).

   To check this explicitly:

   Let $A_\bullet : D \to cdgAlg_k$ be a [[nLab:filtered category|filtered diagram]]. We claim that there is a unique way to lift the underlying colimit $\lim_\to U A_\bullet$ to a dg-algebra cocone: for $a \in A_i \to \lim_\to U A_\bullet$ and $b \in A_j \to \lim_\to U A_\bullet$ there is by the assumption that $D$ is filtered a $A_i \to A_l \leftarrow A_j$. Therefore in order for the cocone component $U A_l \to \lim_{\to} U A_\bullet$ to be an algebra homomorphism the product of $a$ with $b$ in $\lim_\to U A_\bullet$ has to be the image of this product in $A_l$. This defines the colimiting cocone $A_l \to \lim_\to A_\bullet$.

1. The left hand has functorial fibrant replacement (this is trivial, since every object is fibrant) and functorial [[nLab:path object]]s. 

   This follows by the same argument as for the path object in $cdgAlg_k$ <a href="http://ncatlab.org/nlab/show/model+structure+on+dg-algebras#PathObjectsForUnboundedCommutative">here</a> this can be taken to be $(-)\otimes_k \Omega^\bullet_{poly}(\Delta[1])$.

=--

Let $k$ be a [[nLab:field]] of [[nLab:characteristic]] 0.

Write $dgcAlg_k$ for the category of graded-commutative unbounded cochain [[nLab:dg-algebra]]s over $k$.

For an object

$$
  C \in cdgAlg_k^{op}
$$

we write 

$$
  \mathcal{O}(C) \in cdgAlg_k
  \,.
$$

Let $\mathcal{O}(C)$[[nLab:Mod]] be the [[nLab:category of dg-modules]] over $\mathcal{O}(C)$ equipped with the standard [[nLab:model structure on dg-modules]].

Write finally 

$$
  cdgAlg_{\mathcal{O}(C)} := CMon(\mathcal{O}(C) Mod)
$$

for the [[nLab:category of monoids|category of commutative]] monoids in $\mathcal{O}(C) Mod$: the category of commutative dg-algebras under $\mathcal{O}(C)$. We regard this as a [[nLab:category with weak equivalences]] given by the underlying [[nLab:quasi-isomorphism]]s.

This category models dg-geometry _over_ $C$ in that

$$
  (cdgAlg_{\mathcal{O}(C)})^{op}
  \simeq
  cdgAlg_k^{op}/C
  \,.
$$



+-- {: .num_defn}
###### Definition

Write 

$$
  Der(A) \in \mathcal{O}(C) Mod
$$ 

for the [[nLab:tangent complex]]/[[nLab:automorphism ∞-Lie algebra]] of $A$ whose underlying cochain complex is

$$
  \array{
     \cdots
     \to
     Der(\mathcal{O}(C))_k
      \stackrel{[d_{\mathcal{O}(C)},-]}{\to}
    Der(\mathcal{O}(C))_{k+1}
     \to
     \cdots
  }
  \,.
$$

where $Der(\mathcal{O}(C))_k$ is the module of [[nLab:derivation]]s

$$
  v : \mathcal{O}(C)^\bullet \to \mathcal{O}(C)^{\bullet + k}
$$

of degree $k$ and $[d_{\mathcal{O}(C)}, -]$ is the graded commutator of derivations with the [[nLab:differential]] of $\mathcal{O}(C)$ regarded as a degree-1 derivation $d_{\mathcal{O}(C)} : \mathcal{O}(C) \to \mathcal{O}(C)$.

We say that $\mathcal{O}(C)$ is _smooth_ if $Der(\mathcal{O}(C))$ is cofibrant as an object on $\mathcal{O}(C) Mod$.

Write

$$
  \mathcal{O}(T^*_f C)
  :=
  Sym_{\mathcal{O}(C)} Der(\mathcal{O}(C))
   \in 
  cdgAlg_{\mathcal{O}(C)}
$$

for the free $\mathcal{O}(C)$-algebra over $Der(\mathcal{O}(C))$. 

We write

$$
  T^*_f C \in cdgAlg^{op}_k/C
$$

for its formal dual.

=--

+-- {: .num_defn}
###### Remark

Every $S \in \mathcal{O}(C)$ defines a morphism

$$
  d S : C \to T^*_f C
$$

dually given by

$$
  \mathcal{O}(C) \leftarrow 
   Sym_{\mathcal{O}(C)} Der(\mathcal{O}(C))
   :
  Sym_{\mathcal{O}(C)} [\hat S , -]
  \,,
$$

where $\hat S : \mathcal{O}(C) \to \mathcal{O}(C)$ is the $k$-linear multiplication operator defined by $S$ and where for 
$v \in Der(\mathcal{O}(C))$ we set

$$
  [\hat S, v] = v(S)
  \,,
$$

which may be regarded as the multiplication operator given by the commutator of $k$-linear endomorphisms of $\mathcal{O}(C)$ as indicated.

=--




+-- {: .num_defn}
###### Definition

The **derived critical locus** of a morphism  $S : C \to \mathbb{A}^1$ 
is the [[nLab:homotopy pullback]] $C_{\{d S = 0\}}$ in $cdgAlg^{op}/C$

$$
  \array{
    C_{\{d S = 0\}} &\to& C
    \\
    \downarrow && \downarrow
    \\
    C &\stackrel{d S}{\to}& T^*_f C
  }
  \,.
$$

=--


+-- {: .num_prop}
###### Proposition

If $C$ is smooth in the sense that $Der(\mathcal{O}(C)) \in \mathcal{O}(C) Mod$ is cofibrant, then the derived critical locus is presented by

$$
  \mathcal{O}(C_{\{d S = 0\}})
   \simeq
  Sym_{\mathcal{O}(C)}
   Cone( Der(\mathcal{O}(C)) \stackrel{[\hat S , -]}{\to} \mathcal{O}(C))
  \,,
$$

where on the right we have the free $\mathcal{O}(C)$-algebra over the [[nLab:mapping cone]] of $[\hat S, -]$.

=--


+-- {: .proof}
###### Proof

By prop \ref{SymOCAdjunction} the functor $Sym_{\mathcal{O}(C)}$ is left Quillen. Hence if $Der(\mathcal{O}(C))$ is cofibrant in $\mathcal{O}(C) Mod$ then the homotopy pushout in question may be computed as the image under $Sym_{\mathcal{O}(C)}$ of the homotopy pushout in $\mathcal{O}(C) Mod$.

By the disucssion at [[nLab:model structure on dg-modules]], for these the homotopy cofibers are given by the ordinary [[nLab:mapping cone]] construction for chain complexes.

$$
  \array{
    Cone(Der(\mathcal{O}(C)) \stackrel{[\hat S, -]}{\to} \mathcal{O}(C))
    &\leftarrow&
    Cone(Der(\mathcal{O}(C)) \stackrel{Id}{\to} Der(\mathcal{O}(C)))
    \\
    \uparrow && \uparrow
    \\
    \mathcal{O}(C)
    &\stackrel{[\hat S, -]}{\leftarrow}&
    Der(\mathcal{O}(C))
  }
  \,.
$$

=--

More in detail, write 

$$
  Cone(Der(\mathcal{O}(C)) \stackrel{Id}{\to} Der(\mathcal{O}(C)))
   \in 
  \mathcal{O}(C) Mod
$$

for the [[nLab:mapping cone]] on the identity.

$$
  \array{
     \cdots
     & 
     Der(\mathcal{O}(C))_k &\stackrel{-[d_{\mathcal{O}(C)}, -]}{\to}&
     Der(\mathcal{O}(C))_k+1
     \\
     & \oplus &\searrow^{\pm \mathrlap{Id}}& \oplus & \cdots
     \\
     \cdots
     & Der(\mathcal{O}(C))_{k-1} 
        &\stackrel{[d_{\mathcal{O}(C)}, -]}{\to}&
     Der(\mathcal{O}(C))_k    
     &
     \cdots
  }
  \,.
$$

Then $Cone(Der(\mathcal{O}(C)) \stackrel{[\hat S, -]}{\to}) \mathcal{O}(C))$ is

\[
  \label{TheBVComplex}
  \array{
     \cdots
     & 
     Der(\mathcal{O}(C))_k &\stackrel{-[d_{\mathcal{O}(C)}, -]}{\to}&
     Der(\mathcal{O}(C))_k+1
     \\
     & \oplus &\searrow^{\pm [\hat S, -]}& \oplus & \cdots
     \\
     \cdots
     & \mathcal{O}(C)_{k-1} 
        &\stackrel{[d_{\mathcal{O}(C)}, -]}{\to}&
     \mathcal{O}(C)_k    
     &
     \cdots
  }
  \,.
\]

If we extend the graded commutators in the evident way we may write the [[nLab:differential]] in $Cone(Der(\mathcal{O}(C)) \stackrel{[\hat S, -]}{\to} \mathcal{O}(C))$ as

$$
  d  
   = 
  [\hat S + d_{\mathcal{O}(C)}, -]
  \,.
$$

Here the second term is the differential of the [[nLab:BRST-complex]] of $\mathfrak{c}$, whereas the sum is of the type of a differential in a [[nLab:BRST-BV complex]].



## Comparison to BRST-BV complexes
 {#ComparisonToBRSTBV}

We discuss how the traditional [[nLab:BRST-BV formalism]] relates to the computation of derived critical loci as above.

## Example
 {#ComparisonToBVBRSTExample}

Let $\mathfrak{a}$ be a [[nLab:Lie algebroid]] over a space $X$, with [[nLab:Chevalley-Eilenberg algebra]] $\mathcal{O}(\mathfrak{a})$ given by

$$
  d_{\mathfrak{a}} : f \mapsto c^a R^i_a \frac{\partial}{\partial x^i} f
$$

$$
  d_{\mathfrak{a}} : 
   c^a 
    \mapsto 
   \frac{1}{2} C^{a}{}_{b c} c^b \wedge c^c 
  \,.
$$

for $f \in C^\infty(X)$, infinitesimal gauge symmetries $R^i_a \frac{\partial}{\partial x^i}$, gauge symmetry structure functions $C^{a}{}_{b c}$ and ghost generators $c^a$.

The "algebra of vector fields/[[nLab:derivation]]s" $Der(\mathcal{O}(\mathfrak{a}))$ on $\mathfrak{a}$ is the [[nLab:automorphism ∞-Lie algebra]]  whose underlying chain complex is

$$
  \array{
    \langle \frac{\partial}{\partial c^a} \rangle
    &
    \stackrel{[d_{\mathfrak{a}}, -]}{\to}
    &
    \langle \frac{\partial}{\partial x^i} \rangle    
    \oplus
     \langle c^a \frac{\partial}{\partial c^b} \rangle
    \\
    -1 && 0
  }
  \,.
$$


We check on generators that

$$
  \begin{aligned}
    [d_{\mathfrak{a}}, \frac{\partial}{\partial c^a}]  
     = 
     R_a^i \frac{\partial}{\partial x^i} 
      + 
     C^b{}_{a c} c^c \frac{\partial}{\partial c^b}
  \end{aligned}
$$

and

$$
  \begin{aligned}
    [d_{\mathfrak{a}}, \frac{\partial}{\partial x^i}]
     =
    c^a \frac{\partial R_a^j}{\partial x^i} \frac{\partial}{\partial x^j}
  \end{aligned}
  \,.
$$

Now let 

$$
  S : \mathfrak{a} \to \mathbb{R}
$$

be a function, dually a dg-algebra homomorphism

$$
  \mathcal{O}(\mathfrak{a}) \leftarrow  C^\infty(\mathbb{R}) :  S^*
  \,.
$$

This is equivalently any function 

$$
  S : X \to \mathbb{R}
$$

which is gauge invariant

$$
  d_{\mathfrak{a}} S = c^a R_a^i \frac{\partial}{\partial x^i} S = 0
  \,.
$$

We have a contraction homomorphism of $\mathcal{O}(\mathfrak{a})$-[[nLab:module]]s

$$
  \iota_{d S} : Der(\mathcal{O}(\mathfrak{a})) \to \mathcal{O}(\mathfrak{a})
  \,.
$$

and may form its [[nLab:mapping cone]], 

$$
  \array{
    \langle \frac{\partial}{\partial c^a}\rangle
     &\stackrel{[d_{\mathfrak{a}}, -]}{\to}&
   \langle \frac{\partial}{\partial x^i} \rangle \oplus \langle c^a \frac{\partial}{\partial c^b}\rangle
    &\stackrel{\iota_{d S}}{\to}&
   C^\infty(X)
    &\stackrel{d_{\mathfrak{a}}}{\to}&
   \langle c^a \rangle
   \\
   -2 && -1 && 0 && 1
  }
  \,.
$$

On the free algebra of this

$$
  Sym_{C^\infty(X)}
  \left(
    Der(\mathcal{O}(\mathfrak{a}))[-1] \stackrel{\iota_{d S}}{\to} C^\infty(X)\oplus \langle c^a\rangle)
  \right)
  \,.
$$

we have the differential given on generators by

$$
  \frac{\partial}{\partial c^a} 
   \mapsto 
  R_a^i \frac{\partial}{\partial x^i} + C^b{}_{a c} c^c 
  \frac{\partial}{\partial c^b}
$$

$$
  \frac{\partial}{\partial x^i} \mapsto \frac{\partial S}{\partial x^i}
    + 
    c^a \frac{\partial R_a^j}{\partial x^i} \frac{\partial}{\partial x^j}
$$

$$
  x^i \mapsto c^a R_a^i
$$

$$
  c^a \mapsto \frac{1}{2}C^a{}_{b c} c^b \wedge c^c
$$

If $\langle R_a\rangle$ is the full kernel of $\iota_{d S} : Der(C^\infty(X)) \to C^\infty(X)$  and there are no further relations, then this is the full [[nLab:BRST-BV complex]] of $S$.






## References

See also

* {#CostelloGwilliam} [[Kevin Costello]], [[Owen Gwilliam]], _Factorization algebras in perturbative quantum field theory -- Derived critical locus_ 

* [[Urs Schreiber]]: _[[schreiber:derived critical locus]]_ Seminar notes, March 2011

* [[Gabriele Vezzosi]], _Derived critical loci I - Basics_, [arxiv/1109.5213](http://arxiv.org/abs/1109.5213)

* [[Tony Pantev]], [[Bertrand Toen]], M. Vaquie, G. Vezzosi, _Quantization and derived moduli spaces I: shifted symplectic structures_, [arxiv/1111.3209](http://arxiv.org/abs/1111.3209)

* [[Kevin Costello]], _Notes on supersymmetric and holomorphic field theories in dimension 2 and 4_ ([pdf](http://www.math.northwestern.edu/~costello/sullivan.pdf))

[[!redirects derived critical loci]]