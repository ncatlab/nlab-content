
+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
### Context
#### Type theory
+-- {: .hide}
[[!include type theory - contents]]
=--
=--
=--

# h-Sets
* table of contents
{: toc}

## Idea
 {#Idea}

In [[homotopy type theory]] and _h-set_ is a [[type]] $X$ -- hence a [[homotopy type]] -- with the special property that any two if its [[terms]] $x,y : X$ are [[equality|equal]] ([[equivalence|equivalent]]) in an at most essentially unique way, hence that the [[identity type]] $(x = y) : Type$ is an [[h-proposition]].

The notion of h-set is an [[internalization]] of the notion of [[0-truncated]] object into homotopy type theory, essentially an internalization of the notion of _[[set]]_, or rather of _[[preset]]_. See below in _[Relation to internal sets](#RelationToInternalSets)_ for more on this.

h-Sets can also be regarded as a way of embedding [[extensional type theory]] into [[intensional type theory]].


## Definition

Let $A$ be a [[type]] in [[intensional type theory|intensional]] [[type theory]] with [[dependent sums]], [[dependent products]], and [[identity types]].  We define a new type $isSet(A)$ as follows:

$$isSet(A) \coloneqq \prod_{x\colon A} \prod_{y\colon A} isProp(x=y)$$

(using any equivalent definition of the [[predicate]] [[isProp]] for [[h-propositions]]; and where "$\prod$" denotes [[dependent product]] types and "$=$" denotes [[identity types]]).


In other words, the only relationship between two elements of an h-set is whether they are equal; there is no room for more than one path between them.  By [[beta reduction|beta-reducing]] this definition, we can express it as
$$isSet(A) \coloneqq \prod_{x,y\colon A} \prod_{p,q\colon x=y} (p=q)$$
In other words, any two parallel paths in $A$ are equal.

A provably [[equivalence in homotopy type theory|equivalent]] definition is
$$isSet(A) \coloneqq \prod_{x\colon A} \prod_{p\colon x=x} (p=id_x)$$
This says that a version of Streicher's "axiom K" holds for h-sets.


## Examples

* Most (non-[[higher inductive type|higher]]) [[inductive types]] are h-sets (assuming that all their parameters and indices are so).  In particular, the type of [[natural numbers]] is an h-set.  This can be proven from Theorem \ref{DecidableIsSet} below.


## Properties

### Equivalent characterizations

One interesting consequence of this definition is the following, first proven in ([Hedberg](#Hedberg))

+-- {: .num_theorem #DecidableIsSet}
###### Theorem
Suppose that $A$ is a [[type]] which has [[decidable equality]] in the [[propositions as types]] [[logic]] (which is not the logic of h-propositions usually used in HoTT).  In other words, the projection
$$\array{Paths_A + (0\to A\times A)^{(Paths_A\to A\times A)}\\
\downarrow\\
A\times A}
$$

(where $Paths_A$ is the [[path object|path type]] of $A$, "+" forms the [[sum type]], and on the right we have the $A \times A$-[[dependent type|dependent]] [[function type]] into the [[empty type]]), has a section.  

Then $A$ is a h-set.

=--

+-- {: .proof}
###### Proof
Let $d$ be the given [[section]].  Thus, for any $x,y\colon A$, $d(x,y)$ is either a path from $x$ to $y$ or a function from $Paths(x,y)$ to the empty type (implying that $Paths(x,y)$ is also empty).

It suffices to exhibit an operation connecting any endo-path $p \in Paths(x,x)$ to the identity path $1_x$.  Given such a path, define $q = d(x,x)$.  If $d(x,x)$ lies in the second case, then $Paths(x,x)$ is empty, a contradiction since we know it contains $1_x$; hence we may assume $q\in Paths(x,x)$ as well.

Let $r$ be the image of $(1_x,p) \in Paths_{A\times A}((x,x),(x,x)$ under the section $d$.  This is a path in the total space $Paths_A$ lying over the path $(1_x,p)$ in $A$.  Equivalently, it is a path in the fiber over $x$ from $(1_x,p)_*(d(x,x))$ to $d(x,x)$, where $(1_x,p)_*$ denotes transport in the fibration $Paths_A \to A\times A$ along the path $(1_x,p)$.  However, we have defined $d(x,x) = q$, and transport in a path-space is just composition, so $r$ may be regarded as a path from $q p$ to $q$.  Canceling $q$, we obtain a path from $p$ to $1_x$.
=--


### Relation to internal sets
 {#RelationToInternalSets}


When using [[homotopy type theory]] as the ambient [[foundations]] it may depend whether one regards the h-sets themselves as the sets of the internal [[set theory]] in the type theory, or requires some extra structure on them to count as genuine sets. 

One possibility is to declare that the internal sets are the _[[groupoid object in an (∞,1)-category|internal ∞-groupoids]]_ which are 0-truncated. But a general type $X : Type$ in [[homotopy type theory]] -- a [[homotopy type]] -- is itself _not_ quite an [[groupoid object in an (∞,1)-category|internal ∞-groupoid]]. It is rather a "internal pre-$\infty$-groupoid" in the sense of "[[preset]]": 

the structure of an internal $\infty$-groupoid on $X$ is the choice of a _type of elements_ $X_0$ equipped with a homotopy-theoretic version of an [[equivalence relation]] on $X_0$, namley an extension of $X_0$ to a [[simplicial object]] $\cdots X_1 \stackrel{\to}{\to} X_0$ such that this satisfies the groupoidal [[Segal conditions]]. These encode the [[homotopy theory|homotopy-theoretic]] analog of [[transitive relation|transitivity]] (associative composition of morphisms in the interna $\infty$-groupoid), [[reflexive relation|reflexivity]] (existence of inverse morphisms) and [[symmetric relation|symmetry]] (existence of identity morphisms). 

Accordingly then an internal set in homotopy type theory is rather such an internal $\infty$-groupoid which is 0-truncated: hence an h-set $X$ _equipped with an equivalence relation_ given by an [[effective epimorphism in an (infinity,1)-category|effective epimorphism]] $X_0 \to X$.

This subtle difference is well known in traditional [[type theory]]. There the genuine internal sets are the _[[Bishop set|sets in the sense of Bishop]]_, often called _[[setoids]]_, whereas the types themselves are sometimes called _[[presets]]_.

=--


## Related concepts

[[!include homotopy n-types - table]]

[[!include types and logic - table]]


## References

* Michael Hedberg, *A coherence theorem for Martin-Löf's type theory*, J. Functional Programming, (1998)
 {#Hedberg}

* Nicolai Kraus, *A direct proof of Hedberg's theorem*, [blog post](http://homotopytypetheory.org/2012/03/30/a-direct-proof-of-hedbergs-theorem/)



[[!redirects h-set]]
[[!redirects h-sets]]
[[!redirects hSet]]
[[!redirects hSets]]
[[!redirects 0-truncated type]]
[[!redirects 0-truncated types]]
[[!redirects h-level 2]]
[[!redirects h-level 2 type]]
[[!redirects h-level 2 types]]
