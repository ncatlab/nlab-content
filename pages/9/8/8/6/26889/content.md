
> Not to be confused with *[[regular local rings]]* in [[commutative algebra]].

+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
###Context###
#### Algebra
+--{: .hide}
[[!include higher algebra - contents]]
=--
=--
=--


\tableofcontents

## Idea 

A *von Neumann regular ring* or *absolutely flat ring* ([Lombardi & Quitté (2010)](#LombardiQuitté2010)) is one where every [[ideal|principal left ideal]] or principal right ideal is generated by a single [[idempotent]].  They were introduced by [[John von Neumann]] in 1936 as part of his algebraization of [[quantum mechanics]].

The principal left ideals in a von Neumann regular ring form a sublattice of the [[lattice]] of all left ideals which is a [[complemented lattice|complemented]] [[modular lattice]], and similarly with "left" replaced by "right".  This sets up a connection between von Neumann regular rings and the approach to [[quantum logic]] based on lattices: if the elements of a von Neumann regular ring are thought of as [[observables]], the lattice of principal left (or right) ideals can be thought of as consisting of [[propositions]].

## Definition

A *von Neumann regular ring* (abbreviated as vN regular ring below) is a [[ring]] $A$ (not necessarily [[commutative ring|commutative]]) such that any of these equivalent conditions hold:

1. For every [[element]] $a \in A$ is *regular*. An element $a$ is regular if there exists $x \in A$ satisfying
$$
  a
  \;=\;
  a \, x \, a
  \,.
$$
2. For every $a \in A$ there is an [[idempotent]] $e \in A$ such that $A a = A e$.  In other words, every [[principal ideal|principal]]  [[left ideal]] of $A$ is generated by an idempotent.

3. For every $a \in A$ there is an [[idempotent]] $e \in A$ such that $a A = e A$.  In other words, every principal [[right ideal]] of $A$ is generated by an idempotent.

4. Every principal left ideal of $A$ is a [[direct sum|direct summand]] of the left $A$-[[module]] $A$.

5. Every  principal right ideal of $A$ is a direct summand of the right $A$-module $A$.

6.  Every [[finitely generated]] left $A$-submodule of $A^n$ is a [[direct summand]] of $A^n$. 

7.  Every finitely generated right $A$-submodule of $A^n$ is a direct summand of $A^n$. 

8. Every [[finitely presented]] left $A$-module is [[projective object|projective]].
 
9. Every finitely presented right $A$-module is projective.

10. Every left $A$-module is [[flat module|flat]].

11.  Every right $A$-module is flat.



To illustrate the use of the rather curious-looking equation $a = a x a$, consider this result, which implies that 1 $\iff$ 3.

\begin{lemma}
Suppose $a \in A$.  If for some $x \in A$ we have $a = a x a$, then $e = a x$ is idempotent and $a A = e A$. Conversely, if $a A = e A$ for some idempotent $e \in A$, then $a = a x a$ for some $x \in A$, and we can take $e = a x$.
\end{lemma}

\begin{proof} For the first implication, suppose for some $x \in A$ we have $a = a x a$.   Then $a x = a x a x$ so $e = a x$ is idempotent, and we just need to show $a A = e A$.   Since $e = a x$ we have $e A \subseteq a A$.   On the other hand, since $ a = a x a = e a$ we have $a A \subseteq e A$.

For the converse implication, suppose $a A = e A$ for some idempotent $e$.  This is equivalent to the conjunction of three conditions: $e \in a A$, $a \in e A$, and $e^2 = e$.      The first condition says $e = a x$ for some $x \in A$.  The second condition says $a = e y$ for some $y \in A$, which by the third condition implies $e a = e e y = e y = a$, which by the first implies $a x a = a$, as desired.
\end{proof}

A symmetrical argument, i.e. one applied to the [[opposite ring]], shows that 1 $\iff$ 3.  A principal left ideal is a summand of the left $A$-module $A$ if it is generated by an idempotent $e$, since then $A = Ae \oplus A(1-e)$, and conversely any summand of the left $A$-module $A$ is generated by an idempotent.  It follows that 2 $\iff$ 4, and a symmetrical argument shows that 3 $\iff$ 5. Finally, condition 1 is invariant under taking opposites of rings, and 2 is the ring opposite of 3, so also 1 $\iff$ 2, and therefore conditions 1 through 5 are equivalent. 

Again, by way of taking opposite rings, we have (1 $\iff$ 6) if and only if we have (1 $\iff$ 7) and similarly (1 $\iff$ 8) iff (1 $\iff$ 9), and (1 $\iff$ 10) iff (1 $\iff$ 11). 

\begin{proposition} \label{McCoy} If $A$ is vN regular, then so is the matrix ring $M_n(A)$ for $n \geq 1$. \end{proposition} 

\begin{proof} The following proof is adapted from Kaplansky ([Kaplansky] (#KapFaR)), starting at page 110; see particularly his Theorem 24. It uses a result called McCoy's lemma: If $a x a - a$ is regular, then so is $a$. (Proof: if $(a x a - a)y(a x a - a) = a x a - a$, then rewrite this as $a = a x a - (a x a - a)y(a x a - a)$, and notice the right side is of the form $a [\ast] a$.) 

First treat the case of a $2 \times 2$ matrix 

$$\left( \begin{array}{ccc} a & & b\\ c & & d \end{array}\right)$$

To prove this matrix is regular, suppose $c r c = c$ for some $r$, and calculate that 

$$\left( \begin{array}{ccc} a & & b\\ c & & d \end{array}\right)\left( \begin{array}{ccc} 0 & & r\\ 0 & & 0 \end{array}\right)\left( \begin{array}{ccc} a & & b\\ c & & d \end{array}\right) - \left( \begin{array}{ccc} a & & b\\ c & & d \end{array}\right) = \left( \begin{array}{ccc} \ast & & \ast\\ c r c - c & & \ast \end{array}\right) = \left( \begin{array}{ccc} \ast & & \ast\\ 0 & & \ast \end{array}\right)$$ 

so by McCoy's lemma, we are reduced to proving that upper triangular matrices are regular. So now do the case of a $2 \times 2$ matrix 

$$\left( \begin{array}{ccc} a & & b\\ 0 & & d \end{array}\right)$$

which we want to prove is regular. Write $a x a = a$ and $d y d = d$ for some $x, y$, and calculate that 

$$\left( \begin{array}{ccc} a & & b\\ 0 & & d \end{array}\right)\left( \begin{array}{ccc} x & & 0\\ 0 & & y \end{array}\right)\left( \begin{array}{ccc} a & & b\\ 0 & & d \end{array}\right) - \left( \begin{array}{ccc} a & & b\\ 0 & & d \end{array}\right) = \left( \begin{array}{ccc} a x a - a & & \ast\\ 0 & & d y d - d \end{array}\right) = \left( \begin{array}{ccc} 0 & & \ast\\ 0 & & 0 \end{array}\right)$$

so by McCoy's lemma, we are reduced to proving that *strictly* upper triangular matrices are regular. To show the $2 \times 2$ matrix 

$$\left( \begin{array}{ccc} 0 & & b\\ 0 & & 0 \end{array}\right)$$

is regular, write $b z b = b$ for some $z$, and calculate that 

$$\left( \begin{array}{ccc} 0 & & b\\ 0 & & 0 \end{array}\right)\left( \begin{array}{ccc} 0 & & 0\\ z & & 0 \end{array}\right)\left( \begin{array}{ccc} 0 & & b\\ 0 & & 0 \end{array}\right) = \left( \begin{array}{ccc} 0 & & b z b\\ 0 & & 0 \end{array}\right) = \left( \begin{array}{ccc} 0 & & b\\ 0 & & 0 \end{array}\right)$$ 

which completes the proof for the $2 \times 2$ case. 

For the $4 \times 4$ case, write this in block form as 

$$\left( \begin{array}{ccc} U & & V\\ W & & X \end{array}\right)$$ 

where $U, V, W, X \in M_2(A)$, which was just shown to be vN regular; therefore $M_4(A) \cong M_2(M_2(A))$ is also vN regular. By induction, $M_n(A)$ is vN regular for integers $n = 2^k$. 

Finally, for any $n$, find $k$ such that $2^k \geq n$. The ring of $n \times n$ matrices sits in the upper left corner of the ring of $2^k \times 2^k$ matrices. Kaplansky concludes (paraphrasing), "The desired result then follows from a remark which we leave as an exercise for the reader: if $A$ is von Neumann regular and $e$ is an idempotent in $A$,  then $e A e$ is von Neumann regular."
\end{proof}

\begin{lemma} (1 $\Rightarrow$ 7) Every finitely generated submodule $B$ of $A^n$ is a direct summand of $A^n$ (hence is projective). \end{lemma} 

\begin{proof} There is a surjective module map $A^k \to B$ and hence $B$ is the image of a map $P$ defined to be a composite 

$$A^{n+k} \cong A^n \times A^k \overset{p}{\to} A^k \to B \hookrightarrow A^n \overset{i}{\hookrightarrow} A^n \times A^k \cong A^{n+k}$$ 

where $p, i$ are obvious projection, inclusion maps. Since the previous proposition says the matrix ring $M = M_{n+k}(A)$ is vN regular assuming $A$ is, we have $P M = E M$ for some idempotent $E$. It follows that 

$$B = P \cdot A^{n+k} = P M \cdot A^{n+k} = E M \cdot A^{n+k} = E \cdot A^{n+k}$$ 

which makes the module $B$ the result of splitting the idempotent $E$ acting on $A^{n+k}$, making the inclusion $B \hookrightarrow A^{n+k}$ a direct summand, say with left inverse $r: A^{n+k} \to B$. Then also $B \hookrightarrow A^n$ is split, with left inverse 

$$A^n \overset{i}{\hookrightarrow} A^{n+k} \overset{r}{\to} B$$ 

and this completes the proof. \end{proof} 

\begin{lemma} (7 $\Rightarrow$ 9) If any finitely generated right submodule of $A^n$ is a direct summand, then every finitely presented right module is projective. \end{lemma} 

\begin{proof} Suppose given a finite presentation of a module $N$, i.e., an exact sequence 

$$0 \to B \to A^n \to N \to 0$$ 

where $B$ is finitely generated. By hypothesis, the exact sequence splits, and by this splitting, $N$ becomes a direct summand of $A^n$, and therefore is projective. \end{proof} 

\begin{lemma} (9 $\Rightarrow$ 11) If every finitely presented right $A$-module is projective, then every right $A$-module is flat. \end{lemma} 

\begin{proof} By general considerations of locally finite presentability (see [[Gabriel-Ulmer duality]]), every module is a filtered colimit of finitely presented modules. By hypothesis, then, every module is a filtered colimit of finitely generated projective modules; since projective modules are flat, every module is a filtered colimit of flat modules. But a filtered colimit of flat modules is again flat. \end{proof} 

\begin{lemma} (11 $\Rightarrow$ 3) If every right $A$-module is flat, then for every element $a \in A$ there is an idempotent element $e$ such that $a A = e A$. \end{lemma} 

\begin{proof} As shown in [[flat module]], a module is flat iff it is a filtered colimit of finitely generated free modules. In particular, given an element $a \in A$, the cyclic module $M = A/a A$, being flat by hypothesis, is a filtered colimit of finitely generated free modules, say $M \cong \mathrm{colim}_i F_i$. At the same time, $M$ is finitely presented by a short exact sequence 

$$0 \to a A \to A \to M \to 0.$$ 

By [[Gabriel-Ulmer duality]], finite presentability of $M$ is equivalent to $\hom(M, -)$ preserving filtered colimits. Hence $\hom(M, -)$ preserves the colimit $M \cong \mathrm{colim}_i F_i$: the canonical map 

$$\mathrm{colim}_i \hom(M, F_i) \to \hom(M, M)$$ 

is an isomorphism. In particular, it is surjective, and therefore there is some element $[f: M \to F_i] \in \mathrm{colim}_i \hom(M, F_i)$ that maps to $1_M$, i.e., there is a map $g: F_i \to M$ appearing in the colimit cocone such that $g \circ f = 1_M$. Therefore $M$ is a retract of the free module $F_i$, hence $M$ is projective. It follows that the exact sequence above used to present $M$ splits. Therefore $a A$ itself is a retract of $A$: there is an idempotent $e \in A$ such that $a A = e A$. 
\end{proof} 

\subsection{Commutative von Neumann rings}

One can characterize [[commutative ring|commutative]] vN rings as certain subrings of products of fields. 

The first remark to make is that such rings $R$ form a variety of algebras, in other words they are the algebras of a [[finitary monad]] on the category [[Set]], equivalently, [[models]] of a [[Lawvere theory]]. This is due to the following lemma. Define a *pseudo-inverse* of an element $a \in R$ to be an element $x \in R$ such that $a x a = a$ and $x a x = x$. (Compare [[pseudogroup]], and see also [[inverse semigroup]].) 

\begin{lemma} In a commutative vN ring, every element $a$ has a unique pseudo-inverse $x$. \end{lemma} 

\begin{proof} Given $a$, there is $x$ such that $a x a = a$. It is an immediate calculation that $y = x a x$ is a pseudo-inverse of $a$. 

To prove uniquness, suppose $x, y$ are both pseudo-inverses of $a$, i.e., we have the four equations 

$$a x a = a \qquad x a x = x \qquad a y a = a \qquad y a y = y.$$

We want to prove $x = y$. First prove $a x = a y$: 

$$a x = x a = x a y a = (x a y)a = a(x a y) = (a x a)y = a y.$$ 

Then prove $x = y$: 

$$x = x(a x) = x(a y) = y(a x) = y(a y) = y.$$ 
This completes the proof. 
\end{proof} 

It follows immediately from this lemma that commutative vN rings are the same thing as commutative rings equipped with a pseudo-inversion operator $a \mapsto \overline{a}$ (moreover, pseudo-inversion is uniquely determined, as we just saw). Now we can state the characterization: 

\begin{theorem} Every commutative vN ring $R$ occurs as a subring of a product of fields that is closed under pseudo-inversion. \end{theorem} 

We sketch the proof as the end result after a series of lemmas. 

\begin{lemma} Every von Neumann regular ring is a [[reduced ring]]: there are no non-zero [[nilpotent element|nilpotents]] in a vN regular ring. \end{lemma} 

\begin{proof} It is enough to show that $a^2 = 0$ implies $a = 0$. But $a = a \overline{a} a = a^2 \overline{a}$ makes this plain. \end{proof} 

\begin{lemma} An [[integral domain]] that is vN regular must be a [[field]]. \end{lemma} 

\begin{proof} It is easy to see from $(1 - a\overline{a})a = a - a\overline{a}a = 0$ that either $a = 0$ or $a$ is invertible. \end{proof} 

\begin{corollary} Every prime ideal in a commutative vN regular ring is maximal. \end{corollary} 

\begin{corollary} For a commutative vN regular ring, the [[nilradical]] equals the [[Jacobson radical]] (the intersection of all maximal ideals). 
\end{corollary} 

\begin{proof} This follows from a well-known consequence of the [[axiom of choice]], or of the even weaker [[ultrafilter principle]], that the nilradical equals the intersection of all prime ideals: see [[nilradical]] for the proof. The statement then follows from the previous corollary. \end{proof} 

The lemmas and corollaries enter the proof of the Theorem:

\begin{proof} Taking $\mathfrak{m}$ to range over maximal ideals of $R$, the canonical quotient maps $R \to R/\mathfrak{m}$ are maps to fields, and these quotient maps "tuple" together to form a map into a product of fields 

$$\phi: R \to \prod_{\mathfrak{m}} R/\mathfrak{m}.$$ 

The image is obviously closed under pseudo-inversion. The map $\phi$ maps $R$ isomorphically onto its image iff it has trivial kernel, but the kernel is clearly just the intersection of all maximal ideals, which is the same as the nilradical, which is the ideal consisting precisely of nilpotent elements, but the only nilpotent is the zero element. Thus the kernel is trivial, and the proof is complete. \end{proof} 

\begin{theorem} Every commutative von Neumann regular ring is a commutative [[reduced ring|reduced]] [[zero-dimensional ring]]\end{theorem}

\begin{proof} See section titled *Equational definition of reduced zero-dimensional rings* on page 212 and theorem 2.3 on page 456 of [Lombardi & Quitté (2010)](#LombardiQuitté2010) for the time being. \end{proof}

### Non-algebraicity of von Neumann regular rings 

As stated in the preceding subsection, commutative vN rings form a [[variety of algebras]]: they are the same as commutative rings equipped with a pseudo-inversion operation $a \mapsto \overline{a}$ satisfying $a \overline{a} a = a$ and $\overline{a} a \overline{a} = \overline{a}$. Being the "same" means particularly that the morphisms are the same: a morphism of commutative rings that are vN regular automatically preserves this extra operation, thanks to the fact that pseudo-inversion is uniquely determined. Another way of expressing the matter is that the forgetful functor from commutative vN rings to sets is ([[finitary functor|finitarily]]) [[monadic functor|monadic]]. 

In contrast, vN rings generally do not form a variety of algebras: they are not monadic over sets. For a functor $C \to Set$ to be monadic, it is necessary that it preserve and reflect [[limits]] (see [[monadicity theorem]]). This property fails for the forgetful functor 

$$U: vN\; Ring \to Set$$ 

although this $U$ does preserve and reflect arbitrary small [[products]], and it does reflect isomorphisms since we can factorize it as 

$$vN\; Ring \hookrightarrow Ring \to Set$$ 

where the inclusion is fully faithful (hence reflects isomorphisms) and the forgetful functor $Ring \to Set$ also reflects isomorphisms. So the problem is that in some cases, [[equalizers]] in $vN\; Ring$ cannot be formed in the usual way, by taking equalizers at the level of $Set$. 

\begin{example} \label{nonalg} Let $R = M_2(k)$ for a field $k$; this is vN regular by Proposition \ref{McCoy}. Let $L \in R$ be the matrix 

$$L = \left(\begin{array}{ccc} 1 & & 1\\0 & & 1\end{array} \right)$$ 

and let $\Phi_L: R \to R$ be conjugation by $L$, i.e., $\Phi_L(X) = L X L^{-1}$. Then the equalizer of the maps $\Phi_L, 1_R$ in $Ring$ is not vN regular. For by a routine  linear algebra calculation, the equalizer, which is the subring of elements fixed under $\Phi_L$, equivalently the [[centralizer]] of $L$ in $M_2(k)$, is the subring $E$ consisting of matrices of the form 

$$\left(\begin{array}{ccc} a & & b\\0 & & a\end{array} \right),$$ 

but this $E$ has a nonzero nilpotent two-sided ideal consisting of such matrices where $a = 0$. Therefore $E$ is not von Neumann regular by the following lemma. \end{example} 

\begin{lemma} In a vN regular ring, the only nilpotent two-sided ideal is the zero ideal. \end{lemma} 

\begin{proof} It suffices to show that for $I$ any two-sided ideal, $I^2 = \{0\}$ implies $I = \{0\}$. But if $a \in I$ and $a x a = a$, then $a \in I$ and $x a \in I$, so $a = a(x a) \in I^2 = \{0\}$, i.e., $a = 0$. \end{proof}

One way of considering Example \ref{nonalg} is that although there are many pseudo-inverses $\overline{N}$ to choose from for 

$$N = \left(\begin{array}{ccc} 0 & & 1\\0 & & 0\end{array} \right),$$ 

namely matrices of the form 

$$\left(\begin{array}{ccc} a & & a b\\1 & & b\end{array} \right),$$

there is not a single one of these that is fixed by $\Phi_L$, and therefore 

$$\overline{\Phi_L(N)} = \overline{N} \neq \Phi_L(\overline{N}),$$


i.e., there is no hope of getting $\Phi_L$ to preserve any chosen pseudo-inversion operation $X \mapsto \overline{X}$. 

## Examples

* Every [[field]] or [[division ring]] is a von Neumann regular ring. 

* Every [[boolean ring]] is a von Neumann regular ring.

* Any product of von Neumann regular rings is von Neumann regular. 

* Every [[semisimple ring]] is von Neumann regular.

* For $V$ a [[vector space]] over a [[skew-field]] $K$, its [[endomorphism ring]] $End_K(V)$ is von Neumann regular.

* The property of being a von Neumann regular ring is [[invariant]] under [[Morita equivalence]], so if $A$ is vN regular, then any ring $B$ Morita equivalent to $A$ is also vN regular. For example, Proposition \ref{McCoy} gives the case of a [[matrix|matrix ring]] $B = M_n(A)$, which is Morita equivalent to $A$. 

\begin{remark} To check that a property is preserved by Morita equivalence, it suffices to check that (1) the property passes up from $R$ to matrix rings $M_n(R)$, and (2) the property passes from $R$ to "corner rings", i.e., rings of the form $e R e$ where $e$ is an idempotent such that $R= R e R$. See [Lam's Lectures on Modules and Rings](https://link.springer.com/book/10.1007/978-1-4612-0525-8), Proposition 18.33 (p. 491). As just remarked, (1) holds for von Neumann regularity. (2) easily holds for von Neumann regularity, just by exploiting the equation $(e a e)x(e a e) = (e a e)(e x e)(e a e)$ for idempotents $e$. \end{remark}


## References

Von Neumann regular rings were introduced in

* [[John von Neumann]]: *On Regular Rings*, Proc. Natl. Acad. Sci. U.S.A. **22** (1936) 707-713 &lbrack;[doi:10.1073/pnas.22.12.707](https://doi.org/10.1073/pnas.22.12.707)&rbrack;

Reference book:

* [[Ken Goodearl]]: *Von Neumann Regular Rings*, Monographs and Studies in Mathematics **4** (1979)

Also see:

* {#KapFaR} [[Irving Kaplansky]]: *Fields and Rings*, University of Chicago Press, 1972.

* {#LombardiQuitté2010} [[Henri Lombardi]], [[Claude Quitté]] (2010): *Commutative algebra: Constructive methods (Finite projective modules)* Translated by Tania K. Roblo, Springer (2015) &lbrack;[doi:10.1007/978-94-017-9944-7](https://link.springer.com/book/10.1007/978-94-017-9944-7), [pdf](http://hlombardi.free.fr/CACM.pdf)&rbrack;

See also:

* Wikipedia, *[Von Neumann regular ring](https://en.wikipedia.org/wiki/Von_Neumann_regular_ring)*

This discussion post from the Category Theory Zulip, titled "Semisimple commutative rings", is mostly about von Neumann regular rings; many of the results above were extracted from that discussion: 

* *Semisimple commutative rings*, Category Theory Zulip ([web](https://categorytheory.zulipchat.com/#narrow/channel/229199-learning.3A-questions/topic/Semisimple.20commutative.20rings))

[[!redirects von Neumann regular ring]]
[[!redirects von Neumann regular rings]]

[[!redirects reduced zero-dimensional ring]]
[[!redirects reduced zero-dimensional rings]]

[[!redirects absolutely flat ring]]
[[!redirects absolutely flat rings]]