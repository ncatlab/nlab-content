+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
###Context###
#### Locality and descent
+--{: .hide}
[[!include descent and locality - contents]]
=--
=--
=--

# Contents
* table of contents
{:toc}

## Idea
 {#Idea}

In general, *[[localization]]* is a process of [[free construction|freely]] adjoining [[inverses]] to an algebraic structure. In [[category theory]], the _localization_ $\mathcal{C}[W^{-1}]$ of a [[category]] $\mathcal{C}$ at a [[class]] $W$ of its [[morphisms]] is -- if it exists -- the result of universally making all morphisms in $W$ into [[isomorphisms]]. 

Some authors call any localization of a category a _category of fractions_  ([Gabriel & Zisman, §1.1](#GabrielZisman67); [Borceux 1994 I, Def. 5.2.1](#Borceux94)), while other authors reserve this name for the case that $W$ admits a "[[calculus of fractions]]" (e.g. [Fritz 2011](#Fritz11)). Conversely, some authors use "localization" to refer exclusively to the latter case (e.g. [Verdier 1996, Def. 2.2.5](#Verdier96);  [Stacks Project](#StacksProject)).

Yet other authors take "localization" to mean specifically "[[reflective localizations]]", by default (e.g. [[Higher Topos Theory|Lurie 2009]]).


### Motivation

A classic example is the [[localization of a commutative ring]]: we can 'localize the ring $\mathbb{Z}$ away from the prime $2$' and obtain the ring $\mathbb{Z}[\frac{1}{2}]$, or localize it away from all primes and obtain its field of fractions: the field $\mathbb{Q}$ of [[rational number|rational numbers]].

The terminology is odd for historical and geometric reasons: localizing *at* a prime means inverting things *not* divisible by that prime, while inverting the prime itself is called localizing *away* from that prime.  The reason for this, as well as for the term 'localization', becomes more apparent when we consider examples of a more vividly geometric flavor.  

For example, the ring $\mathbb{R}[x]$ consists of [[polynomial]] functions on the real line.  If we pick a point $a \in \mathbb{R}$ and localize $\mathbb{R}[x]$ by putting in an inverse to the element $(x-a)$, the resulting ring consists of [[rational function]]s defined _everywhere_ on the real line _except_ possibly at the point $a$.  This is called **localization _away from_ $a$**, or localization away from the [[ideal]] $I$ generated by $(x-a)$.  

If on the other hand we put in an inverse to every element of $\mathbb{R}[x]$ that is _not_ in the ideal $I$, we obtain the ring of rational functions defined _somewhere_ on the real line _at least_ at the point $a$: namely, those without a factor of $(x-a)$ in the denominator.  This is called **localizing _at_ $a$**, or localizing at the ideal $I$.

Notice that what is literally 'localized' when localizing the ring is not the ring itself, but its [[spectrum of a commutative ring|spectrum]]: the spectrum becomes smaller.  The spectrum of $\mathbb{R}[x]$ is the whole real line.  When we localize away from $a$, the resulting ring has spectrum $\mathbb{R} - \{a\}$.  When we localize at $a$, the resulting ring has spectrum $\{a\}$.

The case of localizing $\mathbb{Z}$ can also be interpreted geometrically in a similar way, using [[scheme]] theory and [[arithmetic geometry]].

A ring is a very special case of a [[category]], namely a one-object [[Ab-enriched category]].  This article mainly treats the more general case of localizing an arbitrary category.  The localization of a category $C$ at a class of [[morphisms]] $W$ is the universal solution to making the morphisms in $W$ into [[isomorphisms]]; it is variously written $C[W^{-1}]$, $W^{-1}C$ or $L_W C$.  In some contexts, it also could be called the [[homotopy category]] of $C$ with respect to $W$.


## Definition

Let $C$ be a [[category]] and $W \subset Mor(C)$ a collection of [[morphisms]]. 


### General 

A **localization** of $C$ by $W$ (or "at $W$") is

* a (generally [[large category|large]], see below) [[category]] $C[W^{-1}]$;

* and a [[functor]] $Q : C \to C[W^{-1}]$;

* such that

  * for all $w \in W$, $Q(w)$ is an [[isomorphism]];

  * for any category $A$ and any [[functor]] $F : C \to A$ such that $F(w)$ is an [[isomorphism]] for all $w \in W$, there exists a functor $F_W : C[W^{-1}] \to A$ and a [[natural transformation|natural isomorphism]] $F \simeq F_W \circ Q$;

  * the map between [[functor category|functor categories]]
  $$(-)\circ Q : Funct(C[W^{-1}], A) \to Funct(C,A)$$ 
  is [[fully faithful functor|full and faithful]] for every category $A$.

Note:

* if $C[W^{-1}]$ exists, it is unique up to [[equivalence]].

* In 2-categorical language, $C[W^{-1}]$ is the [[coinverter]] of the canonical natural transformation $s\to t$, where $s,t:W\to C$ are the "source" and "target" functors and $W$ is considered as a full subcategory of the [[arrow category]] $C ^{\mathbf{2}}$.


+-- {: .num_remark} 
###### Remark 
Contrary to what is sometimes asserted, the localization $C[W^{-1}]$ may generally be constructed when $C$ is large, even only in ZF where "large" means definable by class formulas. See Remark \ref{ZF} below. However, the localization might not be [[locally small category|locally small]], even if $C$ is. The tools of [[homotopy theory]], and in particular [[model category|model categories]], can be used to address this issue (see also at _[[homotopy category of a model category]]_). 
=--  


### Reflective localization

A special class of localizations are _[[reflective localizations]]_, those where the functor $C \to L_W C$ has a [[full and faithful functor|full and faithful]] [[right adjoint]] $L_W C \hookrightarrow C$.

In such a case

$$
  L_W C 
    \stackrel{\overset{Q}{\leftarrow}}{\hookrightarrow}
  C
$$

this adjoint exhibits $L_W C$ as a [[reflective subcategory]] of $C$. 

One shows that $L_W C$ is -- up to [[equivalence of categories]] -- the full subcategory on the $W$-[[local object]]s, and this property precisely characterizes such reflective localizations.

More on this is at _[[reflective localization]]_, _[[reflective subcategory]]_, _[[reflective sub-(∞,1)-category]]_, and [[reflective factorization system]].

### Localizations of enriched categories

Given a symmetric closed monoidal category $V$, a $V$-enriched category $A$ with underlying ordinary category $A_0$ and a subcategory $\Sigma$ of $A_0$
containing the identities of $A_0$, H. Wolff defines the corresponding theory of localizations. See [[localization of an enriched category]].
 
## Construction 

There is a general construction of $C[W^{-1}]$, if it exists, which is however hard to use.  When the system $W$ has special properties, most notably when $W$ admits a [[calculus of fractions]] or a [[factorization system]], then there are more direct formulas for the [[hom-sets]] of $C[W^{-1}]$.


### General construction 

Given $C$ a [[category]] and $W \,\subset\, Mor(C)$ is a set of [[morphisms]] (not necessarily forming a [[subcategory]]), we construct the localization of $C$. Let $W^{op}$ denote the corresponding set in the [[opposite category]] $C^{op}$.

Let $G$ be the following [[directed graph]]: 

* the [[vertices]] of $G$ are the [[objects]] of $C$,

* the [[morphisms]] of $G$ between two vertices $x,y$ are given by the [[disjoint union]] $C(x,y)\coprod W^{op}(x,y)$.

The arrows in $W^{op}(x,y)$ are written as $\overline{f}$ for $f\in W(y,x)$.

Let $\mathcal{P}G$ be the [[free category]] on $G$. The [[identity morphisms]] are given by the empty path beginning and ending at a given object. We introduce a [[relation]] on the morphisms of $\mathcal{P}G$ and quotient by the [[equivalence relation]] $\sim$ generated by it to get $C[W^{-1}]$.

The equivalence relation $\sim$ is that generated by

* for all objects $x$ of $C$, 

  $$(x;id_x;x) \sim (x;\emptyset;x)$$

* for all $f:x\to y$ and $g:y\to z$ in $C$, 

  $$(x;f,g;z)\sim (x;g\circ f;z)$$

* for all $f:x\to y$ in $W$, 

  $$(x;f,\overline{f};x)\sim (x;id_x;x)$$

  and

  $$(y;\overline{f},f;y)\sim (y;id_y;y)$$

+-- {: .num_remark #ZF} 
###### Remark 
With a little care, this general construction can be enacted even for [[large categories]] $C$, where "large" means given by a class formula in [[ZF]]. First, to define the free category $\mathcal{P} G$ on a large graph $G$, notice that an arrow of $\mathcal{P} G$ is a certain [[partial function]] or functional relation from $\mathbb{N}$ to $Arr(G)$ satisfying some conditions given by ZF formulas; each such relation is a "set" by the [[replacement axiom]], and the collection of such relations forms a definable class of sets. Second, in passing to the quotient, we remark that while the $\sim$-equivalence classes of morphisms in $\mathcal{P} G$ might be large (hence themselves could not be elements of a class), we can always use [[Scott's trick]] and consider instead those representatives in each equivalence class that have minimal ZF [[rank]] (using crucially the [[axiom of foundation]]); this collection of representatives is a *set*. Thus the collection of morphisms in the quotient may be identified with a definable class of sets. 

The rub is that the localization might not be locally small, even if $C$ is.
=--   





### Construction when there is a calculus of fractions 

If the class $W$ admits a [[calculus of fractions]], then there is a simpler description of $C[W^{-1}]$ in terms of [[span|spans]] instead of zig-zags.  The idea is that any morphism $f: x \to z$ in $C[W^{-1}]$ is built from a morphism $f_2 : y \to z$ in $C$ and a morphism $f_1 : y \to x$ in $W$:

$$  x \stackrel{f_1}{\longleftarrow} y \stackrel{f_2}{\longrightarrow} z $$

For more on this, see the entry [[calculus of fractions]].

[[Dorette Pronk]] has extended this idea to construct a [[bicategory of fractions|bicategories of fractions]]  where a class of 1-arrows is sent to [[equivalence|equivalences]].

### In abelian categories

Localization is especially well developed in abelian setup where several competing formalisms and input data are used. See [[localization of an abelian category]]. 

## Properties
 {#Properties}

* The localization of the [[product category]] of two [[categories with weak equivalences]] is (if it exists) the product of their localizations

  $$
    (\mathcal{C} \times \mathcal{D})[ (W_{\mathcal{C}} \times W_{\mathcal{D}})^{-1} ]
    \;\;
      \simeq
    \;\;
    ( \mathcal{C}[W_{\mathcal{C}}^{-1}] )
     \times
    ( \mathcal{D}[W_{\mathcal{D}}^{-1}] )
    \,.
  $$

  This is because localization is a [[reflector]] into the [[exponential ideal]] of minimal categories with weak equivalences.

## Examples

* examples of localizations of [[locally small categories]] that are *not* themselves locally small:

  * [Krause 2008, Ex. 4.15](#Krause08)

  * [math.SE.a/703354](https://math.stackexchange.com/a/703354/58526)



  

## In higher category theory

The notion of localization of a category has analogs in [[higher category theory]].

For [[2-categories]]:

* [[2-localization]]

For [[(∞,1)-categories]] and the special case of reflective embeddings this is discussed in

* [[localization of an (∞,1)-category]].

Every [[locally presentable (∞,1)-category]] is presented by a [[combinatorial model category|combinatorial]] [[model category]]. Accordingly, there is a model for the localization of $(\infty,1)$-categories in terms of these models. This is called

* left [[Bousfield localization of model categories]]

See also [[localization of a simplicial model category]].

## Related concepts

* [[localizing subcategory]], [[localizer]]

* [[localization at an object]]

* [[reflective localization]]

  [[essential localization]]

  [[quintessential localization]]

  [[reflective bicategory]]

* [[monoidal localization]]

* [[simplicial localization]]

* [[localization of a simplicial model category]]

* [[localization of a ring]], [[localization of a commutative ring]]

  * [[localization of a module]]

* [[localization of model categories]]

  * [[localization of simplicial model categories]]

  * [[Bousfield localization of model categories]]

    * [[Bousfield localization of spectra]]

    * [[p-localization]]

* [[localization of a type at a family of functions]]

* [[colocalization]]

* [[ring of fractions]]


## References
 {#References}

Authors who say "category of fractions" for the result of inverting any class of morphisms:

* {#GabrielZisman67} [[Pierre Gabriel]], [[Michel Zisman]], §I.1 in: _[[Calculus of fractions and homotopy theory]]_, _Ergebnisse der Mathematik und ihrer Grenzgebiete_ **35**, Springer (1967)  &lbrack;[doi:10.1007/978-3-642-85844-4](https://link.springer.com/book/10.1007/978-3-642-85844-4), [pdf](https://web.math.rochester.edu/people/faculty/doug/otherpapers/GZ.pdf)&rbrack;

* {#Borceux94} [[Francis Borceux]], §5.2 of: _[[Handbook of Categorical Algebra]] vol. 1_, Cambridge UP (1994)

  > (See also vols. 2 and 3 for examples of the theory in action in abelian categories, sheaf theory etc.)

Authors who say "localization" for the result of inverting any class of morphisms:

* {#KashiwaraSchapira00} [[M. Kashiwara]], [[P. Schapira]], Section 7 of: _[[Categories and Sheaves]]_, Grundlehren der Mathematischen Wissenschaften **332**, Springer (2006) &lbrack; [doi:10.1007/3-540-27950-4](https://link.springer.com/book/10.1007/3-540-27950-4), [pdf](https://www.maths.ed.ac.uk/~v1ranick/papers/kashiwara2.pdf)&rbrack;

* Wikipedia, *[Localization of a category](https://en.wikipedia.org/wiki/Localization_of_a_category)*

and reserve "category of fractions" for the case that $W$ admits a [[calculus of fractions]]:

* {#Fritz11} [[Tobias Fritz]], *Categories of Fractions Revisited*, Morfismos **15**  2 (2011) 19-38 &lbrack;[arXiv:0803.2587](https://arxiv.org/abs/0803.2587), [morfismos:vol15-n2-3](https://morfismos.math.cinvestav.mx/sites/default/files/Upload/vol15-n2-3.pdf)&rbrack;

See also:

* {#Yekutieli19} [[Amnon Yekutieli]], Chapter 6 of: *Derived Categories*, Cambridge University Press (2019) &lbrack;[doi:10.1017/9781108292825]( https://doi.org/10.1017/9781108292825), [arXiv:1610.09640](https://arxiv.org/abs/1610.09640)&rbrack;


Authors who say "localization" for inverting with respect to a [[calculus of fractions]]:

* {#Verdier96} [[Jean-Louis Verdier]], Def. 2.2.5 in: _Des Catégories Dérivées des Catégories Abéliennes_, Astérisque **239** (1996) &lbrack;[numdam:AST_1996__239__R1_0](http://www.numdam.org/issues/AST_1996__239__R1_0), [pdf](http://www.numdam.org/item/AST_1996__239__R1_0.pdf)&rbrack;

* {#StacksProject} [[Stacks Project]], *4.27 Localization in categories* &lbrack;[tag:04VB](https://stacks.math.columbia.edu/tag/04VB)&rbrack;

With focus on localization of [[abelian categories]] and of [[triangulated categories]]

* [[Pierre Gabriel]], *[[Des catégories abéliennes]]*, Bulletin de la Soci&#233;t&#233; Math&#233;matique de France, 90 (1962) 323-448 &lbrack;[numdam:BSMF_1962__90__323_0](http://www.numdam.org/item?id=BSMF_1962__90__323_0)&rbrack;

* [Verdier 1996](#Verdier96)



Review of localization in [[homotopy theory]]:

* [[William Dwyer]], _Localizations_, in: _Axiomatic, enriched and motivic homotopy theory_, NATO Sci. Ser. II **131**, Kluwer Acad. Publ. (2004) 3-28 &lbrack;[doi:10.1007/978-94-007-0948-5](https://doi.org/10.1007/978-94-007-0948-5)&rbrack;

For [[triangulated categories]]:

* {#Krause08} [[Henning Krause]], *Localization theory for triangulated categories*, in proceedings of *[Workshop on Triangulated Categories, Leeds 2006](https://www.commalg.org/2006/08/13/workshop-on-triangulated-categories-leeds/)* &lbrack;[arXiv:0806.1324](https://arxiv.org/abs/0806.1324)&rbrack;



A __terminological discussion__ prompted by question in which sense "localization" is a descriptive term or not is archived ion $n$Forum [here](https://nforum.ncatlab.org/discussion/481/localization/?Focus=23461#Comment_23461).

A formal implementation of Gabriel-Zisman localization in [[ZFC]], which in turn is implemented in the [[proof assistant]] [[Coq]] is in 

* {#Simpson05} [[Carlos Simpson]], _Explaining Gabriel-Zisman localization to the computer_ ([arXiv:math/0506471](http://arxiv.org/abs/math/0506471), [web](http://math.unice.fr/~carlos/themes/verif.html))

A [[HoTT]]-[[Coq]]-formalization of left-exact [[reflective sub-(∞,1)-categories]] ([[localization of an (∞,1)-category]]) in [[homotopy type theory]] is in 

* {#Shulman} [[Mike Shulman]], _[HoTT/Coq/Subcategories/LexReflectiveSubcategory.v](https://github.com/mikeshulman/HoTT/blob/master/Coq/Subcategories/LexReflectiveSubcategory.v)_
 
An original account of [[localization of commutative rings]] and of [[p-localization|p-local]] [[homotopy theory]] is 

* {#Sullivan70} [[Dennis Sullivan]], _Localization, Periodicity and Galois Symmetry_ (The 1970 MIT notes) edited by [[Andrew Ranicki]], K-Monographs in Mathematics, Dordrecht: Springer ([pdf](http://www.maths.ed.ac.uk/~aar/surgery/gtop.pdf)) 

[[!redirects categories of fractions]]


[[!redirects localization functor]]
[[!redirects localization functors]]
[[!redirects localisation functor]]
[[!redirects localisation functors]]

