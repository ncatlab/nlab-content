
+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
###Context###
#### Category theory
+--{: .hide}
[[!include category theory - contents]]
=--
#### Homotopy theory
+--{: .hide}
[[!include homotopy - contents]]=--
=--
=--

# Contents
* automatic table of contents goes here
{:toc}

## Idea

The _localization_ of a [[category]] $C$ at a collection $W$ of its [[morphism]]s is -- if it exists -- the result of universally making all morphisms in $W$ into [[isomorphism]]s.


## Motivation

In general, [[localization]] is a process of adding formal inverses to an algebraic structure.  A classic example is the localization of a [[ring]]: we can 'localize the ring $\mathbb{Z}$ at the prime $2$' and obtain the ring $\mathbb{Z}[\frac{1}{2}]$, or localize it at all primes and obtain its field of fractions: the field $\mathbb{Q}$ of [[rational number|rational numbers]].

The reason for the term 'localization' becomes more apparent when we consider examples of a more vividly geometric flavor.  

For example, the ring $\mathbb{R}[x]$ consists of [[polynomial]] functions on the real line.  If we pick a point $a \in \mathbb{R}$ and localize $\mathbb{R}[x]$ by putting in an inverse to the element $(x-a)$, the resulting ring consists of [[rational function]]s defined _everywhere_ on the real line _except_ possibly at the point $a$.  This is called **localization _away from_ $a$**, or localization away from the [[ideal]] $I$ generated by $(x-a)$.  

If on the other hand we put in an inverse to every element of $\mathbb{R}[x]$ that is _not_ in the ideal $I$, we obtain the ring of rational functions defined _somewhere_ on the real line _at least_ at the point $a$: namely, those without a factor of $(x-a)$ in the denominator.  This is called **localizing _at_ $a$**, or localizing at the ideal $I$.

Notice that what is literally 'localized' when localizing the ring is not the ring itself, but its [[spectrum]]: the spectrum becomes smaller.  The spectrum of $\mathbb{R}[x]$ is the whole real line.  When we localize away from $a$, the resulting ring has spectrum $\mathbb{R} - \{a\}$.  When we localize at $a$, the resulting ring has spectrum $\{a\}$.

A ring is a very special case of a [[category]], namely a one-object [[Ab-enriched category]].  This article mainly treats the more general case of localizing an arbitrary category.  The localization of a category $C$ at a class of [[morphisms]] $W$ is the universal solution to making the morphisms in $W$ into [[isomorphisms]]; it is written $C[W^{-1}]$ or $W^{-1}C$.  It also could be called the [[homotopy category]] of $C$ with respect to $W$.


## Definition

Let $C$ be a [[category]] and $W \subset Mor(C)$ a collection of [[morphisms]]. 


### General 

A **localization** of $C$ by $W$ (or "at $W$") is

* a (generally [[large category|large]], see below) [[category]] $C[W^{-1}]$;

* and a functor $Q : C \to C[W^{-1}]$;

* such that

  * for all $w \in W$, $Q(w)$ is an [[isomorphism]];

  * for any category $A$ and any [[functor]] $F : C \to A$ such that $F(w)$ is an [[isomorphism]] for all $w \in W$, there exists a functor $F_W : C[W^{-1}] \to A$ and a [[natural transformation|natural isomorphism]] $F \simeq F_W \circ Q$;

  * the map between [[functor category|functor categories]]
$$(-)\circ Q : Funct(C[W^{-1}], A) \to Funct(C,A)$$ 
is [[fully faithful functor|full and faithful]].

Note:

* if $C[W^{-1}]$ exists, it is unique up to [[equivalence]].

* In 2-categorical language, $C[W^{-1}]$ is the [[coinverter]] of the canonical natural transformation $s\to t$, where $s,t:W\to C$ are the "source" and "target" functors and $W$ is considered as a full subcategory of the [[arrow category]] $C ^{\mathbf{2}}$.

* **size issues**: If $C$ is [[large category|large]], then the existence of $C[W^{-1}]$ may depend on [[foundations]], and it will not necessarily be [[locally small category|locally small]] even if $C$ is.  The tools of [[homotopy theory]], and in particular [[model category|model categories]], can be used to address this question.


### Reflective localization

A special class of localizations are those where the functor $C \to L_W C$ has a [[full and faithful functor|full and faithful]] [[right adjoint]] $L_W C \hookrightarrow C$.

In such a case

$$
  L_W C 
    \stackrel{\overset{Q}{\leftarrow}}{\hookrightarrow}
  C
$$

this adjoint exhibits $L_W C$ as a [[reflective subcategory]] of $C$. 

One shows that $L_W C$ is -- up to [[equivalence of categories]] -- the full subcategory on the $W$-[[local object]]s, and this property precisely characterizes such reflective localizations.

More on this is at 

* [[reflective subcategory]]

* [[reflective sub-(∞,1)-category]].


## Construction 

There is a general construction of $C[W^{-1}]$, if it exists, which is however hard to use.   When the system $W$ has special properties, most notably when $W$ admits a [[calculus of fractions]] or a [[factorization system]], then there are more direct formulas for the [[hom-sets]] of $C[W^{-1}]$.


### General construction 

If $C$ is a category and $W$ is a set of arrows, we construct the localization of $C$. Let $W^{op}$ be the set in $C^{op}$ corresponding to $W$ (it isn't necessarily a category).

Let $G$ be the following [[quiver|directed graph]]: 

* the vertices of $G$ are the objects of $C$,
* the arrows of $G$ between two vertices $x,y$ are given by the disjoint union $C(x,y)\coprod W^{op}(x,y)$.

The arrows in $W^{op}(x,y)$ are written as $\overline{f}$ for $f\in W(y,x)$.

Let $\mathcal{P}G$ be the [[free functor|free]] category on $G$. The identity arrows are given by the empty path beginning and ending at a given object. We introduce a relation on the arrows of $\mathcal{P}G$ and quotient by the equivalence relation $\sim$ generated by it to get $C[W^{-1}]$.

The equivalence relation $\sim$ is generated by

* for all objects $x$ of $C$, 
$$(x;id_x;x) \sim (x;\emptyset;x)$$
* for all $f:x\to y$ and $g:y\to z$ in $C$, 
$$(x;f,g;z)\sim (x;g\circ f;z)$$
* for all $f:x\to y$ in $W$, 
$$(x;f,\overline{f};x)\sim (x;id_x;x)$$
and
$$(y;\overline{f},f;y)\sim (y;id_y;y)$$

(Continue to show the quotient by $\sim$ gives a category, that it is locally small, and that if $C$ is small, the quotient is small.)

+-- {: .query}
[[David Roberts]]: This could probably be described as the [[fundamental category]] of 2-dimensional [[simplicial complex]] with the directed space structure coming from the 1-skeleton, which will be the path category above. In that case, we could/should probably leave out the paths of zero length. 
=--


### Construction when there is a calculus of fractions 

If the class $W$ admits a [[calculus of fractions]], then there is a simpler description of $C[W^{-1}]$ in terms of [[span|spans]] instead of zig-zags.  The idea is that any morphism $f: x \to z$ in $C[W^{-1}]$ is built from a morphism $f_2 : y \to z$ in $C$ and a morphism $f_1 : y \to x$ in $W$:

$$  x \stackrel{f_1}{\longleftarrow} y \stackrel{f_2}{\longrightarrow} z $$

For more on this, see the entry [[calculus of fractions]].

Dorette Pronk has extended this idea to construct a [[bicategory of fractions|bicategories of fractions]]  where a class of 1-arrows is sent to [[equivalence|equivalences]].


## In higher category theory

The notion of localization of a category has analogs in [[higher category theory]].

For [[(∞,1)-categories]] and the special case of reflective embeddings this is discussed in

* [[localization of an (∞,1)-category]].

Every [[locally presentable (∞,1)-category]] is presented by a [[combinatorial model category|combinatorial]] [[model category]]. Accordingly, there is a model for the localization of $(\infty,1)$-categories in terms of these models. This is called

* left [[Bousfield localization of model categories]]

See also 

* [[localization of a simplicial model category]].


## References

The classical reference to localization for categories is the book by Gabriel and Zisman:

* P. Gabriel and M. Zisman, _Calculus of Fractions and Homotopy Theory_, Springer, New York, 1967. _Ergebnisse der Mathematik und ihrer Grenzgebiete_, Band 35. 
 
A more modern account of localization with a [[calculus of fractions]] is section 7 of

* Kashiwara-Schapira, _[[Categories and Sheaves]]_


## Discussion 

This discussion started on the question in which sense "localization" is a descriptive term or not.

+-- { .query}
[[Zoran Skoda]] Mike, why do you say confusing? First of all localization of a ring induces localization of categories of 1-sided modules by tensoring with the localized ring over original ring and conversely applying localization functor to a ring itself produces the localized ring. The canonical morphism from the ring to its localization, sometimes also called localization, is the adjunction morphism indexed by the ring. The localization functor is just a natural extension of the localization from a ring to all modules over the ring not just the ring itself. The same for corresponding (components of) the adjunction morphisms 
in that case.

Second, if one does special case when localizations can be made via categories of fractions then Ore conditions are literally Ore conditions from the theory of localization of monoids 
or rings (besides a monoid is just a category with one object). Third, [[Bousfield localization]] in triangulated setup is a localization associated to an idempotent monad just like usual flat localization (or any localization having faithfully flat right adjoint), just
the functors are triangulated, and the monad is Z-graded.
Finally Cohn universal localization is just H_0 of Bousfield localization and in the matrix form one is essentially solving the Ore condition, as it is shown by Malcolmson and 
independently and earlier Gerasimov. In fact when one restricts the Cohn localization to finitely generated projectives one has a flat localization. So it is not just an analogy -- these are all special cases of the **same** picture and mechanism. 

[[Mike Shulman|Mike]]: The thing that is confusing to me is when one extends the use of "localization" beyond the context of localization of things like modules and sheaves.  I do not see any "locality" involved in the process of inverting an arbitrary class of morphisms in a category.  Of course there is just one concept here, but I do not like the choice of the word "localization" to describe it.

[[Tim Porter|Tim]]:  Might I suggest that a little historical note tracing the origin of the term (including local ring, as well) might be a good point.  Sometimes such a look back to the origins of a term can show old light on new concepts and help one 'create' good new concepts or to view the concepts in  a new light.

[[Mike Shulman|Mike]]: Just to clarify, I do definitely see the reason why inverting a multiplicative system on a ring is called "localization."  I still might prefer it if people had chosen a word that describes what happens to the ring itself, rather than its spectrum, but I understand the motivation behind the term.

[[Tim Porter|Tim]]:  My point was just that others (i.e. more 'debutant' in the area) might benefit from a few lines on the geometric origin of the term.  

Actually I agree with what you, Mike, sort of imply namely  that some 'local' example would be good to see. Is there something in the geometric function theory area that would provide a nice example say of a naturally occurring 'prestack' where the passage to the corresponding stack is clearly restricting to 'germs' of the categories involved?  I have never thought about that point,  any ideas?? It may be easy, I just don't know.

[[Urs Schreiber|Urs]]: sounds good. I have now tried to rework the entry a bit reflecting this discussion. We could/should still add a more detailed historical note.

Also, it would be good to arrange the points that [[Zoran Skoda|Zoran]] mentions into a coherent bulleted list in an examples section. Maybe somebody can do that.
=--


[[!redirects localization]]
[[!redirects localizations]]
[[!redirects localisation]]
[[!redirects localisations]]

[[!redirects localization functor]]
[[!redirects localization functors]]
[[!redirects localisation functor]]
[[!redirects localisation functors]]
