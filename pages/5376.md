In this article, we explore [[cartesian monoidal category|cartesian monoidal categories]] as a [[doctrine]] on [[Cat]], by analyzing the structure of free cartesian categories. 

It is convenient to discuss the case of categories with arbitrary small products (or arbitrary small coproducts) first, because there we get some very pleasant adjunctions to work with. Then, we may cut down to finite products and derive some possibly unexpected bonuses involving finite limits. 

## Free categories with small products 

We start by constructing the free category with small products $Prod(S)$ generated by a set $S$. This by definition comes equipped with a function $i: S \to Ob(Prod(S))$ with the following universal property: given a category $C$ with small products and a function $f: S \to Ob(C)$, there exists up to (unique) isomorphism a unique product-preserving functor $\Pi: Prod(S) \to C$ such that $f = Ob(\Pi) \circ i$. 

The [[slice category]] $Set/S$ is [[small-complete category|small-cocomplete]]; therefore $(Set/S)^{op}$ has small products. There is an evident function $i: S \to Ob((Set/S)^{op})$ which takes $s \in S$ to $s: 1 \to S$. This can also be regarded as a [[Yoneda embedding]] under the equivalence $Set/S \simeq Set^S$. 

Each object $n: N \to S$ of $(Set/S)^{op}$ can be regarded as a monomial $\prod_{s \in S} x_{s}^{n_s}$ where $S$ indexes a set of variables $x_s$ and $n_s = n^{-1}(s)$ is the (cardinality of the) fiber over $S$. Therefore the following theorem comes as no surprise. 

+-- {: .un_thm} 
######Theorem 
$Set/S$ together with $i: S \to Set/S$ is the free category with small products generated by $S$. 
=-- 

+-- {: .proof} 
######Proof
Let $C$ be a category with small products. Given $f: S \to Ob(C)$, the functor $\Pi: (Set/S)^{op} \to C$ is defined on the object-level: $n: N \to S$ is sent to $\prod_{s \in S} f(s)^{n_s}$ in $C$. In addition, a morphism from $m: M \to S$ to $n: N \to S$ in $(Set/S)^{op}$ is a function $\phi: N \to M$ that satisfies $m \circ \phi = n$; this in turn consists of a collection of functions $\phi_s: n_s \to m_s$ indexed by elements $s \in S$, and each such function induces a morphism 

$$f(s)^{\phi_s}: f(s)^{m_s} \to f(s)^{n_s}$$ 

in $C$, uniquely specified by declaring the $i^{th}$ component of this morphism for $i \in n_s$ to be given by 

$$f(s)^{m_s} \stackrel{proj_{\phi_s(i)}}{\to} f(s)$$

Given a morphism $\phi$ of $(Set/S)^{op}$, define $\Pi(\phi)$ by  

$$\Pi(\phi) = \langle f(s)^{\phi_s} \rangle_{s \in S}: \prod_{s \in S}  f(s)^{m_s} \to \prod_{s \in S} f(s)^{n_s}.$$ 

The functor $\Pi$ is the unique product-preserving functor $(Set/S)^{op} \to C$ (up to isomorphism) that extends $f: S \to Ob(C)$. 
=-- 

Given categories with products $C$ and $D$, let $Prod(C, D)$ denote the category of product-preserving functors $F: C \to D$ and natural transformations between them. By the preceding theorem, there is an equivalence 

$$Prod((Set/S)^{op}, C) \simeq C^S$$ 

where the right side consists of functors $S \to C$ (where $S$ is regarded as a discrete category) and natural transformations between them. 

+-- {: .un_cor}
######Corollary
The category $Prod((Set/S)^{op}, Set)$ is isomorphic to $Set/S$. 
=-- 

+-- {: .proof} 
######Proof
Because $Prod((Set/S)^{op}, Set) \simeq Set^S \simeq Set/S$. 
=-- 

Let $C$ be a locally small category with products. There is a Yoneda embedding 

$$y: C^{op} \to Prod(C, Set)$$ 

As we just saw, the Yoneda embedding $y: Set/S \to Prod((Set/S)^{op}, Set)$ is an equivalence. We may arrange that the reverse equivalence $Prod((Set/S)^{op}, Set) \to Set/S$ is right adjoint to $y$, and so we denote it as $y^*$. 

+-- {: .un_thm} 
######Theorem 
If $C$ is a locally small category with small products and $f: S \to C$ is a functor, the coproduct-preserving functor $\Pi^{op}: Set/S \to C^{op}$ has a right adjoint given by the composite 

$$C^{op} \stackrel{y}\to Prod(C, Set) \stackrel{Prod(\Pi, Set)}{\to} Prod((Set/S)^{op}, Set) \stackrel{y^*}{\to} Set/S$$ 
=-- 

+-- {: .proof}
######Proof
There are natural bijections between morphisms

$$\array{
\Pi^{op}(g: X \to S) \to c & & in C^{op}\\
c \to \Pi(g: X \to S) & & in C\\
y(g: X \to S) \to \hom_C(c, \Pi-) & & in Prod((Set/S)^{op}, Set)\\
(g: X \to S) \to y^* \hom_C(c, \Pi-) & & in Set/S
}$$ 
and this proves the theorem. 
=-- 

+-- {: .un_cor}
######Corollary
Under the hypotheses of the previous theorem, the product-preserving functor $\Pi: (Set/S)^{op} \to C$ is a right adjoint. In particular, it 
preserves _all_ limits. 
=--

### Free category with products generated by a category

Now let $C$ be a small category. We construct the free category with _co_products generated by $C$ directly as follows: the objects of $Coprod(C)$ are those of $Set/S$, where $S$ is the set of objects. A morphism (say from $f: X \to S$ to $g: Y \to S$) is given by a function $\phi: X \to Y$) together with an $X$-indexed collection of morphisms of $C$ of the form $\Phi_x: f(x) \to g(\phi(x))$. The data of a morphism may be exhibited as a 2-cell of the form 

$$\array{
X & \stackrel{\phi}{\to} & Y \\
\mathllap{1_X} \downarrow & \stackrel{\Phi}{\Rightarrow} & \downarrow \mathrlap{g} \\
X & \underset{f}{\to} & C
}$$

The free category with products generated by $C$ is obtained by dualization: 

$$Prod(C) = Coprod(C^{op})^{op}$$ 
