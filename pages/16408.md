#Contents#
* table of contents
{:toc}

## Idea

A **combinatorial map** (or **algebraic map**) is a representation of a graph embedded in a surface (i.e., a [[topological map]]) as a set and a list of permutations acting on that set, with the property that two combinatorial maps are equivalent up to [[conjugation action|conjugation]] if and only if the corresponding graph embeddings are equivalent up to [[homeomorphism]] of the underlying surfaces. The precise formulation depends upon assumptions made about the underlying surface (e.g., whether it is [[connected space|connected]] and/or [[oriented]]) and about the underlying graph (e.g., whether all vertices have a fixed degree), but typically different classes of topological maps can be represented by lists of permutations satisfying different sets of constraints.

## Oriented maps and hypermaps

### Classical combinatorial maps

The following definition corresponds to the case which is perhaps most well-studied:

+-- {: .num_definition #vinv}
###### Definition
A **combinatorial map** $M$ is a set $D$ (whose elements are called _darts_) equipped with a triple of [[permutations]] $(\sigma,\alpha,\phi)$ on $D$ such that:

1. the [[subgroup]] $\langle \sigma,\alpha,\phi\rangle$ of $Aut(D)$ generated by the permutations acts [[transitive action|transitively]] on $D$;

1. the composition of the permutations is the identity: $\phi\alpha\sigma = id$;

1. $\alpha$ is a [[fixed point]]-free [[involution]].
=--

A [[homomorphism]] of combinatorial maps

$$M \to M'$$

where $M = (D,(\sigma,\alpha,\phi)), M' = (D',(\sigma',\alpha',\phi'))$ is a function $h : D \to D'$ which commutes with each of the respective permutations,

$$h\sigma = \sigma'h \qquad h\alpha = \alpha'h \qquad h\phi = \phi' h.$$

Hence, $M$ and $M'$ are [[isomorphic]] as maps if and only there is a bijection $h : D \cong D'$ between their underlying sets of darts, such that the triple of permutations $(\sigma,\alpha,\phi)$ is mapped by the [[conjugation action]] of $h$ to the triple of permutations $(\sigma',\alpha',\phi')$.

In the literature, many authors equivalently define a combinatorial map by a pair $(\sigma,\alpha)$ of permutations, since by condition (2) above, the third permutation $\phi$ can always be recovered uniquely as $\phi = \sigma^{-1}\alpha^{-1}$.

### Representation of a graph embedded in an oriented surface

Let $\theta$ be an embedding of a [[graph]] $G = (V,E)$ into a [[surface]] $X$ which is [[compact]], [[connected]], [[oriented]], and without [[boundary]].  We can associate a combinatorial map to this topological embedding, which is unique up to isomorphism:

* $D$ is defined as a set containing $2n$ elements, where $n = |E|$, with a pair of distinct darts $e^+,e^- \in D$ for each $e \in E$.  These darts may be visualized as oriented edges, or alternatively as half-edges (splitting each of the original edges in the middle).

* the collection of edges $E$ induces a fixed point-free involution $\alpha$ on $D$, by swapping $e^+$ with $e^-$ for each edge $e \in E$.

* suppose darts are visualized as oriented edges: we will say that a dart $d$ is _incident_ to a vertex $x$ if $x$ is the unique vertex located at the source of $d$.  Then every vertex $x\in V$ determines a cyclic ordering of the darts incident to $x$, by considering (say) a counterclockwise-oriented [[loop]] around $\theta(x)$.  In this way (which relies on the assumption that $X$ is oriented), each vertex determines a cycle of the permutation $\sigma$.

* similarly, we say that a dart $d$ is incident to a face $f$ (i.e., a connected component of $X \setminus \theta(G)$) if $f$ is the unique face appearing to the left of $d$.  Then each face $f$ determines a cyclic ordering of darts incident to $f$ (corresponding to a clockwise traversal along the perimeter of $f$), and we can combine these disjoint cycles into a single permutation $\phi$.

* by a simple visual argument, it is easy to check that if we start at any dart $d \in D$, then apply the permutation $\sigma$ followed by $\alpha$ followed followed by $\phi$, we always end up back at $d$.

### Genus of a combinatorial map

By the previous construction, it is natural to define the **genus** $g$ of a combinatorial map $M = (\sigma,\alpha,\phi)$ using the [[Euler characteristic|Euler-Poincar√© formula]],

$$\chi(M) = c(\sigma) - c(\alpha) + c(\phi) = 2-2g$$

where $c(\pi)$ counts the number of cycles in the [[permutation#via_cycle_decompositions|cyclic decomposition]] of $\pi$ (i.e., the number of $\pi$-[[orbits]]).

### Hypermaps and constellations

The classical definition given above of combinatorial map may be generalized in several directions.  A small but useful generalization is to drop the requirement that $\alpha$ be [[fixed point]] free, while keeping the requirement that it be an [[involution]] (i.e., that $\alpha^2 = id$).  This can be seen as allowing the possibility for the graph to include "dangling edges".  In particular, every $\alpha$-[[orbit]] has length 2 or 1, with orbits of length 2 representing complete edges and orbits of length 1 representing dangling edges.

As a bigger step, it is possible to drop condition (3) altogether:

+-- {: .num_definition #vinv}
###### Definition
A **combinatorial hypermap** is a set $D$ equipped with a triple of [[permutations]] $(\sigma,\alpha,\phi)$ on $D$ such that:

1. the [[subgroup]] $\langle \sigma,\alpha,\phi\rangle$ of $Aut(D)$ generated by the permutations acts [[transitive action|transitively]] on $D$;

1. the composition of the permutations is the identity: $\phi\alpha\sigma = id$.
=--

A combinatorial hypermap gives a representation of a topological embedding of a [[hypergraph]] in a connected oriented surface, but (as first noted by Walsh) this turns out to be equivalent to an embedding of an ordinary graph equipped with a [[graph coloring|2-coloring]] of the vertices -- say, in black and white -- such that no two adjacent vertices have the same color. (Such a graph is necessarily [[bipartite]].) The permutations $\sigma$ and $\alpha$ represent the cycles around the black and white vertices, respectively, while $\phi$ as before represents the faces.  Any ordinary map with all black vertices can be turned into hypermap by adding a white vertex in the middle of each edge (this goes well with the view of darts as half-edges), and from that perspective, the definition of hypermap simply correspond to lifting the restriction that white vertices have degree 2.

Both of these generalizations of the standard notion of combinatorial map are studied in the literature on so-called [[dessins d'enfants]], sometimes using the following terminology to distinguish the different cases:

* $\alpha$ is a fixed point free involution : "clean dessin"

* $\alpha$ is an involution : "pre-clean dessin"

* no conditions on $\alpha$ (besides (1) and (2) above): "dessin"

Another line of generalization is to consider an arbitrary number of permutations (rather than only three).  This more general notion of hypermap is called a "constellation" in [Lando & Zvonkin](#LandoZvonkin04).

+-- {: .num_definition #vinv}
###### Definition
A **k-constellation** is a set $D$ equipped with a $k$-[[tuple]] of [[permutations]] $\alpha_1,\dots,\alpha_k$ on $D$ such that:

1. the [[subgroup]] $\langle \alpha_1,\dots,\alpha_k\rangle$ of $Aut(D)$ generated by the permutations acts [[transitive action|transitively]] on $D$;

1. the composition of the permutations is the identity: $\alpha_k\dots\alpha_1 = id$.
=--

The definition of the genus of a combinatorial map may be generalized appropriately to hypermaps and constellations.

### Fixed vertex/edge/face degrees

If one adds, say, the condition that

* $\sigma^3 = id$ and $\sigma$ has no fixed points

to the definition of combinatorial map, then the resulting class of permutations represent embeddings of _trivalent_ graphs, i.e., where every vertex has degree 3.  Dually, placing the condition that

* $\phi^3 = id$ and $\phi$ has no fixed points

gives a way of representing arbitrary [[triangulations]] of oriented surfaces.  Analogous to what we saw above in the case of the edge involution $\alpha$, dropping the condition that $\sigma$ or $\phi$ be fixed point free also allows for the possibility of degenerate vertices/faces of degree 1.

More generally, we can say (following [Jones and Singerman 94](#JonesSingerman94)) that a hypermap has type $(p,q,r)$ if the permutations $\sigma$, $\alpha$, and $\phi$ have [[order#in_the_sense_of_group_theory|order]]s $p$, $q$, and $r$ respectively.  This algebraic condition translates to the topological condition that $p$, $q$, and $r$ are the [[least common multiple]]s of the degrees of the hypervertices, hyperedges, and hyperfaces, respectively.

## The category of oriented maps

In this section we will adopt the more liberal notion of combinatorial map described above, for which the involution $\alpha$ is allowed to have fixed points corresponding to "dangling" edges.  We will also sometimes write _map_ as shorthand for combinatorial map in this more liberal sense, and _classical map_ to refer to the more restrictive definition disallowing dangling edges.

+-- {: .num_definition #vinv}
###### Definition
The **category of combinatorial maps** $CM$ is defined as follows:

* objects are pairs of a set $D$ together with a triple of permutations $(\sigma,\alpha,\phi)$ on $D$ such that $\langle\sigma,\alpha,\rho\rangle$ acts transitively on $D$ and $\alpha^2 = \phi\alpha\sigma = id$.

* morphisms $(D,(\sigma,\alpha,\phi)) \to (D',(\sigma',\alpha',\phi'))$ are functions $h : D \to D'$ such that $h\sigma = \sigma' h$, $h\alpha = \alpha' h$, and $h\phi = \phi' h$.
=--

The category $CM$ was defined by [Jones and Singerman 78](#JonesSingerman78) essentially as above (though it is called $AM$, standing for "algebraic maps").  Specifically, Jones and Singerman take this category to include combinatorial maps in which the involution $\alpha$ may contain fix points.

+-- {: .num_thm}
###### Proposition
$CM$ is a [[concrete category]], with a faithful functor $U : CM \to Set$ which sends any combinatorial map $(D,(\sigma,\alpha,\phi))$ to its underlying set of darts $D$, and any homomorphism of maps $h : M \to M'$ to a function $h : D \to D'$ between the underlying sets of darts.
=--

### Monodromy group

For a given map $M = (D,(\sigma,\alpha,\phi))$, the subgroup $\langle \sigma,\alpha,\phi\rangle$ of $Aut(D)$ is called the **[[monodromy]] group** $Mon(M)$ of $M$. ([Lando & Zvonkin](#LandoZvonkin04) call this the _cartographic group_ of $M$, but it seems more common to reserve that name for a specific monodromy group, that of the "universal map": see [[cartographic group]].)  Note that a homomorphism of maps $h : M \to M'$ as defined above is the same thing as a morphism between the actions of the monodromy groups,

$$\array{D \times Mon(M) & \to & D\\
  ^{h\times (-)'}\downarrow && \downarrow^h\\
  D' \times Mon(M')& \to & D'}$$

where $(-)' : Mon(M) \to Mon(M')$ is the group homomorphism sending the generators $\sigma$, $\alpha$, and $\phi$ of $Mon(M)$ to the respective generators $\sigma'$, $\alpha'$, and $\phi'$ of $Mon(M')$.

The fact that $Mon(M)$ acts transitively on the set of darts $D$ corresponds to the topological condition that the graph represented by $M$ is connected.  This places strong restrictions on possible morphisms between maps:

+-- {: .num_thm}
###### Proposition
A morphism $h : M \to M'$ of combinatorial maps is entirely determined by the choice of a dart $d_1 \in D$ and its image $h(d_1) \in D'$.
=--

+-- {: .proof} 
###### Proof 

Let $d_2 \in D$.  By assumption of transitivity, there exists a word $w \in \langle \sigma,\alpha,\phi \rangle$ such that $d_2 = w * d_1$.  Hence $h(d_2) = h(w * d_1) = w' * h(d_1)$.
=--

+-- {: .num_thm}
###### Proposition
If $h : M \to M'$ is a morphism of combinatorial maps and $D$ is [[inhabited]], then the underlying function $h : D \to D'$ is a [[surjection]] from the underlying set of darts of $M$ to the underlying set of darts of $M'$.
=--

+-- {: .proof} 
###### Proof 
Let $d' \in D'$.  By assumption that $D$ is inhabited there exists a $d \in D$, and by assumption of transitivity there exists $w' \in Mon(M')$ such that $d' = w' * h(d)$.  Note that the homomorphism $(-)' : Mon(M) \to Mon(M')$ is an [[epimorphism]] of groups, since it takes generators to generators, implying that there exists $w \in Mon(M)$ such that $w' * h(d) = h(w * d)$.  So $w*d$ is in the inverse image of $d'$.
=--

### Terminal object

We note that the following property of $CM$ relies crucially on allowing maps with dangling edges.

+-- {: .num_thm}
###### Proposition
The set $1 = \{ * \}$ equipped with the triple of identity permutations $\sigma = \alpha = \phi = id_1$ is a map, and is a [[terminal object]] in $CM$.
=--

### Rooted maps

Enumeration of maps is an active branch of [[combinatorics]], going back to the work of [[W. T. Tutte]] in the 1960s.  One of the difficulties with trying to count (combinatorial or topological) maps directly, though, is that they can have non-trivial symmetries (which would need to be accounted for to avoid double-counting).  This is why combinatorists typically study _rooted maps_, as suggested in this autobiographical account by Tutte:

> Having made no progress with the enumeration of these diagrams [(strict triangulations of the plane)] I bethought myself of Cayley's work on the enumeration of trees. His first successes had been with the rooted trees, in which one vertex is distinguished as the "root". Perhaps I should root the strict triangulations in some way and try to enumerate the rooted ones. Eventually I decided that the rooting should consist of the choice of a face, edge and vertex, mutually incident....

> I am not sure what I would have replied at this stage if I had been asked why I preferred these rooted triangulations to the unrooted ones.... Later I realized that the distinguishing feature and the great advantage of rooted maps is that they have no symmetry. Automorphisms seem to complicate enumerative problems.

> (From Chapter 10 of W. T. Tutte, _Graph Theory As I Have Known It_, Oxford, 1998.)

For a combinatorial map $(D,(\sigma,\alpha,\phi))$, choosing "a face, edge and vertex, mutually incident" is equivalent to choosing a dart $r \in D$: the root vertex, edge, and face can then be computed as the orbits of $r$ under the three permutations.  Rooted combinatorial maps may be organized into another category:

+-- {: .num_definition #vinv}
###### Definition
The **category of rooted combinatorial maps** $CM_\bullet$ is defined as follows:

* objects are pairs of a map $M = (D,(\sigma,\alpha,\phi))$ together with a distinguished dart $r \in D$ called the _root_.

* morphisms $(M,r) \to (M',r')$ are map morphisms $h : M \to M'$ in $CM$ which preserve the root $h(r) = r'$.
=--

Note that $CM_\bullet$ is equivalent to the [[comma category]] $1 \downarrow U$ of the singleton set 1 with the forgetful functor $U : CM \to Set$.  In particular, $CM_\bullet$ is _not_ the [[coslice category]] $1/CM$ of the terminal object $1 \in CM$, which is actually a trivial category (compare: [[pointed object]]).

Tutte's observation that rooted maps have no symmetries can be formulated as follows:

+-- {: .num_thm}
###### Proposition
Let $h : (M,r) \to (M,r)$ be an endomorphism of $(M,d)$ in the category of rooted maps $CM_\bullet$.  Then $h$ is the identity morphism.
=--

+-- {: .proof} 
###### Proof 

Let $d \in D$ be any dart of $M$.  By transitivity of $Mon(M)$, there is some word $w \in Mon(M)$ such that $d = w * r$, and therefore $h(d) = w * h(r)$. But since $h$ fixes $r$ this implies $h(r) = w * r = d$.
=--

## Related concepts

* [[cartographic group]]

* [[topological map]]

* [[child's drawing]]

* [[ribbon graph]]

## References

* J. Edmonds (1960), A combinatorial representation for polyhedral surfaces, _Notices Amer. Math. Soc._ 7, 646.

* A. Jacques (1970), Constellations et graphes topologiques, _Colloque Math. Soc. Janos Bolyai_, 657-672.

* W. T. Tutte. What is a map? In _New Directions in Graph Theory_ (ed. F. Harary), Academic Press, New York, 309-325, 1973.

* {#JonesSingerman78} [[Gareth A. Jones]] and [[David Singerman]], Theory of Maps on Orientable Surfaces. Proceedings of the London Mathematical Society, 37:273-307, 1978.

* {#JonesSingerman94} [[Gareth Jones]] and [[David Singerman]]. Maps, hypermaps, and triangle groups.  In _The Grothendieck Theory of Dessins d'Enfants_, [[L. Schneps]] (ed.), London Mathematical Society Lecture Note Series 200, Cambridge University Press, 1994.

* {#LandoZvonkin04} [[Sergei K. Lando]] and [[Alexander K. Zvonkin]], _Graphs on Surfaces and Their Applications_, Springer, 2004.

* [[Alexander K. Zvonkin]], Functional Composition is a Generalized Symmetry, _Symmetry: Culture and Science_ Vol. 21, Nos.1-4, 333-368, 2010. ([pdf](https://www.labri.fr/perso/zvonkin/Research/tesselations.pdf))

* Wikipedia page: [Combinatorial map](https://en.wikipedia.org/wiki/Combinatorial_map)

[[!redirects algebraic map]]
[[!redirects algebraic maps]]
[[!redirects combinatorial maps]]
[[!redirects combinatorial hypermap]]
[[!redirects combinatorial hypermaps]]
