
> under construction

+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
### Context
#### Type theory
+-- {: .hide}
[[!include type theory - contents]]
=--
#### Category theory
+-- {: .hide}
[[!include category theory - contents]]
=--
=--
=--

# Contents
* table of contents
{: toc}

## Idea

[[type theory|Type theory]] and certain kinds of [[category theory]] are closely related.  By a [[syntax-semantics duality]] one may view type theory as a formal [[syntax|syntactic]] language or _calculus_ for category theory, and conversely one may think of category theory as providing [[categorical semantics|semantics]] for type theory.  The flavor of category theory used depends on the flavor of type theory; this also extends to [[homotopy type theory]] and certain kinds of [[(∞,1)-category theory]].
 

## Overview
 {#Overview}

| flavor of type theory  | $\;$equivalent to$\;$ | flavor of category theory | |
|--|--|--|--|
[[intuitionistic logic|intuitionistic]] [[propositional logic]]/[[simply-typed lambda calculus]] | | [[cartesian closed category]] | |
[[multiplicative intuitionistic linear logic]] | | symmetric [[closed monoidal category]] | ([various authors since ~68](linear%20type%20theory#HistoryCategoricalSemantics)) | 
|[[first-order logic]] |  | [[hyperdoctrine]] | ([Seely 1984a](#SeelyA)) |
[[classical linear logic]] | | [[star-autonomous category ]] | ([Seely 89](#Seely89)) |
|[[Martin-Löf dependent type theory]]|  | [[locally cartesian closed category]] | ([Seely 1984b](#Seely)) |
|[[homotopy type theory]]|  | [[locally cartesian closed (∞,1)-category]] | (conjectural) |
|[[homotopy type theory]] with [[higher inductive types]] and [[univalence]] |  | [[elementary (∞,1)-topos]] | (conjectural) |

[[!include types and logic - table]]

## Theorems
 {#Theorems}

We discuss here formalizations and proofs of the relation/equivalence between various flavors of type theories and the corresponding flavors of categories.

* [First order logic and hyperdoctrines](#FirstOrderLogic)

* [Martin-Löf Dependent type theory and locally cartesian closed categories](#DependentTypeTheory)

* [Homotopy type theory and locally cartesian closed (∞,1)-categories](#HomotopyTypeTheory)

* [Homotopy type theory with univalence and elementary (∞,1)-toposes](#HomotopyWithUnivalence)


### First-order logic and hyperdoctrines
 {#FirstOrderLogic}

+-- {: .num_theorem}
###### Theorem

The [[functors]] 

* $Cont$, that form a [[category of contexts]] of a [[first-order logic|first-order theory]];

* $Lang$, that forms the [[internal language]] of a [[hyperdoctrine]]

constitute an [[equivalence of categories]]

$$
  FirstOrderTheories
    \stackrel{\overset{Lang}{\leftarrow}}{\underset{Cont}{\to}}
  Hyperdoctrines
  \,.
$$

=--

([Seely, 1984a](#SeelyA))


### Martin-Löf dependent type theory and locally cartesian closed categories
 {#DependentTypeTheory}


+-- {: .num_theorem}
###### Theorem

There are [[2-functors]] 

* $Cont$, that forms a [[category of contexts]] of a [[Martin-Löf dependent type theory]];

* $Lang$ that forms the [[internal language]] of a [[locally cartesian closed category]]

that constitute an [[equivalence of 2-categories]]

$$
  MLDependentTypeTheories
    \stackrel{\overset{Lang}{\leftarrow}}{\underset{Cont}{\to}}
  LocallyCartesianClosedCategories
  \,.
$$

=--

This was originally claimed as an [[equivalence of categories]] ([Seely, theorem 6.3](#Seely)). However, that argument did not properly treat a subtlety central to the whole subject: that [[substitution]] of [[terms]] for [[variables]] composes strictly, while its [[categorical semantics]] by [[pullback]] is by the [[universal construction|very nature]] of pullbacks only defined up to [[isomorphism]]. This problem was pointed out and ways to fix it were given in ([Curien](#Curien)) and ([Hofmann](#Hofmann)); see _[[categorical model of dependent types]]_ for the latter.  However, the full equivalence of categories was not recovered until ([Clairambault-Dybjer](#ClairambaultDybjer)) solved both problems by promoting the statement to an [[equivalence of 2-categories]].

We now indicate some of the details.



#### Type theories
 {#TypeTheories}

For definiteness, self-containedness and for references below, we say what a [[dependent type theory]] is, following ([Seely, def. 1.1](#Seely)).

+-- {: .num_defn}
###### Definition

A **Martin-Löf [[dependent type theory]]** $T$ is a _[[theory]]_ with some [[signature (in logic)|signature]] of dependent function symbols with values in types and in terms (...) subject to the following rules

1. **type formation rules** 

   1. $1$ is a type (the [[unit type]]);
  
   1. if $a, b$ are terms of type $A$, then $(a = b)$ is a type (the [[equality type]]);

   1. if $A$ and $B[x]$ are types, $B$ depending on a [[free variable]] of type $A$, then the following symbols are types

      1. $\prod_{a : A} B[a]$ ([dependent product]), written also $(A \to B)$ if $B[x]$ in fact does not depend on $x$;

      1. $\sum_{a : A} B[a]$ ([[dependent sum]]), written also $A \times B$ if $B[x]$ in fact does not depend on $x$;

1. **term formation rules**

   1. $* \in 1$ is a term of the [[unit type]];

   1. (...)

1. **equality rules**

   1. (...)


=--


#### Category of contexts

+-- {: .num_defn}
###### Definition

Given a [[dependent type theory]] $T$, its **[[category of contexts]]** $Con(T)$ is the category whose

* [[objects]] are the [[types]] of $T$;

* [[morphisms]] $f : A \to B$ are the [[terms]] $f$ of [[function type]] $A \to B$.

Composition is given in the evident way.
 
=--

+-- {: .num_prop}
###### Proposition

$Con(T)$ has [[finite limits]] and is a [[cartesian closed category]].

=--

([Seely, prop. 3.1](#Seely))

+-- {: .proof}
###### Proof

Constructions are straightforward. We indicated some of them. 

Notice that all [[finite limits]] (as discussed there) are induced as soon as there are all [[pullbacks]] and [[equalizers]]. A [[pullback]] in $Con(T)$

$$
  \array{
    P &\to& A
    \\
    \downarrow && \downarrow^{\mathrlap{f}}
    \\
    B &\stackrel{g}{\to}& C
  }
$$

is given by 

$$
  P \simeq \sum_{a : A} \sum_{b \in B} (f(a) = g(b))
  \,.
$$

The [[equalizer]]

$$
  P \to A \stackrel{\overset{f}{\to}}{\underset{g}{\to}} B
$$

is given by

$$
  P = \sum_{a : A} (f(a) = g(a))
  \,.
$$

Next, the [[internal hom]]/[[exponential object]] is given by [[function type]]

$$
  [A,B] \simeq (A \to B)
  \,.
$$

=--

+-- {: .num_prop}
###### Proposition

$Con(T)$ is a [[locally cartesian closed category]].

=--

([Seely, theorem 3.2](#Seely))

+-- {: .proof}
###### Proof

Define the $Con(T)$-[[indexed category|indexed]] [[hyperdoctrine]] $P(T)$
by taking for $A \in Con(T)$ the category $P(T)(A)$ to have as objects the $A$-[[dependent types]] and as morphisms $(a : A \vdash X(a) : type) \to (a : A \vdash Y(a) : type)$ the terms of dependent function type $(a : A \vdash t : (X(a) \to Y(a)))$.

This is cartesian closed by the same kind of argument as in the previous proof. It is now sufficient to exhibit a compatible [[equivalence of categories]] with the [[slice category]] $Con(T)_{/A}$.

$$
  Con(T)_{/A}
   \simeq
  P(T)(A)
  \,.
$$

In one direction, send a morphism $f : X \to A$ to the dependent type 

$$
  a : A \vdash f^{-1}(a) \coloneqq \sum_{x : X} (a = f(x))
  \,.
$$

Conversely, for $a : A \vdash X(a)$ a dependent type, send it to the projection
$\sum_{a : A} X(a) \to A$.

One shows that this indeed gives an equivalence of categories which is compatible with base change ([Seely, prop. 3.2.4](#Seely)).

=--

+-- {: .num_defn}
###### Definition

For $T$ a dependent type theory and $C$ a locally cartesian closed category, an **[[categorical semantics|interpretation]]** of $T$ in $C$ is a morphism of locally cartesian closed categories

$$
  Con(T) \to C
  \,.
$$

An interpretation of $T$ in another dependent type theory $T'$ is a morphism of locally cartesian closed categories

$$
  Con(T) \to Con(T')
  \,.
$$

=--


#### Internal language

+-- {: .num_prop}
###### Proposition

Given a [[locally cartesian closed category]] $C$, define the corresponding [[dependent type theory]] $Lang(C)$ as follows

* the non-dependent types of $Lang(C)$ are the [[objects]] of $C$;

* the $A$-dependent types are the morphisms $B \to A$;

* a context $x_1 : X , x_2 : X, \cdots , x_n : X_n$ is a tower of morphisms

  $$
    \array{
      X_n
      \\
      \downarrow
      \\
      \cdots
      \\
      \downarrow
      \\
      X_2
      \\
      \downarrow
      \\
      X_1
    }
  $$

* the terms $t[x_A] : B[x_A]$ are the [[sections]] $A \to B$ in $C_{/A}$

* the [[equality type]] $(x_A = y_A)$ is the [[diagonal]] $A \to A \times A$

* ...

=--


### Homotopy type theory and locally cartesian closed $(\infty,1)$-categories
 {#HomotopyTypeTheory}

All this has a higher analog in [[(∞,1)-category theory]] and [[homotopy type theory]].

+-- {: .num_prop }
###### Proposition

Every [[presentable (∞,1)-category|presentable]] and [[locally cartesian closed (∞,1)-category]] has a presentation by a [[type-theoretic model category]]. This provides the [[categorical semantics]] for [[homotopy type theory]] (without, possibly, the [[univalence]] [[axiom]]).

This includes in particular all ([[∞-stack]]-) [[(∞,1)-toposes]] (which should in addition satisfy [[univalence]]). See also at _[[internal logic of an (∞,1)-topos]]_.

=--

For more on this see at _[locally cartesian closed (∞,1)-category](locally+cartesian+closed+%28infinity%2C1%29-category#InternalLogic)_.



### Homotopy type theory with univalence and elementary $(\infty,1)$-toposes
 {#HomotopyWithUnivalence}

(...)

## Related concepts

* [[categorical model of dependent types]]

* [[syntax-semantics duality]]

* [[computational trinitarianism]]


## References
 {#References}

The [[equivalence of categories]] between [[first order logic|first order theories]] and [[hyperdoctrines]] is discussed in

* [[R. A. G. Seely]], _Hyperdoctrines, natural deduction, and the Beck condition_, Zeitschrift für Math. Logik und grundlagen der Math. (1984) ([pdf](http://www.math.mcgill.ca/rags/ZML/ZML.PDF))
 {#SeelyA}

A lecture reviewing aspects involved in this equivalence is (see the discussion building up to the theorem on  [slide 96](http://www.lama.univ-savoie.fr/~hirschowitz/talks/cours.pdf#page=96))

* [[Tom Hirschowitz]], _Introduction to categorical logic_ (2010) ([pdf](http://www.lama.univ-savoie.fr/~hirschowitz/talks/cours.pdf))

See also 

* Roy Crole, _Deriving category theory from type theory_, Theory and Formal Methods 1993 Workshops in Computing 1993, pp 15-26

The equivalence between [[linear logic]] and [[star-autonomous categories]] is due to

*  [[R. A. G. Seely]],  _Linear logic, $\ast$-autonomous categories and cofree coalgebras_, _Contemporary Mathematics_ 92, 1989.  ([[SeelyLinearLogic.pdf:file]], [ps.gz](http://www.math.mcgill.ca/rags/nets/llsac.ps.gz))
 {#Seely89}

and reviews/further developments are in 

* G. M. Bierman, _What is a Categorical Model of Intuitionistic Linear Logic?_ ([web](http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.31.8687))

* Andrew Graham Barber, _Linear Type Theories, Semantics and Action Calculi_, 1997 ([web](http://www.lfcs.inf.ed.ac.uk/reports/97/ECS-LFCS-97-371/‎), [pdf](http://www.lfcs.inf.ed.ac.uk/reports/97/ECS-LFCS-97-371/ECS-LFCS-97-371.pdf))


* [[Paul-André Melliès]] , _Categorial Semantics of Linear Logic_, in _Interactive models of computation and program behaviour_, Panoramas et synthèses 27, 2009 ([pdf](http://www.pps.univ-paris-diderot.fr/~mellies/papers/panorama.pdf))



An [[adjunction]] between the category of [[type theories]] with [[product types]] and [[toposes]] is discussed in chapter II of

* [[Joachim Lambek]], P. Scott, _Introduction to higher order categorical logic_, Cambridge University Press (1986) .

The [[equivalence of categories]] between [[locally cartesian closed categories]] and [[dependent type theories]] was originally claimed in 

* [[R. A. G. Seely]], _Locally cartesian closed categories and type theory_, Math. Proc. Camb. Phil. Soc. (1984) 95 ([pdf](http://www.math.mcgill.ca/rags/LCCC/LCCC.pdf))
  {#Seely}

following a statement earlier conjectured in 

* [[Per Martin-Löf]], _An intuitionistic theory of types: predicative part_, In Logic Colloquium (1973), ed. H. E. Rose and J. C. Shepherdson (North-Holland, 1974), 73-118. ([web](http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.131.926))

The problem with strict substitution compared to weak pullback in this argument was discussed and fixed in 

* [[Pierre-Louis Curien]], _Substitution up to isomorphism_, Fundamenta Informaticae, 19(1,2):51–86 (1993)
 {#Curien}

* [[Martin Hofmann]], _On the interpretation of type theory in locally cartesian closed categories_, Proc. CSL '94, Kazimierz, Poland. Jerzy Tiuryn and Leszek Pacholski, eds. Springer LNCS, Vol. 933 ([CiteSeer](http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.54.4410))
 {#Hofmann}

but in the process the equivalence of categories was lost. This was finally all rectified in 

* [[Pierre Clairambault]], [[Peter Dybjer]], _The Biequivalence of Locally Cartesian Closed Categories and Martin-Löf Type Theories_, in _Typed lambda calculi and applications_, Lecture Notes in Comput. Sci. 6690, Springer 2011 ([arXiv:1112.3456](http://arxiv.org/abs/1112.3456))
 {#ClairambaultDybjer}

The analogous statement relating [[homotopy type theory]] and [[locally cartesian closed (infinity,1)-categories]] was conjectured around

* [[André Joyal]], _Remarks on homotopical logic_, Oberwolfach (2011) ([pdf](http://hottheory.files.wordpress.com/2011/06/report-11_2011.pdf#page=19))
 {#Joyal}

The suggestion that with [[univalence]] this is refined to [[(∞,1)-topos theory]] appears around

* [[Steve Awodey]], _Type theory and homotopy_ ([pdf](http://www.andrew.cmu.edu/user/awodey/preprints/TTH.pdf))
 {#Awodey}

Details on this higher categorical semantics of [[homotopy type theory]] are in 

* [[Mike Shulman]], section 2 of _Univalence for inverse diagrams and homotopy canonicity_ ([arXiv:1203.3253](http://arxiv.org/abs/1203.3253))

with lecture notes in 

* [[Mike Shulman]], _Categorical models of homotopy type theory_, April 13, 2012 ([pdf](http://www.math.ias.edu/~mshulman/hottminicourse2012/03models.pdf))

* [[André Joyal]], _Categorical homotopy type theory_, March 17, 2014 ([pdf](http://ncatlab.org/homotopytypetheory/files/Joyal.pdf))

A precise definition of [[elementary (infinity,1)-topos]] inspired by giving a natural equivalence to [[homotopy type theory]] with [[univalence]] was then proposed in 

* [[Mike Shulman]], _Inductive and higher inductive types_ (2012) ([pdf](http://www.math.ucsd.edu/~mshulman/hottminicourse2012/04induction.pdf))


A discussion of the correspondence between type theories and categories of various sorts, from lex categories to toposes is in

* Maria Emilia Maietti, _Modular correspondence between dependent type
theories and categories including pretopoi and topoi_, Math. Struct. in Comp. Science (2005), vol. 15, pp. 1089–1149 ([gzipped ps](http://www.math.unipd.it/~maietti/papers/tumscs.ps.gz)) ([doi](http://dx.doi.org/10.1017/S0960129505004962))

[[!redirects relation between type theory and category theory]]
[[!redirects the relation between type theory and category theory]]
[[!redirects relation between category theory and type theory]]
[[!redirects the relation between category theory and type theory]]