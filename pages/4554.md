
+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
###Context###
#### Model category theory
+--{: .hide}
[[!include model category theory - contents]]
=--
#### Homotopy theory
+--{: .hide}
[[!include homotopy - contents]]
=--
=--
=--

#Contents#
* automatic table of contents goes here
{:toc}

## Idea

The _factorization lemma_ is a fundamental tool in [[categories of fibrant objects]] (dually: of cofibrant objects). It mimics the _factorization axioms_ in a [[model category]].

## Statement

Let $C$ be a [[category of fibrant objects]]. 

+-- {: .num_lemma}
###### Lemma

Every [[morphism]] $f : X \to Y$ in $C$ factors as

$$
  f : X \underoverset{\simeq}{i}{\longrightarrow} \hat X \stackrel{p}{\longrightarrow} Y
  \,,
$$

where 

1. $i$ is a [[right inverse]] to a trivial fibration, hence in particular a weak equivalence;

1. $p$ is a [[fibration]].

=--

+-- {: .proof}
###### Proof

Let $Y^I$ with factorization $Y \stackrel{\simeq}{\to} Y^I \stackrel{(d_1,d_2)}{\longrightarrow} Y \times Y$ be a [[path space object]] for $Y$. Let $\hat X \coloneqq Y^I \times_Y X$ be the [[pullback]] of $f$ along one of its legs, to get the diagram

$$
  \array{
     \hat X &\to& X
     \\
     \downarrow && \downarrow^{\mathrlap{f}}
     \\
     Y^I &\stackrel{d_1}{\to}& Y
     \\
     \downarrow^{\mathrlap{d_2}}
     \\
     Y
  }
  \,.
$$

Take $p$ to be the composite vertical morphism here:

$$
  p \;\colon\; \hat X \to Y^I \stackrel{d_2}{\to} Y
  \,.
$$

To see that this is indeed a fibration, notice that, by the [[pasting law]], the above pullback diagram
can be refined to a double pullback diagram as follows

$$
  \array{
    \hat X
     &\stackrel{}{\to}& 
     X \times Y 
     &\stackrel{p_1}{\to}& 
     X
     \\
     \downarrow && \downarrow^{(f, Id)} && \downarrow^\mathrlap{f}
     \\
     Y^I &\stackrel{(d_1 , d_2) }{\to}&
     Y \times Y &\stackrel{p_1}{\to}&
     Y
     \\
     \downarrow^{\mathrlap{d_2}} & \swarrow_{p_2}
     \\
     Y
  }
  \,.
$$

Both squares are pullback squares. Since
pullbacks of fibrations are fibrations, the morphism
$\hat X  \to X \times Y$ is a fibration.
Similarly, since $Y$ is assumed to be fibrant, also the [[projection]] map $X \times Y \to Y$ is a fibration (see [here](category+of+fibrant+objects#SimpleConsequences)). 

Since $p$ is thereby exhibited as the composite of two fibrations

$$
  \begin{aligned}
    p &: \hat X \to X \times Y
    \stackrel{(f ,Id)}{\to}
    Y \times Y
    \stackrel{p_2}{\to}
    Y
  \end{aligned}
  \,,
$$

it is itself a fibration.


Next, by the [[axioms]] of [[path space objects]] in a [[category of fibrant objects]] we have that $d_1 \;\colon\; Y^I \to Y$ is a trivial fibration. Since these are stable under pullback, also $\hat X \to X$ is a trivial fibration.

But, by the axioms, $Y^I \to Y$ has a right inverse $Y \to Y^I$. By the [[pullback]] property this induces a right inverse of $\hat X \to X$ fitting into a [[pasting]] diagram

$$
  \array{
     X &\to& \hat X &\to& X
     \\
     {}^{\mathrlap{f}}\downarrow && \downarrow && \downarrow^{\mathrlap{f}}
     \\
     Y &\to& Y^I &\stackrel{d_1}{\to}& Y
     \\
     & {}_{\mathllap{Id}}\searrow& \downarrow^{\mathrlap{d_2}} 
     \\
     && Y
  }
  \,.
$$

That establishes the claim.

=--

## Corollaries

+-- {: .num_cor}
###### Corollary (“Ken Brown's Lemma”)

Let $F : C \to D$ be a functor from a [[category of fibrant objects]] to any [[category with weak equivalences]] that sends trivial fibrations to weak equivalences. Then this functor necessarily sends all weak equivalences to weak equivalences, hence is a [[homotopical functor]].
=--

+-- {: .proof}
###### Proof

If $f : X \to Y$ is a weak equivalence, then by 2-out-of-3 also the $p : \hat X \to Y$ from the above proof is a weak equivalence, hence a trivial fibration.

Apply the functor $F$ to the diagram of the above proof


$$
  \array{
     F(\hat X) &\to& F(X)
     \\
     \downarrow && \downarrow^{\mathrlap{F(f)}}
     \\
     F(Y^I) &\stackrel{F(d_1)}{\to}& F(Y)
     \\
     {}^{\mathllap{F(d_0)}}\downarrow 
     \\
     F(Y)
  }
  \,.
$$

By the assumption that $F$ preserves trivial fibrations we have that both horizontal morphisms as well as the total vertical morphism and the bottom vertical morphism are weak equivalences. By 2-out-of-3 it then follows that also the top left vertical morphism is a weak equivalence and then finally that $F(f)$ is.
=--

+-- {: .num_remark}
###### Remark
If $C$ is the full subcategory of fibrant objects in a [[model category]], then this corollary asserts that a [[Quillen adjunction|right Quillen functor]] $F$, which by its axioms is required only to preserve fibrations and trivial fibrations, preserves also weak equivalences between fibrant objects.
=--

+-- {: .num_cor}
###### Corollary

Let $A \to C \leftarrow B$ be a diagram between fibrant objects in a [[model category]]. Then the ordinary [[pullback]] $A \times_C^h B$

$$
  \array{
     A \times_C^h B &\to& C^I
     \\
     \downarrow && \downarrow
     \\
     A \times B &\to& C \times C
  }
$$

presents the [[homotopy pullback]] of the original diagram.

=--

See the section _[Concrete constructions](http://ncatlab.org/nlab/show/homotopy+pullback#ConcreteConstructions)_ at _[[homotopy pullback]]_ for more details on this.

## Examples

* For $G$ an [[∞-group]] object in $C$ with [[delooping]] $\mathbf{B}G$, applying the factorization lemma to the point inclusion $* \to \mathbf{B}G$ yields a morphism $* \stackrel{\simeq}{\to} \mathbf{E}G \stackrel{p}{\to} \mathbf{B}G$. This exhibits a [[universal principal ∞-bundle]] for $G$. 


## References

For instance page 4 of

* [[Kenneth Brown]], _[[BrownAHT|Abstract Homotopy Theory and Generalized sheaf Cohomology]]_ .