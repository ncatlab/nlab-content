
# Idea #

In the context of [[nLab:generalized (Eilenberg-Steenrod) cohomology|generalized (Eilenberg-Steenrod) cohomology]] a coefficient object for [[nLab:cohomology|cohomology]] is a [[nLab:spectrum|spectrum]] $A$: the $A$-cohomology of a [[nLab:topological space|topological space]] $X$ with coefficients in $A$ is the set of homotopy classes of map $X \to A$.

In the case that 

* $A$ is a [[nLab:spectrum|connective spectrum]], i.e. [[nLab:topological space|topological space]] that is an infinite [[nLab:loop space|loop space]]

* and that there is a (topological) [[nLab:group|group]] $G$ acting on $A$ by automorphisms

one may form for each $G$-[[nLab:principal bundle|principal bundle]] $P \to X$ the associated bundle $P \times_G A \to X$ of spectra.

One says that the collection of homotopy classes of [[nLab:section|section]]s 

$$
  X \to P \times_G A
$$

of this associated bundle is the _twisted $A$-cohomology of $X$_ with the twist specified by the class of $P$.

The standard example is [[nLab:twisted K-theory|twisted K-theory]]: let $A$ be a model of the degree 0 space in the [[nLab:K-theory spectrum|K-theory spectrum]], i.e. for instance $A = \mathbb{Z} \times B U$ or $A = Fred(H)$, the space of Fredholm operators on a separable Hilbert space $H$. There is a canonical action on this space of the projective unitary group $G = P U(H)$ of $H$.

Since $P U(H)$ has the homotopy type of an [[nLab:Eilenberg-MacLane space|Eilenberg MacLane space]] $K(\mathbb{Z},2)$, a $P U(H)$-[[nLab:principal bundle]] $P \to X$ defines a class $c \in H^3(X,\mathbb{Z})$ in [[nLab:Eilenberg-MacLane spectrum|ordinary integral cohomology]].

The twisted K-theory (in degree 0) of $X$ with that class as its twist is the set of homotopy classes of sections $X \to P \times_{P U(H)} Fred(H)$ of the associated bundle.

Since the associated bundle $P \times_G A$ is in general no longer itself a spectrum, twisted cohomology is not an example of [[nLab:generalized (Eilenberg-Steenrod) cohomology|generalized Eilenberg-Steenrod cohomology]]. 

May-Sigurdsson suggested that twisted cohomology should instead be formalized in terms of _parameterized homotopy theory_, where one thinks of $P \times_G A$ as a parameterized family of spectra. This is discussed below.

Here we put the emphasis on a somewhat different, even more general approach. While $P \times_G A$ is no longer a [[nLab:spectrum|spectrum]] it is of course still some [[nLab:topological space]]. In the context of [[nLab:nonabelian cohomology|nonabelian cohomololgy]], one allows general topological spaces as coefficient objects. So objects like $P \times_G A$ are valid coefficient objects in that more general context.

This trivial observation becomes useful in that it points to the general context in which to conceive [[nLab:cohomology|cohomology]] and then eventually also twisted cohomology:

what the standard definition really makes use of is that the category [[nLab:Top|Top]] of [[nLab:topological space|topological space]]s is really an [[nLab:(infinity,1)-category|(∞,1)-category]] and in fact an [[nLab:(infinity,1)-topos|(∞,1)-topos]] $\mathbf{H} = Top$. 

In each [[nLab:(infinity,1)-topos|(∞,1)-tops]] with objects $X$ and $A$ it makes good sense to call the homotopy classes of morphisms from $X$ to $A$ the [[nLab:cohomology|cohomology]] of $X$ with values in $A$:

$$
  H(X,A) := \pi_0 \mathbf{H}(X,A)
  \,.
$$

In the special case of $\mathbf{H}$ =  [[nLab:Top|Top]] this is the usual

$$
  H(X,A) = \pi_0 Maps(X,A) = [X,A]
  \,.
$$

To distinguish the general notion of [[nLab:cohomology|cohomology]] in an arbitrary [[nLab:(infinity,1)-topos|(∞,1)-tops]] from the specific one in [[nLab:Top|Top]] one sometimes says [[nLab:nonabelian cohomology|nonabelian cohomology]] for former. But notice that apart from allowing "nonabelian spaces" like $P \times_G A$ as coefficients, it also allows objects more general than topological spaces, namely generally [[nLab:infinity-stack|infinity-stack]]s.

The upshot of all this is that the general [[nLab:(infinity,1)-topos|(∞,1)-tops]]-context suggests that the notion of twisted cohomology should be one that makes use only of natural [[nLab:(infinity,1)-category|(∞,1)-categorical]] constructions.

To see what these might be, one may notice that the [[nLab:action|action]] of a group $G$ on an object $A$ is entirely encoded in the correspondinding [[nLab:action groupoid]] [[nLab:fibration sequence|fibration sequence]]

$$
  A \to A//G \to \mathbf{B} G
  \,,
$$

where $\mathbf{B} G$ is the [[nLab:delooping|delooping]] of $G$, which in the case of $\mathbf{H} = $ [[nLab:Top|Top]] is just the familiar [[nLab:classifying space|classifying space]] of $G$. In that case the object $A//G$ is traditionally modeled in terms of the _Borel construction_ and written $A//G \simeq E G \times_G A$. This is the $A$-bundle associated to the _universal_ $G$-[[nLab:principal bundle|principal bundle]].

Moreover, one can see, as described in detail below, that for a given $G$-principal bundle $P \to X$ that is classified by an element $ c \in \pi_0 Top(X,\mathbf{B}G) = H^1(X,G)$ the set of homotopy classes of sections $X \to P \times_G A$ is the set of connected components of the [[nLab:homotopy pullback|homotopy pullback]]

$$
  \array{
    Top^{[c]}(X,A) &\to& {*}
    \\
    \downarrow && \;\;\downarrow^{{*} \mapsto c}
    \\
    Top(X,A//G) &\to& Top(X, B G)
  }
  \,.
$$

In light of the above discussion this suggests a general notion of twisted cohomology, valid in any [[nLab:(infinity,1)-topos|(∞,1)-topos]] and for twists more general than given by a group action:

for 

* any [[nLab:fibration sequence|fibration sequence]] 
  $$
    A \to \hat B \to B
  $$

 in any [[nLab:(infinity,1)-topos|(∞,1)-topos]] 

* and for any $B$-[[nLab:cohomology|cocycle]] 

  $$
    c \in \mathbf{H}(X,B)
  $$ 

it makes sense to say that the connected components

$$
  H^{[c]}(X,A) := \pi_0 \mathbf{H}^{c}(X,A)
$$ 

in the homotopy pullback

$$
  \array{
    \mathbf{H}^{c}(X,A) &\to& {*}
    \\
    \downarrow && \;\;\downarrow^{{*} \mapsto c}
    \\
    \mathbf{H}(X,\hat B) &\to& \mathbf{H}(X, B)
  }
$$

are the **$[c]$-twisted $A$-cohomology classes of $X$**.


#Definition#

We now state this definition more formally.

Let $\mathbf{H}$ be an [[nLab:(infinity,1)-topos|(∞,1)-topos]]. 
Let $H=\pi_0 \mathbf{C}$ be the corresponding [[nLab:homotopy category of an (infinity,1)-category|homotopy category]].

Recall  that for $X$ and $A$ objects in $\mathbf{H}$ we
denote by $\mathbf{H}(X,A)$ the [[nLab:infinity-groupoid|∞-groupoid]] whose cells we think of as follows:

* objects of $\mathbf{H}(X,A)$ are $A$-valued **cocycles** on $X$:

* morphisms in $\mathbf{H}(X,A)$ are **coboundaries** between these cocycles;

* equivalence classes in $\mathbf{H}(X,A)$ are [[nLab:cohomology|cohomology]] classes,

* so that the [[nLab:homotopy category of an (infinity,1)-category|homotopy]] [[nLab:hom-set|hom-set]]
  $$
    H(X,A) := \pi_0 \mathbf{H}(X,A) 
  $$
  is the $A$-valued **cohomology** set of $X$. It is a group if $A$ is [[nLab:k-tuply groupal n-groupoid|groupal]].

## Obstruction theory ##

Now consider the **obstruction problem** in cohomology:

let $A \to \hat B \to B$ be a [[nLab:fibration sequence|fibration sequence]] in $\mathbf{H}$, i.e. a sequence such that the square

$$
  \array{
    A &\to& {*}
    \\
    \downarrow && \downarrow
    \\
    \hat B &\to& B
  }
$$

is a [[nLab:homotopy pullback|homotopy pullback]] square, with ${*}$ denoting [[nLab:generalized the|the]] [[nLab:point|point]] ([[nLab:generalized the|the]] [[nLab:terminal object|terminal object]]).

Since the $\infty$-groupoid valued hom in an [[nLab:(∞,1)-category|(∞,1)-category]] is [[nLab:exact functor|exact]] with respect ot [[nLab:homotopy limits|homotopy limits]], it follows that for every object $X$, there is  fibration sequence of cocycle [[nLab:∞-groupoids|∞-groupoids]]

$$
  \array{
    \mathbf{H}(X,A) &\to& {*}
    \\
    \downarrow && \downarrow^{const_{*}}
    \\
    \mathbf{H}(X,\hat B) &\to& \mathbf{H}(X,B)
  }
  \,.
$$


This may be read as:

* the **obstruction** to lifting a $\hat B$-cocycle to an $A$-cocycle is its image in $B$-cohomology (all with respect to the given [[nLab:fibration sequence|fibration sequence]])

But it also says:

* $A$-cocycles are, up to equivalence, precisely those $\hat B$-cocycles whose class in $B$-cohomology is the trivial class (given by the trivial cocycle $const_{*} : {*} \to $).

This may motivate the following definition 

+-- {: .un_defn}
###### Definition (twisted cohomology)

For 

* $\mathbf{H}$ an [[nLab:(∞,1)-topos|(∞,1)-topos]];

* $A \to \hat B \to B$ a [[nLab:fibration sequence|fibration sequence]] in $\mathbf{H}$;

* $X\in \mathbf{H}$ an object of $\mathbf{H}$;

* and $c \in \mathbf{H}(X,B)$ a $G$-cocycle on $X$

the **$c$-twisted $A$-cohomology of $X$** is the the set of equivalence classes

$$
  H^{[c]}(X,A) := \pi_0 \mathbf{H}^c(X,A)
$$

of the [[nLab:∞-groupoid|∞-groupoid]] $\mathbf{H}^c(X,A)$ that is defined as the [[nLab:homotopy pullback|homotopy pullback]]

$$
  \array{
    \mathbf{H}^{c}(X,A) &\to& {*}
    \\
    \downarrow && \;\downarrow^{{*}\mapsto c}
    \\
    \mathbf{H}(X,\hat B) &\to& \mathbf{H}(X,B)
  }
  \,.
$$

=--

**Remarks**

* Notice that compared to the previous [[nLab:fibration sequence|fibration sequence]] arising in the obstruction problem, the [[nLab:homotopy limit|homotopy limit]] in the above definition replaces the trivial cocycle $const_{*}$ by the prescribed $G$-cocycle $c$.


# Relation to other definitions #

The usual definition of twisted cohomology is a special case of this where

* the $(\infty,1)$-topos $\mathbf{H} :=$ [[nLab:Top|Top]] is the $(\infty,1)$-category of topological spaces

* the object $B := B G$ is the [[nLab:delooping|delooping]] of a [[nLab:group|group]] $G$.

* the object $A$ is a (connective) [[nLab:spectrum|spectrum]] (an infinitely [[nLab:delooping|deloopable]] topological space).

* there is an [[nLab:action|action]] of $G$ on $A$.


In this case there is an established definition of [[nLab:generalized (Eilenberg-Steenrod) cohomology|generalized (Eilenberg-Steenrod) cohomology]] with coefficients $A$ _twisted_ by a $G$-[[nLab:principal bundle|principal bundle]] as follows.

From the $G$-[[nLab:principal bundle|principal bundle]] $P \to X$ we obtain the associated $A$-bundle $P \times_G A \to X$. Then a twisted $A$-cocycle on $X$ is defined to be a [[nLab:section|section]] $X \to P \times_G A$ of this associated bundle.

This is the definition of twisted cohomology as it appears for instance essentially as definition 22.1.1 of the May-Sigursson reference below.

(When comparing with their definition take their $G$ to be the trivial group and identify their $\Gamma$ and $\Pi$ with our $G$).

We now discuss how this is a special case of the above definition of twisted cohomology.

A pair consisting of a space $A$ acted on by a group $G$ can be equivalently thought of as one single space: the homotopy quotient of $A$ by $G$, a concrete realization of which is the Borel construction $\mathbf{E}G \times_G A$. (Of course this construction works for any space $A$ with $G$-action, it need not be a spectrum.

The fact that  $G$ acts on  $A$ is witnessed by the existence of a left-long [[nLab:fibration sequence|fibration sequence]]

$$
  \cdots \to A \to A//G \to \mathbf{B}G.
$$

i.e. a there is a homotopy pullback square

$$
  \array{
     A &\to& {*}
     \\
     \downarrow && \downarrow
     \\
     A//G &\stackrel{\delta}{\to}& \mathbf{B}G
  }
$$

The universal property of this homotopy pullback says precisely that:

*  the obstruction to lifting a ("nonabelian" or "twisted") $A//G$-cocycle $g : X \to A//G$ to an $A$-cocycle $\hat g : X \to A$ is its image $\delta g $ in first $G$-cohomology  $\delta g \in H^1(X,G) := H(X,B G) = [X, B G]$ under the above horizontal map. 

* this image $\delta g$ is the twist in question.

(Notice that $H^1(X,G)$ is the standard notation for $[X, B G] := \pi_0 \mathbf{H}(X, B G)$.)

Read the other way round it says:

* $A$-cocycles are precisely those $G$-twisted $A$-cocycles whose twist vanishes.

More formally, but without adding any genuine new information, since cohomology is just connected components of the [[nLab:(infinity,1)-categorical hom-space|(infinity,1)-categorical hom-space]] in our context, we know that for any $X$ we have a [[nLab:fibration sequence|fibration sequence]]

$$
  \array{
     \mathbf{H}(X,A) &\to& {*}
     \\
     \downarrow && \downarrow^{{*} \mapsto {*}}
     \\
     \mathbf{H}(X,A//G) &\to& \mathbf{H}(X,\mathbf{B}G)
  }
  \,.
$$

of mapping $\infty$-groupoids (which as topological spaces are the mapping spaces with compact-open topology).


So if we fix the twisting cocycle 

$$
  c \in \mathbf{H}(X, \mathbf{B}G)
$$

defining the class

$$
  [c] \in \pi_0 \mathbf{H}(X, \mathbf{B}G) =: H^1(X,G)
$$ 


then the $[c]$-twisted $A$-cohomology is precisely that bit of $\mathbf{H}(X,A//G)$ that sits in the homotopy fiber over $c$.

Therefore we may say that the $c$-twisted cohomology is the connected components $H^{[c]}(X,A)$ of the homotopy pullback $\mathbf{H}^c(X,A)$ in 

$$
  \array{
     \mathbf{H}^c(X,A) &\to& {*}
     \\
     \downarrow && \;\downarrow^{{*} \mapsto c}
     \\
     \mathbf{H}(X,A//G) &\to& \mathbf{H}(X,\mathbf{B}G)
  }
  \,.
$$


### in terms of sections ###

To see that this does indeed reproduce the description in terms of sections of associated bundles, look at the long fibration sequence one step down the row, where it reads

$$
  \array{
    A//G \simeq \mathbf{E}G\times_G A &\to& {*}
     \\
     \downarrow && \downarrow
     \\ 
     \mathbf{B}G  &\stackrel{\rho}{\to}& \mathbf{B}A
  }
$$

and exhibts $A//G$ as the bundle with fiber $A$ that is $\rho$-associated to the universal $G$-bundle.

For the given $G$-cocycle $X \to \mathbf{B}G$ the corresponding associated bundle with fiber $A$ over $X$ is the further homotopy pullback $P$ in

$$
  \array{
    P &\to&
    A//G \simeq \mathbf{E}G\times_G A &\to& {*}
     \\
     \downarrow &&
     \downarrow && \downarrow
     \\ 
     X &\to&
     \mathbf{B}G  &\stackrel{\rho}{\to}& \mathbf{B}A
  }
$$



And again it is precisely the universal property of the homotopy pullback that asserts that sections $X \to P$ of this bundle are in bijection, up to homotopy, with those maps $X \to A//G$ whose projection to $X \to \mathbf{B}G$ reproduces the prescribed twist.


We may summarize this by a 

**Principle**

* Higher [[nLab:nonabelian cohomology|nonabelian cohomology]] disguises as twisted higher abelian cohomology;

* conversely: twisted higher abelian cohomology is really nonabelian cohomology





# Examples #

## group cohomology with coefficients in a module ##

Some somewhat trivial examples of this appear in various context. For instance [[nLab:group cohomology|group cohomology]] on a group with coefficients in a nontrivial module can be regarded as an example of twisted cohomology. See there for more details.

Compare this to the example below of cohomology "with local coefficients". It is the same principle in both cases.

## twisted bundles ##


To get a feeling for how the definition does, it is 
instructive to see how for the fibration sequence coming from an ordinary central extension $K \to \hat G \to G$ of ordinary groups as

$$
  \mathbf{B}\hat G \to \mathbf{B}G \stackrel{\omega}{\to}
  \mathbf{B}^2 K
$$

classified by a [[nLab:group cohomology|group 2-cocycle]] $\omega$, $c$-twisted $\hat G$-cohomology produces precisely the familiar notion of [[nLab:twisted bundles|twisted bundles]], with the twist being the lifting [[nLab:gerbe|gerbe]] that obstructs the lift of a $G$-bundle to a $\hat $G$-bundle$.

This is also the first example in the list
in the last section of

* [[schreiber: Background fields in twisted differential nonabelian cohomology]]

and contains examples that are of interest in the wider context of [[nLab:string theory|string theory]].


## twisted K-theory ##

The example of the definition of twisted cohomology as sections of an assoociated bundle of spectra that has been the motivating example is [[nLab:twisted K-theory|twisted K-theory]]. The group $P U(H)$ of projective unitary operators on a seperable Hilbert space acts canonically on the classifying space $Fred(H)$ (the space of Fredholm operators) of the $K^0$ [[nLab:Grothendieck group|Grothendieck group]] of [[nLab:topological K-theory|topological K-theory]].

Since $PU(H)$ is topologically an [[nLab:Eilenberg-MacLane space|Eilenberg-MacLane space]] $K(\mathbb{Z},2)$, a twisting cocycle in this case is a class in $H^3(X,\mathbb{Z})$. This may also be thought of as the class of a twisting [[bundle gerbe]].


## cohomology with local coefficients ##

What is called **cohomology with local coefficients** is twisted cohomology with the twist given by the class represented by the universal cover space of base space.

More precisely, for some base space $X$, let $A$ be a coefficient object that is equipped with an action of the first [[nLab:fundamental group|fundamental group]] $\pi_1(X)$ of $X$. (Such an action is also called an $A$-valued [[nLab:local system|local system]] on $X$).

Then there is the [[nLab:fibration sequence|fibration sequence]]

$$
  A \to A//\pi_1(X) \to \mathbf{B} \pi_1(X)
$$ 

of this action. 

Notice that there is a canonical map $c : X \to \mathbf{B} \pi_1(X)$, the one that classifies the universal cover of $X$.

Then **$A$-cohomology with local coefficients** on $X$ is nothing but the $c$-twisted $A$-cohomology of $X$ in the above sense.

# References #

For the special case of [[nLab:generalized (Eilenberg-Steenrod) cohomology|generalized (Eilenberg-Steenrod) cohomology]] twisted by a $G$-[[nLab:principal bundle|principal bundle]] see section 22.1 of

* May, Sigurdsson, _Parametrized homotopy theory_ ([pdf]( http://www.math.uchicago.edu/~may/EXTHEORY/MaySig.pdf))

This in turn is based on the definition of twisted K-theory given in 

* Michael Atiyah and Graeme Segal. _Twisted K-theory_ . Ukr. Mat. Visn., 1(3):287–330, 2004.

