
+-- {: .rightHandSide}
+-- {: .toc .clickDown tabindex="0"}
### Context
#### Type theory
+-- {: .hide}
[[!include type theory - contents]]
=--
=--
=--

#Contents#
* table of contents
{:toc}

## Statement

+-- {: .num_prop #PreservationOfUnionsAndIntersectionsOfSets}
###### Proposition
**(images preserve [[unions]] but not in general [[intersections]])**

Let $f \colon X \longrightarrow Y$ be a [[function]] between [[sets]]. Let $\{S_i \subset X\}_{i \in I}$ be a set of [[subsets]] of $X$. Then 

1. $im_f\left( \underset{i \in I}{\cup}  S_i\right) = \left(\underset{i \in I}{\cup} im_f(S_i)\right)$ (the [[image]] under $f$ of a [[union]] of subsets is the union of the images)

1. $im_f\left( \underset{i \in I}{\cap}  S_i\right) \subset \left(\underset{i \in I}{\cap} im_f(S_i)\right)$ (the [[image]] under $f$ of the [[intersection]] of the subsets is contained in the intersection of the images).

The [[injective function|injection]] in the second item is in general proper. If $f$ is an [[injective function]] then this is a [[bijection]]:

* $(f\,\text{injective}) \Rightarrow \left(im_f\left( \underset{i \in I}{\cap}  S_i\right) = \left(\underset{i \in I}{\cap} im_f(S_i)\right)\right)$

=--

## Proofs via adjoints 

The properties 1., 2. of Proposition \ref{PreservationOfUnionsAndIntersectionsOfSets} may be proved by appeal to fundamental relationships between [[direct image]] and [[inverse image]] and the like, which [[category theory|category theorists]] call [[adjunctions]] (similar in form to adjoints in linear algebra). The advantage of this type of proof is that, despite its utter simplicity, it generalizes to much wider contexts (beyond elementary classical set theory). 

The first such relationship is that, for all subsets $S \subseteq X$ and $T \subseteq Y$, we have 

$$f(S) \subseteq T \qquad iff \qquad S \subseteq f^{-1}(T)$$ 

In that case, we have the following elementary inferences: 

$$\array{
\bigcup_{i \in I} f(S_i) \subseteq T & iff & (\forall_{i \in I})\; f(S_i) \subseteq T \\ 
 & iff & (\forall_{i \in I})\; S_i \subseteq f^{-1}(T) \\ 
 & iff & \bigcup_{i \in I} S_i \subseteq f^{-1}(T) \\ 
 & iff & f\left(\bigcup_{i \in I} S_i\right) \subseteq T
}$$ 

where the first and third lines use the defining [[universal property|property]] of unions. Then, putting $T = \bigcup_{i \in I} f(S_i)$ and reasoning forward, we get $f\left(\bigcup_{i \in I} S_i\right) \subseteq \bigcup_{i \in I} f(S_i)$. On the other hand, putting $T = f\left(\bigcup_{i \in I} S_i\right)$ and reasoning backward, we get $\bigcup_{i \in I} f(S_i) \subseteq f\left(\bigcup_{i \in I} S_i\right)$. These two inclusions together give $\bigcup_{i \in I} f(S_i) = f\left(\bigcup_{i \in I} S_i\right)$. 

The [[duality|dual]] of this proof immediately gives the fact that inverse images preserve arbitrary intersections, but let us spell it out directly: 

$$\array{
S \subseteq \bigcap_{i \in I} f^{-1}(T_i) & iff & (\forall_{i \in I})\; S \subseteq f^{-1}(T_i) \\ 
 & iff & (\forall_{i \in I})\; f(S) \subseteq T_i \\ 
 & iff & f(S) \subseteq \bigcap_{i \in I} T_i \\ 
 & iff & S \subseteq f^{-1}\left(\bigcap_{i \in I} T_i \right)
}$$ 

and again by using the reasoning forward/backward trick, we infer $\bigcap_{i \in I} f^{-1}(T_i) = f^{-1}\left(\bigcap_{i \in I} T_i\right)$. 

+-- {: .num_remark} 
###### Remark 
The "reasoning forward/backward trick" may be summarized by saying that in a [[poset]], we have $A = B$ iff ($A \leq T \Leftrightarrow B \leq T$), or dually that $A = B$ iff ($S \leq A \Leftrightarrow S \leq B$). This trick is vastly extrapolated by the [[Yoneda lemma]]. 
=-- 

+-- {: .num_remark #Lawvere} 
###### Remark 
Sometimes people who work with categorial forms of logic denote direct images $f(S)$ instead by $\exists_f(S)$. What this is trying to suggest is that existential quantification corresponds to the taking of a direct image; for example, given a property $P$ of pairs $(x, y)$, i.e. a subset $P \subseteq X \times Y$ where we write $P(x, y)$ to say $(x, y) \in P$ holds, the set of $y$ such that $(\exists_{x \in X})\; P(x, y)$ holds is exactly the direct image $\pi_2(P)$ under the projection map $\pi_2: X \times Y \to Y$. What it is furthermore suggesting is that since ordinary existential quantification is the taking of a direct image along a projection map, we can actually expand the meaning of "existential quantification" to include the taking of direct images along more general maps $f: X \to Y$. With this in mind, category theorists often denote $f(S) = \{y \in Y: (\exists_{x \in X})\; y = f(x) \wedge x \in S$ by $\exists_f(S)$, and regard this as giving an operator $\exists_f: P(X) \to P(Y)$ between power sets. They also regard the taking of inverse images $T \mapsto f^{-1}(T)$ as an operator $f^{-1}: P(Y) \to P(X)$, which they often denote rather by $f^\ast: P(Y) \to P(X)$. Then the adjointness relationship between direct image and inverse image is denoted by $\exists_f \dashv f^\ast$. This is an example of a famous slogan due to Lawvere: "Logical quantification is adjoint to substitution" (with resonances far beyond the purview of logic as ordinarily conceived). 
=-- 

As for the statement that inverse images of unions are unions of inverse images, it turns out this follows from a second adjunction, this time reading as follows. For a function $f: X \to Y$ and a subset $U \subseteq X$, define 

$$\forall_f(U) = \{y \in Y: (\forall_{x \in X})\; y = f(x) \Rightarrow x \in U\}$$ 

which is analogous to the formula $\exists_f(S) = f(S) = \{y \in Y: (\exists_{x \in X})\; y = f(x) \wedge x \in S$ in Remark \ref{Lawvere}. (Alternatively, in classical logic where the symbol $\neg$ denotes complementation, we have $\forall_f = \neg \exists_f \neg$.) Then the second adjunction reads 

$$f^{-1}(T) \subseteq U \qquad iff \qquad T \subseteq \forall_f (U)$$ 

and then, following the proof of property 1., we infer that the inverse image operator $f^{-1} = f^\ast: P(Y) \to P(X)$ preserves unions. 

+-- {: .num_remark #MoreJargon}
###### Remark

In terms of some more [[category theory]] jargon the above situation may be phrased as follows:

Subsets of some set $S$ are the [[(-1)-truncated objects]] in the [[slice category]] $Set_{/S}$ of [[Set]] over $S$. Since [[Set]] is a [[topos]], every [[morphism]], i.e. [[function]] $X \longrightarrow Y$ induces a [[base change]] [[adjoint triple]]

$$
  Set_{/X}
     \underoverset
       {\underset{f^\ast}{\longrightarrow}}
       {\overset{f_!}{\longrightarrow}}
       {\overset{f_\ast}{\longleftarrow}}
  Set_{/Y}
  \,.
$$

Here in the language of [[type theory]]

1. the [[left adjoint]] $f_!$ is also called the [[dependent sum]] 

1. the middle morphism is also called [[context extension]]

1. the [[right adjoint]] $f_\ast$ is also called the [[dependent product]].

All this restricts to the (-1)-truncated objects by composing the left adjoint with [[(-1)-truncation]]. Then one also says that we are looking at a morphism in a [[hyperdoctrine]] and (under [[propositions as types]]) may think of

1. the left adjoint $f_!$ as the [[existential quantifier]] $\exists_f$

1. the right adjoint $f_\ast$ as the [[universal quantifier]] $\forall_f$.


=--


## Related statements

* [[pre-images preserve unions and intersections]]

* [[countable unions of countable sets are countable]]



[[!redirects images preserve unions]]

[[!redirects the image of an intersection is contained in the intersection of the images]]
